(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function u(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=u(r);fetch(r.href,f)}})();function G0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Mr={exports:{}},bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function ip(){if(s0)return bi;s0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function u(s,r,f){var h=null;if(f!==void 0&&(h=""+f),r.key!==void 0&&(h=""+r.key),"key"in r){f={};for(var d in r)d!=="key"&&(f[d]=r[d])}else f=r;return r=f.ref,{$$typeof:l,type:s,key:h,ref:r!==void 0?r:null,props:f}}return bi.Fragment=i,bi.jsx=u,bi.jsxs=u,bi}var r0;function up(){return r0||(r0=1,Mr.exports=ip()),Mr.exports}var b=up(),Ar={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function cp(){if(o0)return jt;o0=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function _(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,E={};function Y(x,C,$){this.props=x,this.context=C,this.refs=E,this.updater=$||N}Y.prototype.isReactComponent={},Y.prototype.setState=function(x,C){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,C,"setState")},Y.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=Y.prototype;function T(x,C,$){this.props=x,this.context=C,this.refs=E,this.updater=$||N}var j=T.prototype=new z;j.constructor=T,K(j,Y.prototype),j.isPureReactComponent=!0;var A=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function I(x,C,$,Q,ot,pt){return $=pt.ref,{$$typeof:l,type:x,key:C,ref:$!==void 0?$:null,props:pt}}function et(x,C){return I(x.type,C,void 0,void 0,void 0,x.props)}function ht(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function ut(x){var C={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return C[$]})}var V=/\/+/g;function ct(x,C){return typeof x=="object"&&x!==null&&x.key!=null?ut(""+x.key):C.toString(36)}function Dt(){}function zt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Dt,Dt):(x.status="pending",x.then(function(C){x.status==="pending"&&(x.status="fulfilled",x.value=C)},function(C){x.status==="pending"&&(x.status="rejected",x.reason=C)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Yt(x,C,$,Q,ot){var pt=typeof x;(pt==="undefined"||pt==="boolean")&&(x=null);var ft=!1;if(x===null)ft=!0;else switch(pt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(x.$$typeof){case l:case i:ft=!0;break;case v:return ft=x._init,Yt(ft(x._payload),C,$,Q,ot)}}if(ft)return ot=ot(x),ft=Q===""?"."+ct(x,0):Q,A(ot)?($="",ft!=null&&($=ft.replace(V,"$&/")+"/"),Yt(ot,C,$,"",function(kt){return kt})):ot!=null&&(ht(ot)&&(ot=et(ot,$+(ot.key==null||x&&x.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+ft)),C.push(ot)),1;ft=0;var Ht=Q===""?".":Q+":";if(A(x))for(var St=0;St<x.length;St++)Q=x[St],pt=Ht+ct(Q,St),ft+=Yt(Q,C,$,pt,ot);else if(St=_(x),typeof St=="function")for(x=St.call(x),St=0;!(Q=x.next()).done;)Q=Q.value,pt=Ht+ct(Q,St++),ft+=Yt(Q,C,$,pt,ot);else if(pt==="object"){if(typeof x.then=="function")return Yt(zt(x),C,$,Q,ot);throw C=String(x),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ft}function k(x,C,$){if(x==null)return x;var Q=[],ot=0;return Yt(x,Q,"","",function(pt){return C.call($,pt,ot++)}),Q}function nt(x){if(x._status===-1){var C=x._result;C=C(),C.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=C)}if(x._status===1)return x._result.default;throw x._result}var O=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function it(){}return jt.Children={map:k,forEach:function(x,C,$){k(x,function(){C.apply(this,arguments)},$)},count:function(x){var C=0;return k(x,function(){C++}),C},toArray:function(x){return k(x,function(C){return C})||[]},only:function(x){if(!ht(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},jt.Component=Y,jt.Fragment=u,jt.Profiler=r,jt.PureComponent=T,jt.StrictMode=s,jt.Suspense=g,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,jt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return H.H.useMemoCache(x)}},jt.cache=function(x){return function(){return x.apply(null,arguments)}},jt.cloneElement=function(x,C,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=K({},x.props),ot=x.key,pt=void 0;if(C!=null)for(ft in C.ref!==void 0&&(pt=void 0),C.key!==void 0&&(ot=""+C.key),C)!B.call(C,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&C.ref===void 0||(Q[ft]=C[ft]);var ft=arguments.length-2;if(ft===1)Q.children=$;else if(1<ft){for(var Ht=Array(ft),St=0;St<ft;St++)Ht[St]=arguments[St+2];Q.children=Ht}return I(x.type,ot,void 0,void 0,pt,Q)},jt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},jt.createElement=function(x,C,$){var Q,ot={},pt=null;if(C!=null)for(Q in C.key!==void 0&&(pt=""+C.key),C)B.call(C,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ot[Q]=C[Q]);var ft=arguments.length-2;if(ft===1)ot.children=$;else if(1<ft){for(var Ht=Array(ft),St=0;St<ft;St++)Ht[St]=arguments[St+2];ot.children=Ht}if(x&&x.defaultProps)for(Q in ft=x.defaultProps,ft)ot[Q]===void 0&&(ot[Q]=ft[Q]);return I(x,pt,void 0,void 0,null,ot)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(x){return{$$typeof:d,render:x}},jt.isValidElement=ht,jt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:nt}},jt.memo=function(x,C){return{$$typeof:m,type:x,compare:C===void 0?null:C}},jt.startTransition=function(x){var C=H.T,$={};H.T=$;try{var Q=x(),ot=H.S;ot!==null&&ot($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(it,O)}catch(pt){O(pt)}finally{H.T=C}},jt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},jt.use=function(x){return H.H.use(x)},jt.useActionState=function(x,C,$){return H.H.useActionState(x,C,$)},jt.useCallback=function(x,C){return H.H.useCallback(x,C)},jt.useContext=function(x){return H.H.useContext(x)},jt.useDebugValue=function(){},jt.useDeferredValue=function(x,C){return H.H.useDeferredValue(x,C)},jt.useEffect=function(x,C,$){var Q=H.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(x,C)},jt.useId=function(){return H.H.useId()},jt.useImperativeHandle=function(x,C,$){return H.H.useImperativeHandle(x,C,$)},jt.useInsertionEffect=function(x,C){return H.H.useInsertionEffect(x,C)},jt.useLayoutEffect=function(x,C){return H.H.useLayoutEffect(x,C)},jt.useMemo=function(x,C){return H.H.useMemo(x,C)},jt.useOptimistic=function(x,C){return H.H.useOptimistic(x,C)},jt.useReducer=function(x,C,$){return H.H.useReducer(x,C,$)},jt.useRef=function(x){return H.H.useRef(x)},jt.useState=function(x){return H.H.useState(x)},jt.useSyncExternalStore=function(x,C,$){return H.H.useSyncExternalStore(x,C,$)},jt.useTransition=function(){return H.H.useTransition()},jt.version="19.1.0",jt}var f0;function Kr(){return f0||(f0=1,Ar.exports=cp()),Ar.exports}var at=Kr();const za=G0(at);var zr={exports:{}},Si={},Tr={exports:{}},Dr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function sp(){return h0||(h0=1,function(l){function i(k,nt){var O=k.length;k.push(nt);t:for(;0<O;){var it=O-1>>>1,x=k[it];if(0<r(x,nt))k[it]=nt,k[O]=x,O=it;else break t}}function u(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var nt=k[0],O=k.pop();if(O!==nt){k[0]=O;t:for(var it=0,x=k.length,C=x>>>1;it<C;){var $=2*(it+1)-1,Q=k[$],ot=$+1,pt=k[ot];if(0>r(Q,O))ot<x&&0>r(pt,Q)?(k[it]=pt,k[ot]=O,it=ot):(k[it]=Q,k[$]=O,it=$);else if(ot<x&&0>r(pt,O))k[it]=pt,k[ot]=O,it=ot;else break t}}return nt}function r(k,nt){var O=k.sortIndex-nt.sortIndex;return O!==0?O:k.id-nt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var g=[],m=[],v=1,S=null,_=3,N=!1,K=!1,E=!1,Y=!1,z=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function A(k){for(var nt=u(m);nt!==null;){if(nt.callback===null)s(m);else if(nt.startTime<=k)s(m),nt.sortIndex=nt.expirationTime,i(g,nt);else break;nt=u(m)}}function H(k){if(E=!1,A(k),!K)if(u(g)!==null)K=!0,B||(B=!0,ct());else{var nt=u(m);nt!==null&&Yt(H,nt.startTime-k)}}var B=!1,I=-1,et=5,ht=-1;function ut(){return Y?!0:!(l.unstable_now()-ht<et)}function V(){if(Y=!1,B){var k=l.unstable_now();ht=k;var nt=!0;try{t:{K=!1,E&&(E=!1,T(I),I=-1),N=!0;var O=_;try{e:{for(A(k),S=u(g);S!==null&&!(S.expirationTime>k&&ut());){var it=S.callback;if(typeof it=="function"){S.callback=null,_=S.priorityLevel;var x=it(S.expirationTime<=k);if(k=l.unstable_now(),typeof x=="function"){S.callback=x,A(k),nt=!0;break e}S===u(g)&&s(g),A(k)}else s(g);S=u(g)}if(S!==null)nt=!0;else{var C=u(m);C!==null&&Yt(H,C.startTime-k),nt=!1}}break t}finally{S=null,_=O,N=!1}nt=void 0}}finally{nt?ct():B=!1}}}var ct;if(typeof j=="function")ct=function(){j(V)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,zt=Dt.port2;Dt.port1.onmessage=V,ct=function(){zt.postMessage(null)}}else ct=function(){z(V,0)};function Yt(k,nt){I=z(function(){k(l.unstable_now())},nt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(k){switch(_){case 1:case 2:case 3:var nt=3;break;default:nt=_}var O=_;_=nt;try{return k()}finally{_=O}},l.unstable_requestPaint=function(){Y=!0},l.unstable_runWithPriority=function(k,nt){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var O=_;_=k;try{return nt()}finally{_=O}},l.unstable_scheduleCallback=function(k,nt,O){var it=l.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?it+O:it):O=it,k){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=O+x,k={id:v++,callback:nt,priorityLevel:k,startTime:O,expirationTime:x,sortIndex:-1},O>it?(k.sortIndex=O,i(m,k),u(g)===null&&k===u(m)&&(E?(T(I),I=-1):E=!0,Yt(H,O-it))):(k.sortIndex=x,i(g,k),K||N||(K=!0,B||(B=!0,ct()))),k},l.unstable_shouldYield=ut,l.unstable_wrapCallback=function(k){var nt=_;return function(){var O=_;_=nt;try{return k.apply(this,arguments)}finally{_=O}}}}(Dr)),Dr}var d0;function rp(){return d0||(d0=1,Tr.exports=sp()),Tr.exports}var Cr={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function op(){if(y0)return Te;y0=1;var l=Kr();function i(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var s={d:{f:u,r:function(){throw Error(i(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(g,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:g,containerInfo:m,implementation:v}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Te.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return f(g,m,null,v)},Te.flushSync=function(g){var m=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=m,s.p=v,s.d.f()}},Te.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},Te.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Te.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,S=d(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:N}):v==="script"&&s.d.X(g,{crossOrigin:S,integrity:_,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Te.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},Te.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=d(v,m.crossOrigin);s.d.L(g,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Te.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},Te.requestFormReset=function(g){s.d.r(g)},Te.unstable_batchedUpdates=function(g,m){return g(m)},Te.useFormState=function(g,m,v){return h.H.useFormState(g,m,v)},Te.useFormStatus=function(){return h.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var m0;function fp(){if(m0)return Cr.exports;m0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Cr.exports=op(),Cr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function hp(){if(g0)return Si;g0=1;var l=rp(),i=Kr(),u=fp();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d(t){if(f(t)!==t)throw Error(s(188))}function g(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var n=t,a=e;;){var c=n.return;if(c===null)break;var o=c.alternate;if(o===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===o.child){for(o=c.child;o;){if(o===n)return d(c),t;if(o===a)return d(c),e;o=o.sibling}throw Error(s(188))}if(n.return!==a.return)n=c,a=o;else{for(var y=!1,p=c.child;p;){if(p===n){y=!0,n=c,a=o;break}if(p===a){y=!0,a=c,n=o;break}p=p.sibling}if(!y){for(p=o.child;p;){if(p===n){y=!0,n=o,a=c;break}if(p===a){y=!0,a=o,n=c;break}p=p.sibling}if(!y)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?t:e}function m(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=m(t),e!==null)return e;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),j=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ct(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Dt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case Y:return"Profiler";case E:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList";case ht:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case j:return(t.displayName||"Context")+".Provider";case T:return(t._context.displayName||"Context")+".Consumer";case A:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return e=t.displayName||null,e!==null?e:zt(t.type)||"Memo";case et:e=t._payload,t=t._init;try{return zt(t(e))}catch{}}return null}var Yt=Array.isArray,k=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},it=[],x=-1;function C(t){return{current:t}}function $(t){0>x||(t.current=it[x],it[x]=null,x--)}function Q(t,e){x++,it[x]=t.current,t.current=e}var ot=C(null),pt=C(null),ft=C(null),Ht=C(null);function St(t,e){switch(Q(ft,e),Q(pt,t),Q(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Hd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Hd(e),t=Ld(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ot),Q(ot,t)}function kt(){$(ot),$(pt),$(ft)}function Ct(t){t.memoizedState!==null&&Q(Ht,t);var e=ot.current,n=Ld(e,t.type);e!==n&&(Q(pt,t),Q(ot,n))}function Vt(t){pt.current===t&&($(ot),$(pt)),Ht.current===t&&($(Ht),mi._currentValue=O)}var ae=Object.prototype.hasOwnProperty,It=l.unstable_scheduleCallback,$t=l.unstable_cancelCallback,De=l.unstable_shouldYield,D=l.unstable_requestPaint,P=l.unstable_now,tt=l.unstable_getCurrentPriorityLevel,lt=l.unstable_ImmediatePriority,dt=l.unstable_UserBlockingPriority,st=l.unstable_NormalPriority,mt=l.unstable_LowPriority,vt=l.unstable_IdlePriority,Nt=l.log,xt=l.unstable_setDisableYieldValue,_t=null,U=null;function q(t){if(typeof Nt=="function"&&xt(t),U&&typeof U.setStrictMode=="function")try{U.setStrictMode(_t,t)}catch{}}var rt=Math.clz32?Math.clz32:Ot,yt=Math.log,Rt=Math.LN2;function Ot(t){return t>>>=0,t===0?32:31-(yt(t)/Rt|0)|0}var Mt=256,de=4194304;function Wt(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _e(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var c=0,o=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var p=a&134217727;return p!==0?(a=p&~o,a!==0?c=Wt(a):(y&=p,y!==0?c=Wt(y):n||(n=p&~t,n!==0&&(c=Wt(n))))):(p=a&~o,p!==0?c=Wt(p):y!==0?c=Wt(y):n||(n=a&~t,n!==0&&(c=Wt(n)))),c===0?0:e!==0&&e!==c&&(e&o)===0&&(o=c&-c,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:c}function we(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Nl(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var t=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),t}function ja(){var t=de;return de<<=1,(de&62914560)===0&&(de=4194304),t}function mc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $y(t,e,n,a,c,o){var y=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var p=t.entanglements,w=t.expirationTimes,X=t.hiddenUpdates;for(n=y&~n;0<n;){var J=31-rt(n),F=1<<J;p[J]=0,w[J]=-1;var G=X[J];if(G!==null)for(X[J]=null,J=0;J<G.length;J++){var Z=G[J];Z!==null&&(Z.lane&=-536870913)}n&=~F}a!==0&&bo(t,a,0),o!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=o&~(y&~e))}function bo(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-rt(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&4194090}function So(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-rt(n),c=1<<a;c&e|t[a]&e&&(t[a]|=e),n&=~c}}function gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _o(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:n0(t.type))}function Ky(t,e){var n=nt.p;try{return nt.p=t,e()}finally{nt.p=n}}var Xn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Xn,Ue="__reactProps$"+Xn,Ua="__reactContainer$"+Xn,vc="__reactEvents$"+Xn,Jy="__reactListeners$"+Xn,Iy="__reactHandles$"+Xn,wo="__reactResources$"+Xn,Ml="__reactMarker$"+Xn;function xc(t){delete t[Ae],delete t[Ue],delete t[vc],delete t[Jy],delete t[Iy]}function Ha(t){var e=t[Ae];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ua]||n[Ae]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bd(t);t!==null;){if(n=t[Ae])return n;t=Bd(t)}return e}t=n,n=t.parentNode}return null}function La(t){if(t=t[Ae]||t[Ua]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Al(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function Ya(t){var e=t[wo];return e||(e=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ve(t){t[Ml]=!0}var No=new Set,Eo={};function fa(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(Eo[t]=e,t=0;t<e.length;t++)No.add(e[t])}var Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Ao={};function Fy(t){return ae.call(Ao,t)?!0:ae.call(Mo,t)?!1:Wy.test(t)?Ao[t]=!0:(Mo[t]=!0,!1)}function Li(t,e,n){if(Fy(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Yi(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function _n(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}var bc,zo;function qa(t){if(bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||"",zo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bc+t+zo}var Sc=!1;function _c(t,e){if(!t||Sc)return"";Sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(Z){var G=Z}Reflect.construct(t,[],F)}else{try{F.call()}catch(Z){G=Z}t.call(F.prototype)}}else{try{throw Error()}catch(Z){G=Z}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(Z){if(Z&&G&&typeof Z.stack=="string")return[Z.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),y=o[0],p=o[1];if(y&&p){var w=y.split(`
`),X=p.split(`
`);for(c=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;if(a===w.length||c===X.length)for(a=w.length-1,c=X.length-1;1<=a&&0<=c&&w[a]!==X[c];)c--;for(;1<=a&&0<=c;a--,c--)if(w[a]!==X[c]){if(a!==1||c!==1)do if(a--,c--,0>c||w[a]!==X[c]){var J=`
`+w[a].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=a&&0<=c);break}}}finally{Sc=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?qa(n):""}function Py(t){switch(t.tag){case 26:case 27:case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return _c(t.type,!1);case 11:return _c(t.type.render,!1);case 1:return _c(t.type,!0);case 31:return qa("Activity");default:return""}}function To(t){try{var e="";do e+=Py(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tm(t){var e=Do(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(y){a=""+y,o.call(this,y)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xi(t){t._valueTracker||(t._valueTracker=tm(t))}function Co(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Do(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var em=/[\n"\\]/g;function Je(t){return t.replace(em,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wc(t,e,n,a,c,o,y,p){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ke(e)):t.value!==""+Ke(e)&&(t.value=""+Ke(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?Nc(t,y,Ke(e)):n!=null?Nc(t,y,Ke(n)):a!=null&&t.removeAttribute("value"),c==null&&o!=null&&(t.defaultChecked=!!o),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Ke(p):t.removeAttribute("name")}function Ro(t,e,n,a,c,o,y,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+Ke(n):"",e=e!=null?""+Ke(e):n,p||e===t.value||(t.value=e),t.defaultValue=e}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=p?t.checked:!!a,t.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Nc(t,e,n){e==="number"&&qi(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ba(t,e,n,a){if(t=t.options,e){e={};for(var c=0;c<n.length;c++)e["$"+n[c]]=!0;for(n=0;n<t.length;n++)c=e.hasOwnProperty("$"+t[n].value),t[n].selected!==c&&(t[n].selected=c),c&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Ke(n),e=null,c=0;c<t.length;c++){if(t[c].value===n){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Oo(t,e,n){if(e!=null&&(e=""+Ke(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ke(n):""}function jo(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(s(92));if(Yt(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=Ke(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a)}function Ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||nm.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ho(t,e,n){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var c in e)a=e[c],e.hasOwnProperty(c)&&n[c]!==a&&Uo(t,c,a)}else for(var o in e)e.hasOwnProperty(o)&&Uo(t,o,e[o])}function Ec(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(t){return lm.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mc=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,Za=null;function Lo(t){var e=La(t);if(e&&(t=e.stateNode)){var n=t[Ue]||null;t:switch(t=e.stateNode,e.type){case"input":if(wc(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Je(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var c=a[Ue]||null;if(!c)throw Error(s(90));wc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Co(a)}break t;case"textarea":Oo(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}}}var zc=!1;function Yo(t,e,n){if(zc)return t(e,n);zc=!0;try{var a=t(e);return a}finally{if(zc=!1,(Va!==null||Za!==null)&&(Mu(),Va&&(e=Va,t=Za,Za=Va=null,Lo(e),t)))for(e=0;e<t.length;e++)Lo(t[e])}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Ue]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(s(231,e,typeof n));return n}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(wn)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Tc=!1}var qn=null,Dc=null,Gi=null;function Xo(){if(Gi)return Gi;var t,e=Dc,n=e.length,a,c="value"in qn?qn.value:qn.textContent,o=c.length;for(t=0;t<n&&e[t]===c[t];t++);var y=n-t;for(a=1;a<=y&&e[n-a]===c[o-a];a++);return Gi=c.slice(t,1<a?1-a:void 0)}function Vi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function qo(){return!1}function He(t){function e(n,a,c,o,y){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=o,this.target=y,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(n=t[p],this[p]=n?n(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zi:qo,this.isPropagationStopped=qo,this}return v(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=He(ha),Dl=v({},ha,{view:0,detail:0}),im=He(Dl),Cc,Rc,Cl,ki=v({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(Cc=t.screenX-Cl.screenX,Rc=t.screenY-Cl.screenY):Rc=Cc=0,Cl=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),Bo=He(ki),um=v({},ki,{dataTransfer:0}),cm=He(um),sm=v({},Dl,{relatedTarget:0}),Oc=He(sm),rm=v({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),om=He(rm),fm=v({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hm=He(fm),dm=v({},ha,{data:0}),Go=He(dm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gm[t])?!!e[t]:!1}function jc(){return pm}var vm=v({},Dl,{key:function(t){if(t.key){var e=ym[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xm=He(vm),bm=v({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=He(bm),Sm=v({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),_m=He(Sm),wm=v({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=He(wm),Em=v({},ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=He(Em),Am=v({},ha,{newState:0,oldState:0}),zm=He(Am),Tm=[9,13,27,32],Uc=wn&&"CompositionEvent"in window,Rl=null;wn&&"documentMode"in document&&(Rl=document.documentMode);var Dm=wn&&"TextEvent"in window&&!Rl,Zo=wn&&(!Uc||Rl&&8<Rl&&11>=Rl),Qo=" ",ko=!1;function $o(t,e){switch(t){case"keyup":return Tm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Cm(t,e){switch(t){case"compositionend":return Ko(e);case"keypress":return e.which!==32?null:(ko=!0,Qo);case"textInput":return t=e.data,t===Qo&&ko?null:t;default:return null}}function Rm(t,e){if(Qa)return t==="compositionend"||!Uc&&$o(t,e)?(t=Xo(),Gi=Dc=qn=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zo&&e.locale!=="ko"?null:e.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Om[t.type]:e==="textarea"}function Io(t,e,n,a){Va?Za?Za.push(a):Za=[a]:Va=a,e=Ru(e,"onChange"),0<e.length&&(n=new Qi("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var Ol=null,jl=null;function jm(t){Cd(t,0)}function $i(t){var e=Al(t);if(Co(e))return t}function Wo(t,e){if(t==="change")return e}var Fo=!1;if(wn){var Hc;if(wn){var Lc="oninput"in document;if(!Lc){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),Lc=typeof Po.oninput=="function"}Hc=Lc}else Hc=!1;Fo=Hc&&(!document.documentMode||9<document.documentMode)}function tf(){Ol&&(Ol.detachEvent("onpropertychange",ef),jl=Ol=null)}function ef(t){if(t.propertyName==="value"&&$i(jl)){var e=[];Io(e,jl,t,Ac(t)),Yo(jm,e)}}function Um(t,e,n){t==="focusin"?(tf(),Ol=e,jl=n,Ol.attachEvent("onpropertychange",ef)):t==="focusout"&&tf()}function Hm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $i(jl)}function Lm(t,e){if(t==="click")return $i(e)}function Ym(t,e){if(t==="input"||t==="change")return $i(e)}function Xm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Be=typeof Object.is=="function"?Object.is:Xm;function Ul(t,e){if(Be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!ae.call(e,c)||!Be(t[c],e[c]))return!1}return!0}function nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,e){var n=nf(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=nf(n)}}function lf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=qi(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qi(t.document)}return e}function Yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qm=wn&&"documentMode"in document&&11>=document.documentMode,ka=null,Xc=null,Hl=null,qc=!1;function cf(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qc||ka==null||ka!==qi(a)||(a=ka,"selectionStart"in a&&Yc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Hl&&Ul(Hl,a)||(Hl=a,a=Ru(Xc,"onSelect"),0<a.length&&(e=new Qi("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=ka)))}function da(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $a={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Bc={},sf={};wn&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ya(t){if(Bc[t])return Bc[t];if(!$a[t])return t;var e=$a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sf)return Bc[t]=e[n];return t}var rf=ya("animationend"),of=ya("animationiteration"),ff=ya("animationstart"),Bm=ya("transitionrun"),Gm=ya("transitionstart"),Vm=ya("transitioncancel"),hf=ya("transitionend"),df=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function ln(t,e){df.set(t,e),fa(e,[t])}var yf=new WeakMap;function Ie(t,e){if(typeof t=="object"&&t!==null){var n=yf.get(t);return n!==void 0?n:(e={value:t,source:e,stack:To(e)},yf.set(t,e),e)}return{value:t,source:e,stack:To(e)}}var We=[],Ka=0,Vc=0;function Ki(){for(var t=Ka,e=Vc=Ka=0;e<t;){var n=We[e];We[e++]=null;var a=We[e];We[e++]=null;var c=We[e];We[e++]=null;var o=We[e];if(We[e++]=null,a!==null&&c!==null){var y=a.pending;y===null?c.next=c:(c.next=y.next,y.next=c),a.pending=c}o!==0&&mf(n,c,o)}}function Ji(t,e,n,a){We[Ka++]=t,We[Ka++]=e,We[Ka++]=n,We[Ka++]=a,Vc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Zc(t,e,n,a){return Ji(t,e,n,a),Ii(t)}function Ja(t,e){return Ji(t,null,null,e),Ii(t)}function mf(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var c=!1,o=t.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(c=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,c&&e!==null&&(c=31-rt(n),t=o.hiddenUpdates,a=t[c],a===null?t[c]=[e]:a.push(e),e.lane=n|536870912),o):null}function Ii(t){if(50<ci)throw ci=0,Is=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ia={};function Zm(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,a){return new Zm(t,e,n,a)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nn(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function gf(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Wi(t,e,n,a,c,o){var y=0;if(a=t,typeof t=="function")Qc(t)&&(y=1);else if(typeof t=="string")y=kg(t,n,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ht:return t=Ge(31,n,e,c),t.elementType=ht,t.lanes=o,t;case K:return ma(n.children,c,o,e);case E:y=8,c|=24;break;case Y:return t=Ge(12,n,e,c|2),t.elementType=Y,t.lanes=o,t;case H:return t=Ge(13,n,e,c),t.elementType=H,t.lanes=o,t;case B:return t=Ge(19,n,e,c),t.elementType=B,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:case j:y=10;break t;case T:y=9;break t;case A:y=11;break t;case I:y=14;break t;case et:y=16,a=null;break t}y=29,n=Error(s(130,t===null?"null":typeof t,"")),a=null}return e=Ge(y,n,e,c),e.elementType=t,e.type=a,e.lanes=o,e}function ma(t,e,n,a){return t=Ge(7,t,a,e),t.lanes=n,t}function kc(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function $c(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Wa=[],Fa=0,Fi=null,Pi=0,Fe=[],Pe=0,ga=null,En=1,Mn="";function pa(t,e){Wa[Fa++]=Pi,Wa[Fa++]=Fi,Fi=t,Pi=e}function pf(t,e,n){Fe[Pe++]=En,Fe[Pe++]=Mn,Fe[Pe++]=ga,ga=t;var a=En;t=Mn;var c=32-rt(a)-1;a&=~(1<<c),n+=1;var o=32-rt(e)+c;if(30<o){var y=c-c%5;o=(a&(1<<y)-1).toString(32),a>>=y,c-=y,En=1<<32-rt(e)+c|n<<c|a,Mn=o+t}else En=1<<o|n<<c|a,Mn=t}function Kc(t){t.return!==null&&(pa(t,1),pf(t,1,0))}function Jc(t){for(;t===Fi;)Fi=Wa[--Fa],Wa[Fa]=null,Pi=Wa[--Fa],Wa[Fa]=null;for(;t===ga;)ga=Fe[--Pe],Fe[Pe]=null,Mn=Fe[--Pe],Fe[Pe]=null,En=Fe[--Pe],Fe[Pe]=null}var Ce=null,ue=null,Qt=!1,va=null,hn=!1,Ic=Error(s(519));function xa(t){var e=Error(s(418,""));throw Xl(Ie(e,t)),Ic}function vf(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[Ae]=t,e[Ue]=a,n){case"dialog":Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":case"embed":Bt("load",e);break;case"video":case"audio":for(n=0;n<ri.length;n++)Bt(ri[n],e);break;case"source":Bt("error",e);break;case"img":case"image":case"link":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"input":Bt("invalid",e),Ro(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Xi(e);break;case"select":Bt("invalid",e);break;case"textarea":Bt("invalid",e),jo(e,a.value,a.defaultValue,a.children),Xi(e)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Ud(e.textContent,n)?(a.popover!=null&&(Bt("beforetoggle",e),Bt("toggle",e)),a.onScroll!=null&&Bt("scroll",e),a.onScrollEnd!=null&&Bt("scrollend",e),a.onClick!=null&&(e.onclick=Ou),e=!0):e=!1,e||xa(t)}function xf(t){for(Ce=t.return;Ce;)switch(Ce.tag){case 5:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:Ce=Ce.return}}function Ll(t){if(t!==Ce)return!1;if(!Qt)return xf(t),Qt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||hr(t.type,t.memoizedProps)),n=!n),n&&ue&&xa(t),xf(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ue=cn(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ue=null}}else e===27?(e=ue,na(t.type)?(t=gr,gr=null,ue=t):ue=e):ue=Ce?cn(t.stateNode.nextSibling):null;return!0}function Yl(){ue=Ce=null,Qt=!1}function bf(){var t=va;return t!==null&&(Xe===null?Xe=t:Xe.push.apply(Xe,t),va=null),t}function Xl(t){va===null?va=[t]:va.push(t)}var Wc=C(null),ba=null,An=null;function Bn(t,e,n){Q(Wc,e._currentValue),e._currentValue=n}function zn(t){t._currentValue=Wc.current,$(Wc)}function Fc(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Pc(t,e,n,a){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var o=c.dependencies;if(o!==null){var y=c.child;o=o.firstContext;t:for(;o!==null;){var p=o;o=c;for(var w=0;w<e.length;w++)if(p.context===e[w]){o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Fc(o.return,n,t),a||(y=null);break t}o=p.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=n,o=y.alternate,o!==null&&(o.lanes|=n),Fc(y,n,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ql(t,e,n,a){t=null;for(var c=e,o=!1;c!==null;){if(!o){if((c.flags&524288)!==0)o=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var p=c.type;Be(c.pendingProps.value,y.value)||(t!==null?t.push(p):t=[p])}}else if(c===Ht.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(mi):t=[mi])}c=c.return}t!==null&&Pc(e,t,n,a),e.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!Be(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){ba=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return Sf(ba,t)}function eu(t,e){return ba===null&&Sa(t),Sf(t,e)}function Sf(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},An===null){if(t===null)throw Error(s(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return n}var Qm=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},km=l.unstable_scheduleCallback,$m=l.unstable_NormalPriority,ye={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ts(){return{controller:new Qm,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&km($m,function(){t.controller.abort()})}var Gl=null,es=0,Pa=0,tl=null;function Km(t,e){if(Gl===null){var n=Gl=[];es=0,Pa=ar(),tl={status:"pending",value:void 0,then:function(a){n.push(a)}}}return es++,e.then(_f,_f),e}function _f(){if(--es===0&&Gl!==null){tl!==null&&(tl.status="fulfilled");var t=Gl;Gl=null,Pa=0,tl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Jm(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var c=0;c<n.length;c++)(0,n[c])(e)},function(c){for(a.status="rejected",a.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),a}var wf=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Km(t,e),wf!==null&&wf(t,e)};var _a=C(null);function ns(){var t=_a.current;return t!==null?t:ne.pooledCache}function nu(t,e){e===null?Q(_a,_a.current):Q(_a,e.pool)}function Nf(){var t=ns();return t===null?null:{parent:ye._currentValue,pool:t}}var Vl=Error(s(460)),Ef=Error(s(474)),au=Error(s(542)),as={then:function(){}};function Mf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function Af(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(lu,lu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Tf(t),t;default:if(typeof e.status=="string")e.then(lu,lu);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=a}},function(a){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Tf(t),t}throw Zl=e,Vl}}var Zl=null;function zf(){if(Zl===null)throw Error(s(459));var t=Zl;return Zl=null,t}function Tf(t){if(t===Vl||t===au)throw Error(s(483))}var Gn=!1;function ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Kt&2)!==0){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,e=Ii(t),mf(t,null,n),e}return Ji(t,a,e,n),Ii(t)}function Ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,So(t,n)}}function us(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?c=o=y:o=o.next=y,n=n.next}while(n!==null);o===null?c=o=e:o=o.next=e}else c=o=e;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var cs=!1;function kl(){if(cs){var t=tl;if(t!==null)throw t}}function $l(t,e,n,a){cs=!1;var c=t.updateQueue;Gn=!1;var o=c.firstBaseUpdate,y=c.lastBaseUpdate,p=c.shared.pending;if(p!==null){c.shared.pending=null;var w=p,X=w.next;w.next=null,y===null?o=X:y.next=X,y=w;var J=t.alternate;J!==null&&(J=J.updateQueue,p=J.lastBaseUpdate,p!==y&&(p===null?J.firstBaseUpdate=X:p.next=X,J.lastBaseUpdate=w))}if(o!==null){var F=c.baseState;y=0,J=X=w=null,p=o;do{var G=p.lane&-536870913,Z=G!==p.lane;if(Z?(Gt&G)===G:(a&G)===G){G!==0&&G===Pa&&(cs=!0),J!==null&&(J=J.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});t:{var Tt=t,Et=p;G=e;var te=n;switch(Et.tag){case 1:if(Tt=Et.payload,typeof Tt=="function"){F=Tt.call(te,F,G);break t}F=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Et.payload,G=typeof Tt=="function"?Tt.call(te,F,G):Tt,G==null)break t;F=v({},F,G);break t;case 2:Gn=!0}}G=p.callback,G!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=c.callbacks,Z===null?c.callbacks=[G]:Z.push(G))}else Z={lane:G,tag:p.tag,payload:p.payload,callback:p.callback,next:null},J===null?(X=J=Z,w=F):J=J.next=Z,y|=G;if(p=p.next,p===null){if(p=c.shared.pending,p===null)break;Z=p,p=Z.next,Z.next=null,c.lastBaseUpdate=Z,c.shared.pending=null}}while(!0);J===null&&(w=F),c.baseState=w,c.firstBaseUpdate=X,c.lastBaseUpdate=J,o===null&&(c.shared.lanes=0),Fn|=y,t.lanes=y,t.memoizedState=F}}function Df(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function Cf(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Df(n[t],e)}var el=C(null),iu=C(0);function Rf(t,e){t=Un,Q(iu,t),Q(el,e),Un=t|e.baseLanes}function ss(){Q(iu,Un),Q(el,el.current)}function rs(){Un=iu.current,$(el),$(iu)}var Qn=0,Lt=null,Ft=null,oe=null,uu=!1,nl=!1,wa=!1,cu=0,Kl=0,al=null,Im=0;function se(){throw Error(s(321))}function os(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Be(t[n],e[n]))return!1;return!0}function fs(t,e,n,a,c,o){return Qn=o,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?mh:gh,wa=!1,o=n(a,c),wa=!1,nl&&(o=jf(e,n,a,c)),Of(t),o}function Of(t){k.H=du;var e=Ft!==null&&Ft.next!==null;if(Qn=0,oe=Ft=Lt=null,uu=!1,Kl=0,al=null,e)throw Error(s(300));t===null||xe||(t=t.dependencies,t!==null&&tu(t)&&(xe=!0))}function jf(t,e,n,a){Lt=t;var c=0;do{if(nl&&(al=null),Kl=0,nl=!1,25<=c)throw Error(s(301));if(c+=1,oe=Ft=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=ag,o=e(n,a)}while(nl);return o}function Wm(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?Jl(e):e,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Lt.flags|=1024),e}function hs(){var t=cu!==0;return cu=0,t}function ds(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ys(t){if(uu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}uu=!1}Qn=0,oe=Ft=Lt=null,nl=!1,Kl=cu=0,al=null}function Le(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Lt.memoizedState=oe=t:oe=oe.next=t,oe}function fe(){if(Ft===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=oe===null?Lt.memoizedState:oe.next;if(e!==null)oe=e,Ft=t;else{if(t===null)throw Lt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},oe===null?Lt.memoizedState=oe=t:oe=oe.next=t}return oe}function ms(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(t){var e=Kl;return Kl+=1,al===null&&(al=[]),t=Af(al,t,e),e=Lt,(oe===null?e.memoizedState:oe.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?mh:gh),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jl(t);if(t.$$typeof===j)return ze(t)}throw Error(s(438,String(t)))}function gs(t){var e=null,n=Lt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Lt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ms(),Lt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=ut;return e.index++,n}function Tn(t,e){return typeof e=="function"?e(t):e}function ru(t){var e=fe();return ps(e,Ft,t)}function ps(t,e,n){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=t.baseQueue,o=a.pending;if(o!==null){if(c!==null){var y=c.next;c.next=o.next,o.next=y}e.baseQueue=c=o,a.pending=null}if(o=t.baseState,c===null)t.memoizedState=o;else{e=c.next;var p=y=null,w=null,X=e,J=!1;do{var F=X.lane&-536870913;if(F!==X.lane?(Gt&F)===F:(Qn&F)===F){var G=X.revertLane;if(G===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),F===Pa&&(J=!0);else if((Qn&G)===G){X=X.next,G===Pa&&(J=!0);continue}else F={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},w===null?(p=w=F,y=o):w=w.next=F,Lt.lanes|=G,Fn|=G;F=X.action,wa&&n(o,F),o=X.hasEagerState?X.eagerState:n(o,F)}else G={lane:F,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},w===null?(p=w=G,y=o):w=w.next=G,Lt.lanes|=F,Fn|=F;X=X.next}while(X!==null&&X!==e);if(w===null?y=o:w.next=p,!Be(o,t.memoizedState)&&(xe=!0,J&&(n=tl,n!==null)))throw n;t.memoizedState=o,t.baseState=y,t.baseQueue=w,a.lastRenderedState=o}return c===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function vs(t){var e=fe(),n=e.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=t;var a=n.dispatch,c=n.pending,o=e.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do o=t(o,y.action),y=y.next;while(y!==c);Be(o,e.memoizedState)||(xe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,a]}function Uf(t,e,n){var a=Lt,c=fe(),o=Qt;if(o){if(n===void 0)throw Error(s(407));n=n()}else n=e();var y=!Be((Ft||c).memoizedState,n);y&&(c.memoizedState=n,xe=!0),c=c.queue;var p=Yf.bind(null,a,c,t);if(Il(2048,8,p,[t]),c.getSnapshot!==e||y||oe!==null&&oe.memoizedState.tag&1){if(a.flags|=2048,ll(9,ou(),Lf.bind(null,a,c,n,e),null),ne===null)throw Error(s(349));o||(Qn&124)!==0||Hf(a,e,n)}return n}function Hf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e=ms(),Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lf(t,e,n,a){e.value=n,e.getSnapshot=a,Xf(e)&&qf(t)}function Yf(t,e,n){return n(function(){Xf(e)&&qf(t)})}function Xf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Be(t,n)}catch{return!0}}function qf(t){var e=Ja(t,2);e!==null&&$e(e,t,2)}function xs(t){var e=Le();if(typeof t=="function"){var n=t;if(t=n(),wa){q(!0);try{n()}finally{q(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:t},e}function Bf(t,e,n,a){return t.baseState=n,ps(t,Ft,typeof a=="function"?a:Tn)}function Fm(t,e,n,a,c){if(hu(t))throw Error(s(485));if(t=e.action,t!==null){var o={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){o.listeners.push(y)}};k.T!==null?n(!0):o.isTransition=!1,a(o),n=e.pending,n===null?(o.next=e.pending=o,Gf(e,o)):(o.next=n.next,e.pending=n.next=o)}}function Gf(t,e){var n=e.action,a=e.payload,c=t.state;if(e.isTransition){var o=k.T,y={};k.T=y;try{var p=n(c,a),w=k.S;w!==null&&w(y,p),Vf(t,e,p)}catch(X){bs(t,e,X)}finally{k.T=o}}else try{o=n(c,a),Vf(t,e,o)}catch(X){bs(t,e,X)}}function Vf(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Zf(t,e,a)},function(a){return bs(t,e,a)}):Zf(t,e,n)}function Zf(t,e,n){e.status="fulfilled",e.value=n,Qf(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Gf(t,n)))}function bs(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Qf(e),e=e.next;while(e!==a)}t.action=null}function Qf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function kf(t,e){return e}function $f(t,e){if(Qt){var n=ne.formState;if(n!==null){t:{var a=Lt;if(Qt){if(ue){e:{for(var c=ue,o=hn;c.nodeType!==8;){if(!o){c=null;break e}if(c=cn(c.nextSibling),c===null){c=null;break e}}o=c.data,c=o==="F!"||o==="F"?c:null}if(c){ue=cn(c.nextSibling),a=c.data==="F!";break t}}xa(a)}a=!1}a&&(e=n[0])}}return n=Le(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:e},n.queue=a,n=hh.bind(null,Lt,a),a.dispatch=n,a=xs(!1),o=Es.bind(null,Lt,!1,a.queue),a=Le(),c={state:e,dispatch:null,action:t,pending:null},a.queue=c,n=Fm.bind(null,Lt,c,o,n),c.dispatch=n,a.memoizedState=t,[e,n,!1]}function Kf(t){var e=fe();return Jf(e,Ft,t)}function Jf(t,e,n){if(e=ps(t,e,kf)[0],t=ru(Tn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Jl(e)}catch(y){throw y===Vl?au:y}else a=e;e=fe();var c=e.queue,o=c.dispatch;return n!==e.memoizedState&&(Lt.flags|=2048,ll(9,ou(),Pm.bind(null,c,n),null)),[a,o,t]}function Pm(t,e){t.action=e}function If(t){var e=fe(),n=Ft;if(n!==null)return Jf(e,n,t);fe(),e=e.memoizedState,n=fe();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function ll(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Lt.updateQueue,e===null&&(e=ms(),Lt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function ou(){return{destroy:void 0,resource:void 0}}function Wf(){return fe().memoizedState}function fu(t,e,n,a){var c=Le();a=a===void 0?null:a,Lt.flags|=t,c.memoizedState=ll(1|e,ou(),n,a)}function Il(t,e,n,a){var c=fe();a=a===void 0?null:a;var o=c.memoizedState.inst;Ft!==null&&a!==null&&os(a,Ft.memoizedState.deps)?c.memoizedState=ll(e,o,n,a):(Lt.flags|=t,c.memoizedState=ll(1|e,o,n,a))}function Ff(t,e){fu(8390656,8,t,e)}function Pf(t,e){Il(2048,8,t,e)}function th(t,e){return Il(4,2,t,e)}function eh(t,e){return Il(4,4,t,e)}function nh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ah(t,e,n){n=n!=null?n.concat([t]):null,Il(4,4,nh.bind(null,e,t),n)}function Ss(){}function lh(t,e){var n=fe();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&os(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function ih(t,e){var n=fe();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&os(e,a[1]))return a[0];if(a=t(),wa){q(!0);try{t()}finally{q(!1)}}return n.memoizedState=[a,e],a}function _s(t,e,n){return n===void 0||(Qn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=sd(),Lt.lanes|=t,Fn|=t,n)}function uh(t,e,n,a){return Be(n,e)?n:el.current!==null?(t=_s(t,n,a),Be(t,e)||(xe=!0),t):(Qn&42)===0?(xe=!0,t.memoizedState=n):(t=sd(),Lt.lanes|=t,Fn|=t,e)}function ch(t,e,n,a,c){var o=nt.p;nt.p=o!==0&&8>o?o:8;var y=k.T,p={};k.T=p,Es(t,!1,e,n);try{var w=c(),X=k.S;if(X!==null&&X(p,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var J=Jm(w,a);Wl(t,e,J,ke(t))}else Wl(t,e,a,ke(t))}catch(F){Wl(t,e,{then:function(){},status:"rejected",reason:F},ke())}finally{nt.p=o,k.T=y}}function tg(){}function ws(t,e,n,a){if(t.tag!==5)throw Error(s(476));var c=sh(t).queue;ch(t,c,e,O,n===null?tg:function(){return rh(t),n(a)})}function sh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:O},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rh(t){var e=sh(t).next.queue;Wl(t,e,{},ke())}function Ns(){return ze(mi)}function oh(){return fe().memoizedState}function fh(){return fe().memoizedState}function eg(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ke();t=Vn(n);var a=Zn(e,t,n);a!==null&&($e(a,e,n),Ql(a,e,n)),e={cache:ts()},t.payload=e;return}e=e.return}}function ng(t,e,n){var a=ke();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},hu(t)?dh(e,n):(n=Zc(t,e,n,a),n!==null&&($e(n,t,a),yh(n,e,a)))}function hh(t,e,n){var a=ke();Wl(t,e,n,a)}function Wl(t,e,n,a){var c={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(hu(t))dh(e,c);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var y=e.lastRenderedState,p=o(y,n);if(c.hasEagerState=!0,c.eagerState=p,Be(p,y))return Ji(t,e,c,0),ne===null&&Ki(),!1}catch{}finally{}if(n=Zc(t,e,c,a),n!==null)return $e(n,t,a),yh(n,e,a),!0}return!1}function Es(t,e,n,a){if(a={lane:2,revertLane:ar(),action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(e)throw Error(s(479))}else e=Zc(t,n,a,2),e!==null&&$e(e,t,2)}function hu(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function dh(t,e){nl=uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yh(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,So(t,n)}}var du={readContext:ze,use:su,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},mh={readContext:ze,use:su,useCallback:function(t,e){return Le().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:Ff,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,fu(4194308,4,nh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){fu(4,2,t,e)},useMemo:function(t,e){var n=Le();e=e===void 0?null:e;var a=t();if(wa){q(!0);try{t()}finally{q(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Le();if(n!==void 0){var c=n(e);if(wa){q(!0);try{n(e)}finally{q(!1)}}}else c=e;return a.memoizedState=a.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},a.queue=t,t=t.dispatch=ng.bind(null,Lt,t),[a.memoizedState,t]},useRef:function(t){var e=Le();return t={current:t},e.memoizedState=t},useState:function(t){t=xs(t);var e=t.queue,n=hh.bind(null,Lt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(t,e){var n=Le();return _s(n,t,e)},useTransition:function(){var t=xs(!1);return t=ch.bind(null,Lt,t.queue,!0,!1),Le().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Lt,c=Le();if(Qt){if(n===void 0)throw Error(s(407));n=n()}else{if(n=e(),ne===null)throw Error(s(349));(Gt&124)!==0||Hf(a,e,n)}c.memoizedState=n;var o={value:n,getSnapshot:e};return c.queue=o,Ff(Yf.bind(null,a,o,t),[t]),a.flags|=2048,ll(9,ou(),Lf.bind(null,a,o,n,e),null),n},useId:function(){var t=Le(),e=ne.identifierPrefix;if(Qt){var n=Mn,a=En;n=(a&~(1<<32-rt(a)-1)).toString(32)+n,e="«"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Im++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Ns,useFormState:$f,useActionState:$f,useOptimistic:function(t){var e=Le();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Es.bind(null,Lt,!0,n),n.dispatch=e,[t,e]},useMemoCache:gs,useCacheRefresh:function(){return Le().memoizedState=eg.bind(null,Lt)}},gh={readContext:ze,use:su,useCallback:lh,useContext:ze,useEffect:Pf,useImperativeHandle:ah,useInsertionEffect:th,useLayoutEffect:eh,useMemo:ih,useReducer:ru,useRef:Wf,useState:function(){return ru(Tn)},useDebugValue:Ss,useDeferredValue:function(t,e){var n=fe();return uh(n,Ft.memoizedState,t,e)},useTransition:function(){var t=ru(Tn)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:Jl(t),e]},useSyncExternalStore:Uf,useId:oh,useHostTransitionStatus:Ns,useFormState:Kf,useActionState:Kf,useOptimistic:function(t,e){var n=fe();return Bf(n,Ft,t,e)},useMemoCache:gs,useCacheRefresh:fh},ag={readContext:ze,use:su,useCallback:lh,useContext:ze,useEffect:Pf,useImperativeHandle:ah,useInsertionEffect:th,useLayoutEffect:eh,useMemo:ih,useReducer:vs,useRef:Wf,useState:function(){return vs(Tn)},useDebugValue:Ss,useDeferredValue:function(t,e){var n=fe();return Ft===null?_s(n,t,e):uh(n,Ft.memoizedState,t,e)},useTransition:function(){var t=vs(Tn)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:Jl(t),e]},useSyncExternalStore:Uf,useId:oh,useHostTransitionStatus:Ns,useFormState:If,useActionState:If,useOptimistic:function(t,e){var n=fe();return Ft!==null?Bf(n,Ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:gs,useCacheRefresh:fh},il=null,Fl=0;function yu(t){var e=Fl;return Fl+=1,il===null&&(il=[]),Af(il,t,e)}function Pl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function mu(t,e){throw e.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ph(t){var e=t._init;return e(t._payload)}function vh(t){function e(R,M){if(t){var L=R.deletions;L===null?(R.deletions=[M],R.flags|=16):L.push(M)}}function n(R,M){if(!t)return null;for(;M!==null;)e(R,M),M=M.sibling;return null}function a(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function c(R,M){return R=Nn(R,M),R.index=0,R.sibling=null,R}function o(R,M,L){return R.index=L,t?(L=R.alternate,L!==null?(L=L.index,L<M?(R.flags|=67108866,M):L):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function y(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,M,L,W){return M===null||M.tag!==6?(M=kc(L,R.mode,W),M.return=R,M):(M=c(M,L),M.return=R,M)}function w(R,M,L,W){var gt=L.type;return gt===K?J(R,M,L.props.children,W,L.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===et&&ph(gt)===M.type)?(M=c(M,L.props),Pl(M,L),M.return=R,M):(M=Wi(L.type,L.key,L.props,null,R.mode,W),Pl(M,L),M.return=R,M)}function X(R,M,L,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=$c(L,R.mode,W),M.return=R,M):(M=c(M,L.children||[]),M.return=R,M)}function J(R,M,L,W,gt){return M===null||M.tag!==7?(M=ma(L,R.mode,W,gt),M.return=R,M):(M=c(M,L),M.return=R,M)}function F(R,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kc(""+M,R.mode,L),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return L=Wi(M.type,M.key,M.props,null,R.mode,L),Pl(L,M),L.return=R,L;case N:return M=$c(M,R.mode,L),M.return=R,M;case et:var W=M._init;return M=W(M._payload),F(R,M,L)}if(Yt(M)||ct(M))return M=ma(M,R.mode,L,null),M.return=R,M;if(typeof M.then=="function")return F(R,yu(M),L);if(M.$$typeof===j)return F(R,eu(R,M),L);mu(R,M)}return null}function G(R,M,L,W){var gt=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return gt!==null?null:p(R,M,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===gt?w(R,M,L,W):null;case N:return L.key===gt?X(R,M,L,W):null;case et:return gt=L._init,L=gt(L._payload),G(R,M,L,W)}if(Yt(L)||ct(L))return gt!==null?null:J(R,M,L,W,null);if(typeof L.then=="function")return G(R,M,yu(L),W);if(L.$$typeof===j)return G(R,M,eu(R,L),W);mu(R,L)}return null}function Z(R,M,L,W,gt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return R=R.get(L)||null,p(M,R,""+W,gt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return R=R.get(W.key===null?L:W.key)||null,w(M,R,W,gt);case N:return R=R.get(W.key===null?L:W.key)||null,X(M,R,W,gt);case et:var Xt=W._init;return W=Xt(W._payload),Z(R,M,L,W,gt)}if(Yt(W)||ct(W))return R=R.get(L)||null,J(M,R,W,gt,null);if(typeof W.then=="function")return Z(R,M,L,yu(W),gt);if(W.$$typeof===j)return Z(R,M,L,eu(M,W),gt);mu(M,W)}return null}function Tt(R,M,L,W){for(var gt=null,Xt=null,bt=M,At=M=0,Se=null;bt!==null&&At<L.length;At++){bt.index>At?(Se=bt,bt=null):Se=bt.sibling;var Zt=G(R,bt,L[At],W);if(Zt===null){bt===null&&(bt=Se);break}t&&bt&&Zt.alternate===null&&e(R,bt),M=o(Zt,M,At),Xt===null?gt=Zt:Xt.sibling=Zt,Xt=Zt,bt=Se}if(At===L.length)return n(R,bt),Qt&&pa(R,At),gt;if(bt===null){for(;At<L.length;At++)bt=F(R,L[At],W),bt!==null&&(M=o(bt,M,At),Xt===null?gt=bt:Xt.sibling=bt,Xt=bt);return Qt&&pa(R,At),gt}for(bt=a(bt);At<L.length;At++)Se=Z(bt,R,At,L[At],W),Se!==null&&(t&&Se.alternate!==null&&bt.delete(Se.key===null?At:Se.key),M=o(Se,M,At),Xt===null?gt=Se:Xt.sibling=Se,Xt=Se);return t&&bt.forEach(function(ca){return e(R,ca)}),Qt&&pa(R,At),gt}function Et(R,M,L,W){if(L==null)throw Error(s(151));for(var gt=null,Xt=null,bt=M,At=M=0,Se=null,Zt=L.next();bt!==null&&!Zt.done;At++,Zt=L.next()){bt.index>At?(Se=bt,bt=null):Se=bt.sibling;var ca=G(R,bt,Zt.value,W);if(ca===null){bt===null&&(bt=Se);break}t&&bt&&ca.alternate===null&&e(R,bt),M=o(ca,M,At),Xt===null?gt=ca:Xt.sibling=ca,Xt=ca,bt=Se}if(Zt.done)return n(R,bt),Qt&&pa(R,At),gt;if(bt===null){for(;!Zt.done;At++,Zt=L.next())Zt=F(R,Zt.value,W),Zt!==null&&(M=o(Zt,M,At),Xt===null?gt=Zt:Xt.sibling=Zt,Xt=Zt);return Qt&&pa(R,At),gt}for(bt=a(bt);!Zt.done;At++,Zt=L.next())Zt=Z(bt,R,At,Zt.value,W),Zt!==null&&(t&&Zt.alternate!==null&&bt.delete(Zt.key===null?At:Zt.key),M=o(Zt,M,At),Xt===null?gt=Zt:Xt.sibling=Zt,Xt=Zt);return t&&bt.forEach(function(lp){return e(R,lp)}),Qt&&pa(R,At),gt}function te(R,M,L,W){if(typeof L=="object"&&L!==null&&L.type===K&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:t:{for(var gt=L.key;M!==null;){if(M.key===gt){if(gt=L.type,gt===K){if(M.tag===7){n(R,M.sibling),W=c(M,L.props.children),W.return=R,R=W;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===et&&ph(gt)===M.type){n(R,M.sibling),W=c(M,L.props),Pl(W,L),W.return=R,R=W;break t}n(R,M);break}else e(R,M);M=M.sibling}L.type===K?(W=ma(L.props.children,R.mode,W,L.key),W.return=R,R=W):(W=Wi(L.type,L.key,L.props,null,R.mode,W),Pl(W,L),W.return=R,R=W)}return y(R);case N:t:{for(gt=L.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){n(R,M.sibling),W=c(M,L.children||[]),W.return=R,R=W;break t}else{n(R,M);break}else e(R,M);M=M.sibling}W=$c(L,R.mode,W),W.return=R,R=W}return y(R);case et:return gt=L._init,L=gt(L._payload),te(R,M,L,W)}if(Yt(L))return Tt(R,M,L,W);if(ct(L)){if(gt=ct(L),typeof gt!="function")throw Error(s(150));return L=gt.call(L),Et(R,M,L,W)}if(typeof L.then=="function")return te(R,M,yu(L),W);if(L.$$typeof===j)return te(R,M,eu(R,L),W);mu(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(n(R,M.sibling),W=c(M,L),W.return=R,R=W):(n(R,M),W=kc(L,R.mode,W),W.return=R,R=W),y(R)):n(R,M)}return function(R,M,L,W){try{Fl=0;var gt=te(R,M,L,W);return il=null,gt}catch(bt){if(bt===Vl||bt===au)throw bt;var Xt=Ge(29,bt,null,R.mode);return Xt.lanes=W,Xt.return=R,Xt}finally{}}}var ul=vh(!0),xh=vh(!1),tn=C(null),dn=null;function kn(t){var e=t.alternate;Q(me,me.current&1),Q(tn,t),dn===null&&(e===null||el.current!==null||e.memoizedState!==null)&&(dn=t)}function bh(t){if(t.tag===22){if(Q(me,me.current),Q(tn,t),dn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(dn=t)}}else $n()}function $n(){Q(me,me.current),Q(tn,tn.current)}function Dn(t){$(tn),dn===t&&(dn=null),$(me)}var me=C(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||mr(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ms(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:v({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var As={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=ke(),c=Vn(a);c.payload=e,n!=null&&(c.callback=n),e=Zn(t,c,a),e!==null&&($e(e,t,a),Ql(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=ke(),c=Vn(a);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=Zn(t,c,a),e!==null&&($e(e,t,a),Ql(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),a=Vn(n);a.tag=2,e!=null&&(a.callback=e),e=Zn(t,a,n),e!==null&&($e(e,t,n),Ql(e,t,n))}};function Sh(t,e,n,a,c,o,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,o,y):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,a)||!Ul(c,o):!0}function _h(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&As.enqueueReplaceState(e,e.state,null)}function Na(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=v({},n));for(var c in t)n[c]===void 0&&(n[c]=t[c])}return n}var pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wh(t){pu(t)}function Nh(t){console.error(t)}function Eh(t){pu(t)}function vu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Mh(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zs(t,e,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){vu(t,e)},n}function Ah(t){return t=Vn(t),t.tag=3,t}function zh(t,e,n,a){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var o=a.value;t.payload=function(){return c(o)},t.callback=function(){Mh(e,n,a)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Mh(e,n,a),typeof c!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function lg(t,e,n,a,c){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&ql(e,n,c,!0),n=tn.current,n!==null){switch(n.tag){case 13:return dn===null?Fs():n.alternate===null&&ce===0&&(ce=3),n.flags&=-257,n.flags|=65536,n.lanes=c,a===as?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),tr(t,a,c)),!1;case 22:return n.flags|=65536,a===as?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),tr(t,a,c)),!1}throw Error(s(435,n.tag))}return tr(t,a,c),Fs(),!1}if(Qt)return e=tn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,a!==Ic&&(t=Error(s(422),{cause:a}),Xl(Ie(t,n)))):(a!==Ic&&(e=Error(s(423),{cause:a}),Xl(Ie(e,n))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,a=Ie(a,n),c=zs(t.stateNode,a,c),us(t,c),ce!==4&&(ce=2)),!1;var o=Error(s(520),{cause:a});if(o=Ie(o,n),ui===null?ui=[o]:ui.push(o),ce!==4&&(ce=2),e===null)return!0;a=Ie(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=c&-c,n.lanes|=t,t=zs(n.stateNode,a,t),us(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Pn===null||!Pn.has(o))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Ah(c),zh(c,t,n,a),us(n,c),!1}n=n.return}while(n!==null);return!1}var Th=Error(s(461)),xe=!1;function Ne(t,e,n,a){e.child=t===null?xh(e,null,n,a):ul(e,t.child,n,a)}function Dh(t,e,n,a,c){n=n.render;var o=e.ref;if("ref"in a){var y={};for(var p in a)p!=="ref"&&(y[p]=a[p])}else y=a;return Sa(e),a=fs(t,e,n,y,o,c),p=hs(),t!==null&&!xe?(ds(t,e,c),Cn(t,e,c)):(Qt&&p&&Kc(e),e.flags|=1,Ne(t,e,a,c),e.child)}function Ch(t,e,n,a,c){if(t===null){var o=n.type;return typeof o=="function"&&!Qc(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,Rh(t,e,o,a,c)):(t=Wi(n.type,null,a,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!Hs(t,c)){var y=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(y,a)&&t.ref===e.ref)return Cn(t,e,c)}return e.flags|=1,t=Nn(o,a),t.ref=e.ref,t.return=e,e.child=t}function Rh(t,e,n,a,c){if(t!==null){var o=t.memoizedProps;if(Ul(o,a)&&t.ref===e.ref)if(xe=!1,e.pendingProps=a=o,Hs(t,c))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,Cn(t,e,c)}return Ts(t,e,n,a,c)}function Oh(t,e,n){var a=e.pendingProps,c=a.children,o=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=o!==null?o.baseLanes|n:n,t!==null){for(c=e.child=t.child,o=0;c!==null;)o=o|c.lanes|c.childLanes,c=c.sibling;e.childLanes=o&~a}else e.childLanes=0,e.child=null;return jh(t,e,a,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(e,o!==null?o.cachePool:null),o!==null?Rf(e,o):ss(),bh(e);else return e.lanes=e.childLanes=536870912,jh(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(nu(e,o.cachePool),Rf(e,o),$n(),e.memoizedState=null):(t!==null&&nu(e,null),ss(),$n());return Ne(t,e,c,n),e.child}function jh(t,e,n,a){var c=ns();return c=c===null?null:{parent:ye._currentValue,pool:c},e.memoizedState={baseLanes:n,cachePool:c},t!==null&&nu(e,null),ss(),bh(e),t!==null&&ql(t,e,a,!0),null}function xu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ts(t,e,n,a,c){return Sa(e),n=fs(t,e,n,a,void 0,c),a=hs(),t!==null&&!xe?(ds(t,e,c),Cn(t,e,c)):(Qt&&a&&Kc(e),e.flags|=1,Ne(t,e,n,c),e.child)}function Uh(t,e,n,a,c,o){return Sa(e),e.updateQueue=null,n=jf(e,a,n,c),Of(t),a=hs(),t!==null&&!xe?(ds(t,e,o),Cn(t,e,o)):(Qt&&a&&Kc(e),e.flags|=1,Ne(t,e,n,o),e.child)}function Hh(t,e,n,a,c){if(Sa(e),e.stateNode===null){var o=Ia,y=n.contextType;typeof y=="object"&&y!==null&&(o=ze(y)),o=new n(a,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=As,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=a,o.state=e.memoizedState,o.refs={},ls(e),y=n.contextType,o.context=typeof y=="object"&&y!==null?ze(y):Ia,o.state=e.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Ms(e,n,y,a),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(y=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),y!==o.state&&As.enqueueReplaceState(o,o.state,null),$l(e,a,o,c),kl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){o=e.stateNode;var p=e.memoizedProps,w=Na(n,p);o.props=w;var X=o.context,J=n.contextType;y=Ia,typeof J=="object"&&J!==null&&(y=ze(J));var F=n.getDerivedStateFromProps;J=typeof F=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=e.pendingProps!==p,J||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||X!==y)&&_h(e,o,a,y),Gn=!1;var G=e.memoizedState;o.state=G,$l(e,a,o,c),kl(),X=e.memoizedState,p||G!==X||Gn?(typeof F=="function"&&(Ms(e,n,F,a),X=e.memoizedState),(w=Gn||Sh(e,n,w,a,G,X,y))?(J||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=X),o.props=a,o.state=X,o.context=y,a=w):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{o=e.stateNode,is(t,e),y=e.memoizedProps,J=Na(n,y),o.props=J,F=e.pendingProps,G=o.context,X=n.contextType,w=Ia,typeof X=="object"&&X!==null&&(w=ze(X)),p=n.getDerivedStateFromProps,(X=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y!==F||G!==w)&&_h(e,o,a,w),Gn=!1,G=e.memoizedState,o.state=G,$l(e,a,o,c),kl();var Z=e.memoizedState;y!==F||G!==Z||Gn||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof p=="function"&&(Ms(e,n,p,a),Z=e.memoizedState),(J=Gn||Sh(e,n,J,a,G,Z,w)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(X||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,Z,w),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,Z,w)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=Z),o.props=a,o.state=Z,o.context=w,a=J):(typeof o.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),a=!1)}return o=a,xu(t,e),a=(e.flags&128)!==0,o||a?(o=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&a?(e.child=ul(e,t.child,null,c),e.child=ul(e,null,n,c)):Ne(t,e,n,c),e.memoizedState=o.state,t=e.child):t=Cn(t,e,c),t}function Lh(t,e,n,a){return Yl(),e.flags|=256,Ne(t,e,n,a),e.child}var Ds={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cs(t){return{baseLanes:t,cachePool:Nf()}}function Rs(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=en),t}function Yh(t,e,n){var a=e.pendingProps,c=!1,o=(e.flags&128)!==0,y;if((y=o)||(y=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),y&&(c=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(Qt){if(c?kn(e):$n(),Qt){var p=ue,w;if(w=p){t:{for(w=p,p=hn;w.nodeType!==8;){if(!p){p=null;break t}if(w=cn(w.nextSibling),w===null){p=null;break t}}p=w}p!==null?(e.memoizedState={dehydrated:p,treeContext:ga!==null?{id:En,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},w=Ge(18,null,null,0),w.stateNode=p,w.return=e,e.child=w,Ce=e,ue=null,w=!0):w=!1}w||xa(e)}if(p=e.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return mr(p)?e.lanes=32:e.lanes=536870912,null;Dn(e)}return p=a.children,a=a.fallback,c?($n(),c=e.mode,p=bu({mode:"hidden",children:p},c),a=ma(a,c,n,null),p.return=e,a.return=e,p.sibling=a,e.child=p,c=e.child,c.memoizedState=Cs(n),c.childLanes=Rs(t,y,n),e.memoizedState=Ds,a):(kn(e),Os(e,p))}if(w=t.memoizedState,w!==null&&(p=w.dehydrated,p!==null)){if(o)e.flags&256?(kn(e),e.flags&=-257,e=js(t,e,n)):e.memoizedState!==null?($n(),e.child=t.child,e.flags|=128,e=null):($n(),c=a.fallback,p=e.mode,a=bu({mode:"visible",children:a.children},p),c=ma(c,p,n,null),c.flags|=2,a.return=e,c.return=e,a.sibling=c,e.child=a,ul(e,t.child,null,n),a=e.child,a.memoizedState=Cs(n),a.childLanes=Rs(t,y,n),e.memoizedState=Ds,e=c);else if(kn(e),mr(p)){if(y=p.nextSibling&&p.nextSibling.dataset,y)var X=y.dgst;y=X,a=Error(s(419)),a.stack="",a.digest=y,Xl({value:a,source:null,stack:null}),e=js(t,e,n)}else if(xe||ql(t,e,n,!1),y=(n&t.childLanes)!==0,xe||y){if(y=ne,y!==null&&(a=n&-n,a=(a&42)!==0?1:gc(a),a=(a&(y.suspendedLanes|n))!==0?0:a,a!==0&&a!==w.retryLane))throw w.retryLane=a,Ja(t,a),$e(y,t,a),Th;p.data==="$?"||Fs(),e=js(t,e,n)}else p.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=w.treeContext,ue=cn(p.nextSibling),Ce=e,Qt=!0,va=null,hn=!1,t!==null&&(Fe[Pe++]=En,Fe[Pe++]=Mn,Fe[Pe++]=ga,En=t.id,Mn=t.overflow,ga=e),e=Os(e,a.children),e.flags|=4096);return e}return c?($n(),c=a.fallback,p=e.mode,w=t.child,X=w.sibling,a=Nn(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,X!==null?c=Nn(X,c):(c=ma(c,p,n,null),c.flags|=2),c.return=e,a.return=e,a.sibling=c,e.child=a,a=c,c=e.child,p=t.child.memoizedState,p===null?p=Cs(n):(w=p.cachePool,w!==null?(X=ye._currentValue,w=w.parent!==X?{parent:X,pool:X}:w):w=Nf(),p={baseLanes:p.baseLanes|n,cachePool:w}),c.memoizedState=p,c.childLanes=Rs(t,y,n),e.memoizedState=Ds,a):(kn(e),n=t.child,t=n.sibling,n=Nn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=n,e.memoizedState=null,n)}function Os(t,e){return e=bu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function bu(t,e){return t=Ge(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function js(t,e,n){return ul(e,t.child,null,n),t=Os(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xh(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Fc(t.return,e,n)}function Us(t,e,n,a,c){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=c)}function qh(t,e,n){var a=e.pendingProps,c=a.revealOrder,o=a.tail;if(Ne(t,e,a.children,n),a=me.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xh(t,n,e);else if(t.tag===19)Xh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(Q(me,a),c){case"forwards":for(n=e.child,c=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(c=n),n=n.sibling;n=c,n===null?(c=e.child,e.child=null):(c=n.sibling,n.sibling=null),Us(e,!1,c,n,o);break;case"backwards":for(n=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&gu(t)===null){e.child=c;break}t=c.sibling,c.sibling=n,n=c,c=t}Us(e,!0,n,null,o);break;case"together":Us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fn|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(ql(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function ig(t,e,n){switch(e.tag){case 3:St(e,e.stateNode.containerInfo),Bn(e,ye,t.memoizedState.cache),Yl();break;case 27:case 5:Ct(e);break;case 4:St(e,e.stateNode.containerInfo);break;case 10:Bn(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(kn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Yh(t,e,n):(kn(e),t=Cn(t,e,n),t!==null?t.sibling:null);kn(e);break;case 19:var c=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(ql(t,e,n,!1),a=(n&e.childLanes)!==0),c){if(a)return qh(t,e,n);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(me,me.current),a)break;return null;case 22:case 23:return e.lanes=0,Oh(t,e,n);case 24:Bn(e,ye,t.memoizedState.cache)}return Cn(t,e,n)}function Bh(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Hs(t,n)&&(e.flags&128)===0)return xe=!1,ig(t,e,n);xe=(t.flags&131072)!==0}else xe=!1,Qt&&(e.flags&1048576)!==0&&pf(e,Pi,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,c=a._init;if(a=c(a._payload),e.type=a,typeof a=="function")Qc(a)?(t=Na(a,t),e.tag=1,e=Hh(null,e,a,t,n)):(e.tag=0,e=Ts(null,e,a,t,n));else{if(a!=null){if(c=a.$$typeof,c===A){e.tag=11,e=Dh(null,e,a,t,n);break t}else if(c===I){e.tag=14,e=Ch(null,e,a,t,n);break t}}throw e=zt(a)||a,Error(s(306,e,""))}}return e;case 0:return Ts(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,c=Na(a,e.pendingProps),Hh(t,e,a,c,n);case 3:t:{if(St(e,e.stateNode.containerInfo),t===null)throw Error(s(387));a=e.pendingProps;var o=e.memoizedState;c=o.element,is(t,e),$l(e,a,null,n);var y=e.memoizedState;if(a=y.cache,Bn(e,ye,a),a!==o.cache&&Pc(e,[ye],n,!0),kl(),a=y.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Lh(t,e,a,n);break t}else if(a!==c){c=Ie(Error(s(424)),e),Xl(c),e=Lh(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=cn(t.firstChild),Ce=e,Qt=!0,va=null,hn=!0,n=xh(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Yl(),a===c){e=Cn(t,e,n);break t}Ne(t,e,a,n)}e=e.child}return e;case 26:return xu(t,e),t===null?(n=Qd(e.type,null,e.pendingProps,null))?e.memoizedState=n:Qt||(n=e.type,t=e.pendingProps,a=ju(ft.current).createElement(n),a[Ae]=e,a[Ue]=t,Me(a,n,t),ve(a),e.stateNode=a):e.memoizedState=Qd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ct(e),t===null&&Qt&&(a=e.stateNode=Gd(e.type,e.pendingProps,ft.current),Ce=e,hn=!0,c=ue,na(e.type)?(gr=c,ue=cn(a.firstChild)):ue=c),Ne(t,e,e.pendingProps.children,n),xu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Qt&&((c=a=ue)&&(a=Og(a,e.type,e.pendingProps,hn),a!==null?(e.stateNode=a,Ce=e,ue=cn(a.firstChild),hn=!1,c=!0):c=!1),c||xa(e)),Ct(e),c=e.type,o=e.pendingProps,y=t!==null?t.memoizedProps:null,a=o.children,hr(c,o)?a=null:y!==null&&hr(c,y)&&(e.flags|=32),e.memoizedState!==null&&(c=fs(t,e,Wm,null,null,n),mi._currentValue=c),xu(t,e),Ne(t,e,a,n),e.child;case 6:return t===null&&Qt&&((t=n=ue)&&(n=jg(n,e.pendingProps,hn),n!==null?(e.stateNode=n,Ce=e,ue=null,t=!0):t=!1),t||xa(e)),null;case 13:return Yh(t,e,n);case 4:return St(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ul(e,null,a,n):Ne(t,e,a,n),e.child;case 11:return Dh(t,e,e.type,e.pendingProps,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,Bn(e,e.type,a.value),Ne(t,e,a.children,n),e.child;case 9:return c=e.type._context,a=e.pendingProps.children,Sa(e),c=ze(c),a=a(c),e.flags|=1,Ne(t,e,a,n),e.child;case 14:return Ch(t,e,e.type,e.pendingProps,n);case 15:return Rh(t,e,e.type,e.pendingProps,n);case 19:return qh(t,e,n);case 31:return a=e.pendingProps,n=e.mode,a={mode:a.mode,children:a.children},t===null?(n=bu(a,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Nn(t.child,a),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Oh(t,e,n);case 24:return Sa(e),a=ze(ye),t===null?(c=ns(),c===null&&(c=ne,o=ts(),c.pooledCache=o,o.refCount++,o!==null&&(c.pooledCacheLanes|=n),c=o),e.memoizedState={parent:a,cache:c},ls(e),Bn(e,ye,c)):((t.lanes&n)!==0&&(is(t,e),$l(e,null,null,n),kl()),c=t.memoizedState,o=e.memoizedState,c.parent!==a?(c={parent:a,cache:a},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Bn(e,ye,a)):(a=o.cache,Bn(e,ye,a),a!==c.cache&&Pc(e,[ye],n,!0))),Ne(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Rn(t){t.flags|=4}function Gh(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Id(e)){if(e=tn.current,e!==null&&((Gt&4194048)===Gt?dn!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||e!==dn))throw Zl=as,Ef;t.flags|=8192}}function Su(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ja():536870912,t.lanes|=e,ol|=e)}function ti(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var c=t.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function ug(t,e,n){var a=e.pendingProps;switch(Jc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(e),null;case 1:return ie(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),zn(ye),kt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ll(e)?Rn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,bf())),ie(e),null;case 26:return n=e.memoizedState,t===null?(Rn(e),n!==null?(ie(e),Gh(e,n)):(ie(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Rn(e),ie(e),Gh(e,n)):(ie(e),e.flags&=-16777217):(t.memoizedProps!==a&&Rn(e),ie(e),e.flags&=-16777217),null;case 27:Vt(e),n=ft.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Rn(e);else{if(!a){if(e.stateNode===null)throw Error(s(166));return ie(e),null}t=ot.current,Ll(e)?vf(e):(t=Gd(c,a,n),e.stateNode=t,Rn(e))}return ie(e),null;case 5:if(Vt(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Rn(e);else{if(!a){if(e.stateNode===null)throw Error(s(166));return ie(e),null}if(t=ot.current,Ll(e))vf(e);else{switch(c=ju(ft.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}t[Ae]=e,t[Ue]=a;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Me(t,n,a),n){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Rn(e)}}return ie(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Rn(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(s(166));if(t=ft.current,Ll(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,c=Ce,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}t[Ae]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Ud(t.nodeValue,n)),t||xa(e)}else t=ju(t).createTextNode(a),t[Ae]=e,e.stateNode=t}return ie(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ll(e),a!==null&&a.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ae]=e}else Yl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ie(e),c=!1}else c=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(Dn(e),e):(Dn(e),null)}if(Dn(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=a!==null,t=t!==null&&t.memoizedState!==null,n){a=e.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool);var o=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==c&&(a.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Su(e,e.updateQueue),ie(e),null;case 4:return kt(),t===null&&cr(e.stateNode.containerInfo),ie(e),null;case 10:return zn(e.type),ie(e),null;case 19:if($(me),c=e.memoizedState,c===null)return ie(e),null;if(a=(e.flags&128)!==0,o=c.rendering,o===null)if(a)ti(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=gu(t),o!==null){for(e.flags|=128,ti(c,!1),t=o.updateQueue,e.updateQueue=t,Su(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)gf(n,t),n=n.sibling;return Q(me,me.current&1|2),e.child}t=t.sibling}c.tail!==null&&P()>Nu&&(e.flags|=128,a=!0,ti(c,!1),e.lanes=4194304)}else{if(!a)if(t=gu(o),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Su(e,t),ti(c,!0),c.tail===null&&c.tailMode==="hidden"&&!o.alternate&&!Qt)return ie(e),null}else 2*P()-c.renderingStartTime>Nu&&n!==536870912&&(e.flags|=128,a=!0,ti(c,!1),e.lanes=4194304);c.isBackwards?(o.sibling=e.child,e.child=o):(t=c.last,t!==null?t.sibling=o:e.child=o,c.last=o)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=P(),e.sibling=null,t=me.current,Q(me,a?t&1|2:t&1),e):(ie(e),null);case 22:case 23:return Dn(e),rs(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(ie(e),e.subtreeFlags&6&&(e.flags|=8192)):ie(e),n=e.updateQueue,n!==null&&Su(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&$(_a),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),zn(ye),ie(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function cg(t,e){switch(Jc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zn(ye),kt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Vt(e),null;case 13:if(Dn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));Yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $(me),null;case 4:return kt(),null;case 10:return zn(e.type),null;case 22:case 23:return Dn(e),rs(),t!==null&&$(_a),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return zn(ye),null;case 25:return null;default:return null}}function Vh(t,e){switch(Jc(e),e.tag){case 3:zn(ye),kt();break;case 26:case 27:case 5:Vt(e);break;case 4:kt();break;case 13:Dn(e);break;case 19:$(me);break;case 10:zn(e.type);break;case 22:case 23:Dn(e),rs(),t!==null&&$(_a);break;case 24:zn(ye)}}function ei(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var c=a.next;n=c;do{if((n.tag&t)===t){a=void 0;var o=n.create,y=n.inst;a=o(),y.destroy=a}n=n.next}while(n!==c)}}catch(p){ee(e,e.return,p)}}function Kn(t,e,n){try{var a=e.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var o=c.next;a=o;do{if((a.tag&t)===t){var y=a.inst,p=y.destroy;if(p!==void 0){y.destroy=void 0,c=e;var w=n,X=p;try{X()}catch(J){ee(c,w,J)}}}a=a.next}while(a!==o)}}catch(J){ee(e,e.return,J)}}function Zh(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Cf(e,n)}catch(a){ee(t,t.return,a)}}}function Qh(t,e,n){n.props=Na(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){ee(t,e,a)}}function ni(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(c){ee(t,e,c)}}function yn(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(c){ee(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){ee(t,e,c)}else n.current=null}function kh(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(c){ee(t,t.return,c)}}function Ls(t,e,n){try{var a=t.stateNode;zg(a,t.type,n,e),a[Ue]=e}catch(c){ee(t,t.return,c)}}function $h(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&na(t.type)||t.tag===4}function Ys(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$h(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&na(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xs(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ou));else if(a!==4&&(a===27&&na(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Xs(t,e,n),t=t.sibling;t!==null;)Xs(t,e,n),t=t.sibling}function _u(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&na(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(_u(t,e,n),t=t.sibling;t!==null;)_u(t,e,n),t=t.sibling}function Kh(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Me(e,a,n),e[Ae]=t,e[Ue]=n}catch(o){ee(t,t.return,o)}}var On=!1,re=!1,qs=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,be=null;function sg(t,e){if(t=t.containerInfo,or=qu,t=uf(t),Yc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var y=0,p=-1,w=-1,X=0,J=0,F=t,G=null;e:for(;;){for(var Z;F!==n||c!==0&&F.nodeType!==3||(p=y+c),F!==o||a!==0&&F.nodeType!==3||(w=y+a),F.nodeType===3&&(y+=F.nodeValue.length),(Z=F.firstChild)!==null;)G=F,F=Z;for(;;){if(F===t)break e;if(G===n&&++X===c&&(p=y),G===o&&++J===a&&(w=y),(Z=F.nextSibling)!==null)break;F=G,G=F.parentNode}F=Z}n=p===-1||w===-1?null:{start:p,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(fr={focusedElem:t,selectionRange:n},qu=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){switch(e=be,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,n=e,c=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var Tt=Na(n.type,c,n.elementType===n.type);t=a.getSnapshotBeforeUpdate(Tt,o),a.__reactInternalSnapshotBeforeUpdate=t}catch(Et){ee(n,n.return,Et)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)yr(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}}function Ih(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n),a&4&&ei(5,n);break;case 1:if(Jn(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(y){ee(n,n.return,y)}else{var c=Na(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ee(n,n.return,y)}}a&64&&Zh(n),a&512&&ni(n,n.return);break;case 3:if(Jn(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Cf(t,e)}catch(y){ee(n,n.return,y)}}break;case 27:e===null&&a&4&&Kh(n);case 26:case 5:Jn(t,n),e===null&&a&4&&kh(n),a&512&&ni(n,n.return);break;case 12:Jn(t,n);break;case 13:Jn(t,n),a&4&&Ph(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pg.bind(null,n),Ug(t,n))));break;case 22:if(a=n.memoizedState!==null||On,!a){e=e!==null&&e.memoizedState!==null||re,c=On;var o=re;On=a,(re=e)&&!o?In(t,n,(n.subtreeFlags&8772)!==0):Jn(t,n),On=c,re=o}break;case 30:break;default:Jn(t,n)}}function Wh(t){var e=t.alternate;e!==null&&(t.alternate=null,Wh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&xc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,Ye=!1;function jn(t,e,n){for(n=n.child;n!==null;)Fh(t,e,n),n=n.sibling}function Fh(t,e,n){if(U&&typeof U.onCommitFiberUnmount=="function")try{U.onCommitFiberUnmount(_t,n)}catch{}switch(n.tag){case 26:re||yn(n,e),jn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:re||yn(n,e);var a=le,c=Ye;na(n.type)&&(le=n.stateNode,Ye=!1),jn(t,e,n),fi(n.stateNode),le=a,Ye=c;break;case 5:re||yn(n,e);case 6:if(a=le,c=Ye,le=null,jn(t,e,n),le=a,Ye=c,le!==null)if(Ye)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(n.stateNode)}catch(o){ee(n,e,o)}else try{le.removeChild(n.stateNode)}catch(o){ee(n,e,o)}break;case 18:le!==null&&(Ye?(t=le,qd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),xi(t)):qd(le,n.stateNode));break;case 4:a=le,c=Ye,le=n.stateNode.containerInfo,Ye=!0,jn(t,e,n),le=a,Ye=c;break;case 0:case 11:case 14:case 15:re||Kn(2,n,e),re||Kn(4,n,e),jn(t,e,n);break;case 1:re||(yn(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Qh(n,e,a)),jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:re=(a=re)||n.memoizedState!==null,jn(t,e,n),re=a;break;default:jn(t,e,n)}}function Ph(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xi(t)}catch(n){ee(e,e.return,n)}}function rg(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jh),e;default:throw Error(s(435,t.tag))}}function Bs(t,e){var n=rg(t);e.forEach(function(a){var c=vg.bind(null,t,a);n.has(a)||(n.add(a),a.then(c,c))})}function Ve(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a],o=t,y=e,p=y;t:for(;p!==null;){switch(p.tag){case 27:if(na(p.type)){le=p.stateNode,Ye=!1;break t}break;case 5:le=p.stateNode,Ye=!1;break t;case 3:case 4:le=p.stateNode.containerInfo,Ye=!0;break t}p=p.return}if(le===null)throw Error(s(160));Fh(o,y,c),le=null,Ye=!1,o=c.alternate,o!==null&&(o.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)td(e,t),e=e.sibling}var un=null;function td(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ve(e,t),Ze(t),a&4&&(Kn(3,t,t.return),ei(3,t),Kn(5,t,t.return));break;case 1:Ve(e,t),Ze(t),a&512&&(re||n===null||yn(n,n.return)),a&64&&On&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var c=un;if(Ve(e,t),Ze(t),a&512&&(re||n===null||yn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,c=c.ownerDocument||c;e:switch(a){case"title":o=c.getElementsByTagName("title")[0],(!o||o[Ml]||o[Ae]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=c.createElement(a),c.head.insertBefore(o,c.querySelector("head > title"))),Me(o,a,n),o[Ae]=t,ve(o),a=o;break t;case"link":var y=Kd("link","href",c).get(a+(n.href||""));if(y){for(var p=0;p<y.length;p++)if(o=y[p],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(p,1);break e}}o=c.createElement(a),Me(o,a,n),c.head.appendChild(o);break;case"meta":if(y=Kd("meta","content",c).get(a+(n.content||""))){for(p=0;p<y.length;p++)if(o=y[p],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(p,1);break e}}o=c.createElement(a),Me(o,a,n),c.head.appendChild(o);break;default:throw Error(s(468,a))}o[Ae]=t,ve(o),a=o}t.stateNode=a}else Jd(c,t.type,t.stateNode);else t.stateNode=$d(c,a,t.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?Jd(c,t.type,t.stateNode):$d(c,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Ls(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ve(e,t),Ze(t),a&512&&(re||n===null||yn(n,n.return)),n!==null&&a&4&&Ls(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ve(e,t),Ze(t),a&512&&(re||n===null||yn(n,n.return)),t.flags&32){c=t.stateNode;try{Ga(c,"")}catch(Z){ee(t,t.return,Z)}}a&4&&t.stateNode!=null&&(c=t.memoizedProps,Ls(t,c,n!==null?n.memoizedProps:c)),a&1024&&(qs=!0);break;case 6:if(Ve(e,t),Ze(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(Z){ee(t,t.return,Z)}}break;case 3:if(Lu=null,c=un,un=Uu(e.containerInfo),Ve(e,t),un=c,Ze(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(Z){ee(t,t.return,Z)}qs&&(qs=!1,ed(t));break;case 4:a=un,un=Uu(t.stateNode.containerInfo),Ve(e,t),Ze(t),un=a;break;case 12:Ve(e,t),Ze(t);break;case 13:Ve(e,t),Ze(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($s=P()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Bs(t,a)));break;case 22:c=t.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,X=On,J=re;if(On=X||c,re=J||w,Ve(e,t),re=J,On=X,Ze(t),a&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(n===null||w||On||re||Ea(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){w=n=e;try{if(o=w.stateNode,c)y=o.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{p=w.stateNode;var F=w.memoizedProps.style,G=F!=null&&F.hasOwnProperty("display")?F.display:null;p.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Z){ee(w,w.return,Z)}}}else if(e.tag===6){if(n===null){w=e;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(Z){ee(w,w.return,Z)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Bs(t,n))));break;case 19:Ve(e,t),Ze(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Bs(t,a)));break;case 30:break;case 21:break;default:Ve(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if($h(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var c=n.stateNode,o=Ys(t);_u(t,o,c);break;case 5:var y=n.stateNode;n.flags&32&&(Ga(y,""),n.flags&=-33);var p=Ys(t);_u(t,p,y);break;case 3:case 4:var w=n.stateNode.containerInfo,X=Ys(t);Xs(t,X,w);break;default:throw Error(s(161))}}catch(J){ee(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ed(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ed(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Jn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ih(t,e.alternate,e),e=e.sibling}function Ea(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Kn(4,e,e.return),Ea(e);break;case 1:yn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Qh(e,e.return,n),Ea(e);break;case 27:fi(e.stateNode);case 26:case 5:yn(e,e.return),Ea(e);break;case 22:e.memoizedState===null&&Ea(e);break;case 30:Ea(e);break;default:Ea(e)}t=t.sibling}}function In(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,c=t,o=e,y=o.flags;switch(o.tag){case 0:case 11:case 15:In(c,o,n),ei(4,o);break;case 1:if(In(c,o,n),a=o,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(X){ee(a,a.return,X)}if(a=o,c=a.updateQueue,c!==null){var p=a.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Df(w[c],p)}catch(X){ee(a,a.return,X)}}n&&y&64&&Zh(o),ni(o,o.return);break;case 27:Kh(o);case 26:case 5:In(c,o,n),n&&a===null&&y&4&&kh(o),ni(o,o.return);break;case 12:In(c,o,n);break;case 13:In(c,o,n),n&&y&4&&Ph(c,o);break;case 22:o.memoizedState===null&&In(c,o,n),ni(o,o.return);break;case 30:break;default:In(c,o,n)}e=e.sibling}}function Gs(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Bl(n))}function Vs(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bl(t))}function mn(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nd(t,e,n,a),e=e.sibling}function nd(t,e,n,a){var c=e.flags;switch(e.tag){case 0:case 11:case 15:mn(t,e,n,a),c&2048&&ei(9,e);break;case 1:mn(t,e,n,a);break;case 3:mn(t,e,n,a),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bl(t)));break;case 12:if(c&2048){mn(t,e,n,a),t=e.stateNode;try{var o=e.memoizedProps,y=o.id,p=o.onPostCommit;typeof p=="function"&&p(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){ee(e,e.return,w)}}else mn(t,e,n,a);break;case 13:mn(t,e,n,a);break;case 23:break;case 22:o=e.stateNode,y=e.alternate,e.memoizedState!==null?o._visibility&2?mn(t,e,n,a):ai(t,e):o._visibility&2?mn(t,e,n,a):(o._visibility|=2,cl(t,e,n,a,(e.subtreeFlags&10256)!==0)),c&2048&&Gs(y,e);break;case 24:mn(t,e,n,a),c&2048&&Vs(e.alternate,e);break;default:mn(t,e,n,a)}}function cl(t,e,n,a,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,y=e,p=n,w=a,X=y.flags;switch(y.tag){case 0:case 11:case 15:cl(o,y,p,w,c),ei(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?cl(o,y,p,w,c):ai(o,y):(J._visibility|=2,cl(o,y,p,w,c)),c&&X&2048&&Gs(y.alternate,y);break;case 24:cl(o,y,p,w,c),c&&X&2048&&Vs(y.alternate,y);break;default:cl(o,y,p,w,c)}e=e.sibling}}function ai(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,c=a.flags;switch(a.tag){case 22:ai(n,a),c&2048&&Gs(a.alternate,a);break;case 24:ai(n,a),c&2048&&Vs(a.alternate,a);break;default:ai(n,a)}e=e.sibling}}var li=8192;function sl(t){if(t.subtreeFlags&li)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 26:sl(t),t.flags&li&&t.memoizedState!==null&&Kg(un,t.memoizedState,t.memoizedProps);break;case 5:sl(t);break;case 3:case 4:var e=un;un=Uu(t.stateNode.containerInfo),sl(t),un=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=li,li=16777216,sl(t),li=e):sl(t));break;default:sl(t)}}function ld(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ii(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];be=a,ud(a,t)}ld(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)id(t),t=t.sibling}function id(t){switch(t.tag){case 0:case 11:case 15:ii(t),t.flags&2048&&Kn(9,t,t.return);break;case 3:ii(t);break;case 12:ii(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wu(t)):ii(t);break;default:ii(t)}}function wu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];be=a,ud(a,t)}ld(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Kn(8,e,e.return),wu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,wu(e));break;default:wu(e)}t=t.sibling}}function ud(t,e){for(;be!==null;){var n=be;switch(n.tag){case 0:case 11:case 15:Kn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Bl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,be=a;else t:for(n=t;be!==null;){a=be;var c=a.sibling,o=a.return;if(Wh(a),a===n){be=null;break t}if(c!==null){c.return=o,be=c;break t}be=o}}}var og={getCacheForType:function(t){var e=ze(ye),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},fg=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,qt=null,Gt=0,Jt=0,Qe=null,Wn=!1,rl=!1,Zs=!1,Un=0,ce=0,Fn=0,Ma=0,Qs=0,en=0,ol=0,ui=null,Xe=null,ks=!1,$s=0,Nu=1/0,Eu=null,Pn=null,Ee=0,ta=null,fl=null,hl=0,Ks=0,Js=null,cd=null,ci=0,Is=null;function ke(){if((Kt&2)!==0&&Gt!==0)return Gt&-Gt;if(k.T!==null){var t=Pa;return t!==0?t:ar()}return _o()}function sd(){en===0&&(en=(Gt&536870912)===0||Qt?Oa():536870912);var t=tn.current;return t!==null&&(t.flags|=32),en}function $e(t,e,n){(t===ne&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(dl(t,0),ea(t,Gt,en,!1)),El(t,n),((Kt&2)===0||t!==ne)&&(t===ne&&((Kt&2)===0&&(Ma|=n),ce===4&&ea(t,Gt,en,!1)),gn(t))}function rd(t,e,n){if((Kt&6)!==0)throw Error(s(327));var a=!n&&(e&124)===0&&(e&t.expiredLanes)===0||we(t,e),c=a?yg(t,e):Ps(t,e,!0),o=a;do{if(c===0){rl&&!a&&ea(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!hg(n)){c=Ps(t,e,!1),o=!1;continue}if(c===2){if(o=e,t.errorRecoveryDisabledLanes&o)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var p=t;c=ui;var w=p.current.memoizedState.isDehydrated;if(w&&(dl(p,y).flags|=256),y=Ps(p,y,!1),y!==2){if(Zs&&!w){p.errorRecoveryDisabledLanes|=o,Ma|=o,c=4;break t}o=Xe,Xe=c,o!==null&&(Xe===null?Xe=o:Xe.push.apply(Xe,o))}c=y}if(o=!1,c!==2)continue}}if(c===1){dl(t,0),ea(t,e,0,!0);break}t:{switch(a=t,o=c,o){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:ea(a,e,en,!Wn);break t;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(c=$s+300-P(),10<c)){if(ea(a,e,en,!Wn),_e(a,0,!0)!==0)break t;a.timeoutHandle=Yd(od.bind(null,a,n,Xe,Eu,ks,e,en,Ma,ol,Wn,o,2,-0,0),c);break t}od(a,n,Xe,Eu,ks,e,en,Ma,ol,Wn,o,0,-0,0)}}break}while(!0);gn(t)}function od(t,e,n,a,c,o,y,p,w,X,J,F,G,Z){if(t.timeoutHandle=-1,F=e.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(yi={stylesheets:null,count:0,unsuspend:$g},ad(e),F=Jg(),F!==null)){t.cancelPendingCommit=F(pd.bind(null,t,e,o,n,a,c,y,p,w,J,1,G,Z)),ea(t,o,y,!X);return}pd(t,e,o,n,a,c,y,p,w)}function hg(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var c=n[a],o=c.getSnapshot;c=c.value;try{if(!Be(o(),c))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ea(t,e,n,a){e&=~Qs,e&=~Ma,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var c=e;0<c;){var o=31-rt(c),y=1<<o;a[o]=-1,c&=~y}n!==0&&bo(t,n,e)}function Mu(){return(Kt&6)===0?(si(0),!1):!0}function Ws(){if(qt!==null){if(Jt===0)var t=qt.return;else t=qt,An=ba=null,ys(t),il=null,Fl=0,t=qt;for(;t!==null;)Vh(t.alternate,t),t=t.return;qt=null}}function dl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Dg(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ws(),ne=t,qt=n=Nn(t.current,null),Gt=e,Jt=0,Qe=null,Wn=!1,rl=we(t,e),Zs=!1,ol=en=Qs=Ma=Fn=ce=0,Xe=ui=null,ks=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var c=31-rt(a),o=1<<c;e|=t[c],a&=~o}return Un=e,Ki(),n}function fd(t,e){Lt=null,k.H=du,e===Vl||e===au?(e=zf(),Jt=3):e===Ef?(e=zf(),Jt=4):Jt=e===Th?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Qe=e,qt===null&&(ce=1,vu(t,Ie(e,t.current)))}function hd(){var t=k.H;return k.H=du,t===null?du:t}function dd(){var t=k.A;return k.A=og,t}function Fs(){ce=4,Wn||(Gt&4194048)!==Gt&&tn.current!==null||(rl=!0),(Fn&134217727)===0&&(Ma&134217727)===0||ne===null||ea(ne,Gt,en,!1)}function Ps(t,e,n){var a=Kt;Kt|=2;var c=hd(),o=dd();(ne!==t||Gt!==e)&&(Eu=null,dl(t,e)),e=!1;var y=ce;t:do try{if(Jt!==0&&qt!==null){var p=qt,w=Qe;switch(Jt){case 8:Ws(),y=6;break t;case 3:case 2:case 9:case 6:tn.current===null&&(e=!0);var X=Jt;if(Jt=0,Qe=null,yl(t,p,w,X),n&&rl){y=0;break t}break;default:X=Jt,Jt=0,Qe=null,yl(t,p,w,X)}}dg(),y=ce;break}catch(J){fd(t,J)}while(!0);return e&&t.shellSuspendCounter++,An=ba=null,Kt=a,k.H=c,k.A=o,qt===null&&(ne=null,Gt=0,Ki()),y}function dg(){for(;qt!==null;)yd(qt)}function yg(t,e){var n=Kt;Kt|=2;var a=hd(),c=dd();ne!==t||Gt!==e?(Eu=null,Nu=P()+500,dl(t,e)):rl=we(t,e);t:do try{if(Jt!==0&&qt!==null){e=qt;var o=Qe;e:switch(Jt){case 1:Jt=0,Qe=null,yl(t,e,o,1);break;case 2:case 9:if(Mf(o)){Jt=0,Qe=null,md(e);break}e=function(){Jt!==2&&Jt!==9||ne!==t||(Jt=7),gn(t)},o.then(e,e);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Mf(o)?(Jt=0,Qe=null,md(e)):(Jt=0,Qe=null,yl(t,e,o,7));break;case 5:var y=null;switch(qt.tag){case 26:y=qt.memoizedState;case 5:case 27:var p=qt;if(!y||Id(y)){Jt=0,Qe=null;var w=p.sibling;if(w!==null)qt=w;else{var X=p.return;X!==null?(qt=X,Au(X)):qt=null}break e}}Jt=0,Qe=null,yl(t,e,o,5);break;case 6:Jt=0,Qe=null,yl(t,e,o,6);break;case 8:Ws(),ce=6;break t;default:throw Error(s(462))}}mg();break}catch(J){fd(t,J)}while(!0);return An=ba=null,k.H=a,k.A=c,Kt=n,qt!==null?0:(ne=null,Gt=0,Ki(),ce)}function mg(){for(;qt!==null&&!De();)yd(qt)}function yd(t){var e=Bh(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?Au(t):qt=e}function md(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Uh(n,e,e.pendingProps,e.type,void 0,Gt);break;case 11:e=Uh(n,e,e.pendingProps,e.type.render,e.ref,Gt);break;case 5:ys(e);default:Vh(n,e),e=qt=gf(e,Un),e=Bh(n,e,Un)}t.memoizedProps=t.pendingProps,e===null?Au(t):qt=e}function yl(t,e,n,a){An=ba=null,ys(e),il=null,Fl=0;var c=e.return;try{if(lg(t,c,e,n,Gt)){ce=1,vu(t,Ie(n,t.current)),qt=null;return}}catch(o){if(c!==null)throw qt=c,o;ce=1,vu(t,Ie(n,t.current)),qt=null;return}e.flags&32768?(Qt||a===1?t=!0:rl||(Gt&536870912)!==0?t=!1:(Wn=t=!0,(a===2||a===9||a===3||a===6)&&(a=tn.current,a!==null&&a.tag===13&&(a.flags|=16384))),gd(e,t)):Au(e)}function Au(t){var e=t;do{if((e.flags&32768)!==0){gd(e,Wn);return}t=e.return;var n=ug(e.alternate,e,Un);if(n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);ce===0&&(ce=5)}function gd(t,e){do{var n=cg(t.alternate,t);if(n!==null){n.flags&=32767,qt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){qt=t;return}qt=t=n}while(t!==null);ce=6,qt=null}function pd(t,e,n,a,c,o,y,p,w){t.cancelPendingCommit=null;do zu();while(Ee!==0);if((Kt&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(o=e.lanes|e.childLanes,o|=Vc,$y(t,n,o,y,p,w),t===ne&&(qt=ne=null,Gt=0),fl=e,ta=t,hl=n,Ks=o,Js=c,cd=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xg(st,function(){return _d(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=k.T,k.T=null,c=nt.p,nt.p=2,y=Kt,Kt|=4;try{sg(t,e,n)}finally{Kt=y,nt.p=c,k.T=a}}Ee=1,vd(),xd(),bd()}}function vd(){if(Ee===1){Ee=0;var t=ta,e=fl,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var a=nt.p;nt.p=2;var c=Kt;Kt|=4;try{td(e,t);var o=fr,y=uf(t.containerInfo),p=o.focusedElem,w=o.selectionRange;if(y!==p&&p&&p.ownerDocument&&lf(p.ownerDocument.documentElement,p)){if(w!==null&&Yc(p)){var X=w.start,J=w.end;if(J===void 0&&(J=X),"selectionStart"in p)p.selectionStart=X,p.selectionEnd=Math.min(J,p.value.length);else{var F=p.ownerDocument||document,G=F&&F.defaultView||window;if(G.getSelection){var Z=G.getSelection(),Tt=p.textContent.length,Et=Math.min(w.start,Tt),te=w.end===void 0?Et:Math.min(w.end,Tt);!Z.extend&&Et>te&&(y=te,te=Et,Et=y);var R=af(p,Et),M=af(p,te);if(R&&M&&(Z.rangeCount!==1||Z.anchorNode!==R.node||Z.anchorOffset!==R.offset||Z.focusNode!==M.node||Z.focusOffset!==M.offset)){var L=F.createRange();L.setStart(R.node,R.offset),Z.removeAllRanges(),Et>te?(Z.addRange(L),Z.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),Z.addRange(L))}}}}for(F=[],Z=p;Z=Z.parentNode;)Z.nodeType===1&&F.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<F.length;p++){var W=F[p];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qu=!!or,fr=or=null}finally{Kt=c,nt.p=a,k.T=n}}t.current=e,Ee=2}}function xd(){if(Ee===2){Ee=0;var t=ta,e=fl,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var a=nt.p;nt.p=2;var c=Kt;Kt|=4;try{Ih(t,e.alternate,e)}finally{Kt=c,nt.p=a,k.T=n}}Ee=3}}function bd(){if(Ee===4||Ee===3){Ee=0,D();var t=ta,e=fl,n=hl,a=cd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ee=5:(Ee=0,fl=ta=null,Sd(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Pn=null),pc(n),e=e.stateNode,U&&typeof U.onCommitFiberRoot=="function")try{U.onCommitFiberRoot(_t,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=k.T,c=nt.p,nt.p=2,k.T=null;try{for(var o=t.onRecoverableError,y=0;y<a.length;y++){var p=a[y];o(p.value,{componentStack:p.stack})}}finally{k.T=e,nt.p=c}}(hl&3)!==0&&zu(),gn(t),c=t.pendingLanes,(n&4194090)!==0&&(c&42)!==0?t===Is?ci++:(ci=0,Is=t):ci=0,si(0)}}function Sd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Bl(e)))}function zu(t){return vd(),xd(),bd(),_d()}function _d(){if(Ee!==5)return!1;var t=ta,e=Ks;Ks=0;var n=pc(hl),a=k.T,c=nt.p;try{nt.p=32>n?32:n,k.T=null,n=Js,Js=null;var o=ta,y=hl;if(Ee=0,fl=ta=null,hl=0,(Kt&6)!==0)throw Error(s(331));var p=Kt;if(Kt|=4,id(o.current),nd(o,o.current,y,n),Kt=p,si(0,!1),U&&typeof U.onPostCommitFiberRoot=="function")try{U.onPostCommitFiberRoot(_t,o)}catch{}return!0}finally{nt.p=c,k.T=a,Sd(t,e)}}function wd(t,e,n){e=Ie(n,e),e=zs(t.stateNode,e,2),t=Zn(t,e,2),t!==null&&(El(t,2),gn(t))}function ee(t,e,n){if(t.tag===3)wd(t,t,n);else for(;e!==null;){if(e.tag===3){wd(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pn===null||!Pn.has(a))){t=Ie(n,t),n=Ah(2),a=Zn(e,n,2),a!==null&&(zh(n,a,e,t),El(a,2),gn(a));break}}e=e.return}}function tr(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new fg;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(n)||(Zs=!0,c.add(n),t=gg.bind(null,t,e,n),e.then(t,t))}function gg(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ne===t&&(Gt&n)===n&&(ce===4||ce===3&&(Gt&62914560)===Gt&&300>P()-$s?(Kt&2)===0&&dl(t,0):Qs|=n,ol===Gt&&(ol=0)),gn(t)}function Nd(t,e){e===0&&(e=ja()),t=Ja(t,e),t!==null&&(El(t,e),gn(t))}function pg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nd(t,n)}function vg(t,e){var n=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(e),Nd(t,n)}function xg(t,e){return It(t,e)}var Tu=null,ml=null,er=!1,Du=!1,nr=!1,Aa=0;function gn(t){t!==ml&&t.next===null&&(ml===null?Tu=ml=t:ml=ml.next=t),Du=!0,er||(er=!0,Sg())}function si(t,e){if(!nr&&Du){nr=!0;do for(var n=!1,a=Tu;a!==null;){if(t!==0){var c=a.pendingLanes;if(c===0)var o=0;else{var y=a.suspendedLanes,p=a.pingedLanes;o=(1<<31-rt(42|t)+1)-1,o&=c&~(y&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,zd(a,o))}else o=Gt,o=_e(a,a===ne?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||we(a,o)||(n=!0,zd(a,o));a=a.next}while(n);nr=!1}}function bg(){Ed()}function Ed(){Du=er=!1;var t=0;Aa!==0&&(Tg()&&(t=Aa),Aa=0);for(var e=P(),n=null,a=Tu;a!==null;){var c=a.next,o=Md(a,e);o===0?(a.next=null,n===null?Tu=c:n.next=c,c===null&&(ml=n)):(n=a,(t!==0||(o&3)!==0)&&(Du=!0)),a=c}si(t)}function Md(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var y=31-rt(o),p=1<<y,w=c[y];w===-1?((p&n)===0||(p&a)!==0)&&(c[y]=Nl(p,e)):w<=e&&(t.expiredLanes|=p),o&=~p}if(e=ne,n=Gt,n=_e(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&$t(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||we(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&$t(a),pc(n)){case 2:case 8:n=dt;break;case 32:n=st;break;case 268435456:n=vt;break;default:n=st}return a=Ad.bind(null,t),n=It(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&$t(a),t.callbackPriority=2,t.callbackNode=null,2}function Ad(t,e){if(Ee!==0&&Ee!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(zu()&&t.callbackNode!==n)return null;var a=Gt;return a=_e(t,t===ne?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(rd(t,a,e),Md(t,P()),t.callbackNode!=null&&t.callbackNode===n?Ad.bind(null,t):null)}function zd(t,e){if(zu())return null;rd(t,e,!0)}function Sg(){Cg(function(){(Kt&6)!==0?It(lt,bg):Ed()})}function ar(){return Aa===0&&(Aa=Oa()),Aa}function Td(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bi(""+t)}function Dd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function _g(t,e,n,a,c){if(e==="submit"&&n&&n.stateNode===c){var o=Td((c[Ue]||null).action),y=a.submitter;y&&(e=(e=y[Ue]||null)?Td(e.formAction):y.getAttribute("formAction"),e!==null&&(o=e,y=null));var p=new Qi("action","action",null,a,c);t.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Aa!==0){var w=y?Dd(c,y):new FormData(c);ws(n,{pending:!0,data:w,method:c.method,action:o},null,w)}}else typeof o=="function"&&(p.preventDefault(),w=y?Dd(c,y):new FormData(c),ws(n,{pending:!0,data:w,method:c.method,action:o},o,w))},currentTarget:c}]})}}for(var lr=0;lr<Gc.length;lr++){var ir=Gc[lr],wg=ir.toLowerCase(),Ng=ir[0].toUpperCase()+ir.slice(1);ln(wg,"on"+Ng)}ln(rf,"onAnimationEnd"),ln(of,"onAnimationIteration"),ln(ff,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(Bm,"onTransitionRun"),ln(Gm,"onTransitionStart"),ln(Vm,"onTransitionCancel"),ln(hf,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ri));function Cd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],c=a.event;a=a.listeners;t:{var o=void 0;if(e)for(var y=a.length-1;0<=y;y--){var p=a[y],w=p.instance,X=p.currentTarget;if(p=p.listener,w!==o&&c.isPropagationStopped())break t;o=p,c.currentTarget=X;try{o(c)}catch(J){pu(J)}c.currentTarget=null,o=w}else for(y=0;y<a.length;y++){if(p=a[y],w=p.instance,X=p.currentTarget,p=p.listener,w!==o&&c.isPropagationStopped())break t;o=p,c.currentTarget=X;try{o(c)}catch(J){pu(J)}c.currentTarget=null,o=w}}}}function Bt(t,e){var n=e[vc];n===void 0&&(n=e[vc]=new Set);var a=t+"__bubble";n.has(a)||(Rd(e,t,2,!1),n.add(a))}function ur(t,e,n){var a=0;e&&(a|=4),Rd(n,t,a,e)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function cr(t){if(!t[Cu]){t[Cu]=!0,No.forEach(function(n){n!=="selectionchange"&&(Eg.has(n)||ur(n,!1,t),ur(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cu]||(e[Cu]=!0,ur("selectionchange",!1,e))}}function Rd(t,e,n,a){switch(n0(e)){case 2:var c=Fg;break;case 8:c=Pg;break;default:c=Sr}n=c.bind(null,e,n,t),c=void 0,!Tc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(e,n,{capture:!0,passive:c}):t.addEventListener(e,n,!0):c!==void 0?t.addEventListener(e,n,{passive:c}):t.addEventListener(e,n,!1)}function sr(t,e,n,a,c){var o=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var p=a.stateNode.containerInfo;if(p===c)break;if(y===4)for(y=a.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;p!==null;){if(y=Ha(p),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){a=o=y;continue t}p=p.parentNode}}a=a.return}Yo(function(){var X=o,J=Ac(n),F=[];t:{var G=df.get(t);if(G!==void 0){var Z=Qi,Tt=t;switch(t){case"keypress":if(Vi(n)===0)break t;case"keydown":case"keyup":Z=xm;break;case"focusin":Tt="focus",Z=Oc;break;case"focusout":Tt="blur",Z=Oc;break;case"beforeblur":case"afterblur":Z=Oc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_m;break;case rf:case of:case ff:Z=om;break;case hf:Z=Nm;break;case"scroll":case"scrollend":Z=im;break;case"wheel":Z=Mm;break;case"copy":case"cut":case"paste":Z=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Vo;break;case"toggle":case"beforetoggle":Z=zm}var Et=(e&4)!==0,te=!Et&&(t==="scroll"||t==="scrollend"),R=Et?G!==null?G+"Capture":null:G;Et=[];for(var M=X,L;M!==null;){var W=M;if(L=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||L===null||R===null||(W=zl(M,R),W!=null&&Et.push(oi(M,W,L))),te)break;M=M.return}0<Et.length&&(G=new Z(G,Tt,null,n,J),F.push({event:G,listeners:Et}))}}if((e&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",G&&n!==Mc&&(Tt=n.relatedTarget||n.fromElement)&&(Ha(Tt)||Tt[Ua]))break t;if((Z||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Z?(Tt=n.relatedTarget||n.toElement,Z=X,Tt=Tt?Ha(Tt):null,Tt!==null&&(te=f(Tt),Et=Tt.tag,Tt!==te||Et!==5&&Et!==27&&Et!==6)&&(Tt=null)):(Z=null,Tt=X),Z!==Tt)){if(Et=Bo,W="onMouseLeave",R="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Et=Vo,W="onPointerLeave",R="onPointerEnter",M="pointer"),te=Z==null?G:Al(Z),L=Tt==null?G:Al(Tt),G=new Et(W,M+"leave",Z,n,J),G.target=te,G.relatedTarget=L,W=null,Ha(J)===X&&(Et=new Et(R,M+"enter",Tt,n,J),Et.target=L,Et.relatedTarget=te,W=Et),te=W,Z&&Tt)e:{for(Et=Z,R=Tt,M=0,L=Et;L;L=gl(L))M++;for(L=0,W=R;W;W=gl(W))L++;for(;0<M-L;)Et=gl(Et),M--;for(;0<L-M;)R=gl(R),L--;for(;M--;){if(Et===R||R!==null&&Et===R.alternate)break e;Et=gl(Et),R=gl(R)}Et=null}else Et=null;Z!==null&&Od(F,G,Z,Et,!1),Tt!==null&&te!==null&&Od(F,te,Tt,Et,!0)}}t:{if(G=X?Al(X):window,Z=G.nodeName&&G.nodeName.toLowerCase(),Z==="select"||Z==="input"&&G.type==="file")var gt=Wo;else if(Jo(G))if(Fo)gt=Ym;else{gt=Hm;var Xt=Um}else Z=G.nodeName,!Z||Z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?X&&Ec(X.elementType)&&(gt=Wo):gt=Lm;if(gt&&(gt=gt(t,X))){Io(F,gt,n,J);break t}Xt&&Xt(t,G,X),t==="focusout"&&X&&G.type==="number"&&X.memoizedProps.value!=null&&Nc(G,"number",G.value)}switch(Xt=X?Al(X):window,t){case"focusin":(Jo(Xt)||Xt.contentEditable==="true")&&(ka=Xt,Xc=X,Hl=null);break;case"focusout":Hl=Xc=ka=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,cf(F,n,J);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":cf(F,n,J)}var bt;if(Uc)t:{switch(t){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Qa?$o(t,n)&&(At="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(At="onCompositionStart");At&&(Zo&&n.locale!=="ko"&&(Qa||At!=="onCompositionStart"?At==="onCompositionEnd"&&Qa&&(bt=Xo()):(qn=J,Dc="value"in qn?qn.value:qn.textContent,Qa=!0)),Xt=Ru(X,At),0<Xt.length&&(At=new Go(At,t,null,n,J),F.push({event:At,listeners:Xt}),bt?At.data=bt:(bt=Ko(n),bt!==null&&(At.data=bt)))),(bt=Dm?Cm(t,n):Rm(t,n))&&(At=Ru(X,"onBeforeInput"),0<At.length&&(Xt=new Go("onBeforeInput","beforeinput",null,n,J),F.push({event:Xt,listeners:At}),Xt.data=bt)),_g(F,t,X,n,J)}Cd(F,e)})}function oi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",a=[];t!==null;){var c=t,o=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||o===null||(c=zl(t,n),c!=null&&a.unshift(oi(t,c,o)),c=zl(t,e),c!=null&&a.push(oi(t,c,o))),t.tag===3)return a;t=t.return}return[]}function gl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Od(t,e,n,a,c){for(var o=e._reactName,y=[];n!==null&&n!==a;){var p=n,w=p.alternate,X=p.stateNode;if(p=p.tag,w!==null&&w===a)break;p!==5&&p!==26&&p!==27||X===null||(w=X,c?(X=zl(n,o),X!=null&&y.unshift(oi(n,X,w))):c||(X=zl(n,o),X!=null&&y.push(oi(n,X,w)))),n=n.return}y.length!==0&&t.push({event:e,listeners:y})}var Mg=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(Mg,`
`).replace(Ag,"")}function Ud(t,e){return e=jd(e),jd(t)===e}function Ou(){}function Pt(t,e,n,a,c,o){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Ga(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Ga(t,""+a);break;case"className":Yi(t,"class",a);break;case"tabIndex":Yi(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,n,a);break;case"style":Ho(t,a,o);break;case"data":if(e!=="object"){Yi(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Bi(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&Pt(t,e,"name",c.name,c,null),Pt(t,e,"formEncType",c.formEncType,c,null),Pt(t,e,"formMethod",c.formMethod,c,null),Pt(t,e,"formTarget",c.formTarget,c,null)):(Pt(t,e,"encType",c.encType,c,null),Pt(t,e,"method",c.method,c,null),Pt(t,e,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Bi(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Ou);break;case"onScroll":a!=null&&Bt("scroll",t);break;case"onScrollEnd":a!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=Bi(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),Li(t,"popover",a);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Li(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=am.get(n)||n,Li(t,n,a))}}function rr(t,e,n,a,c,o){switch(n){case"style":Ho(t,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Ga(t,a):(typeof a=="number"||typeof a=="bigint")&&Ga(t,""+a);break;case"onScroll":a!=null&&Bt("scroll",t);break;case"onScrollEnd":a!=null&&Bt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),e=n.slice(2,c?n.length-7:void 0),o=t[Ue]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,c),typeof a=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,c);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Li(t,n,a)}}}function Me(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var a=!1,c=!1,o;for(o in n)if(n.hasOwnProperty(o)){var y=n[o];if(y!=null)switch(o){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Pt(t,e,o,y,n,null)}}c&&Pt(t,e,"srcSet",n.srcSet,n,null),a&&Pt(t,e,"src",n.src,n,null);return;case"input":Bt("invalid",t);var p=o=y=c=null,w=null,X=null;for(a in n)if(n.hasOwnProperty(a)){var J=n[a];if(J!=null)switch(a){case"name":c=J;break;case"type":y=J;break;case"checked":w=J;break;case"defaultChecked":X=J;break;case"value":o=J;break;case"defaultValue":p=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,e));break;default:Pt(t,e,a,J,n,null)}}Ro(t,o,p,w,X,y,c,!1),Xi(t);return;case"select":Bt("invalid",t),a=y=o=null;for(c in n)if(n.hasOwnProperty(c)&&(p=n[c],p!=null))switch(c){case"value":o=p;break;case"defaultValue":y=p;break;case"multiple":a=p;default:Pt(t,e,c,p,n,null)}e=o,n=y,t.multiple=!!a,e!=null?Ba(t,!!a,e,!1):n!=null&&Ba(t,!!a,n,!0);return;case"textarea":Bt("invalid",t),o=c=a=null;for(y in n)if(n.hasOwnProperty(y)&&(p=n[y],p!=null))switch(y){case"value":a=p;break;case"defaultValue":c=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:Pt(t,e,y,p,n,null)}jo(t,a,c,o),Xi(t);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(a=n[w],a!=null))switch(w){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pt(t,e,w,a,n,null)}return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(a=0;a<ri.length;a++)Bt(ri[a],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in n)if(n.hasOwnProperty(X)&&(a=n[X],a!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Pt(t,e,X,a,n,null)}return;default:if(Ec(e)){for(J in n)n.hasOwnProperty(J)&&(a=n[J],a!==void 0&&rr(t,e,J,a,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(a=n[p],a!=null&&Pt(t,e,p,a,n,null))}function zg(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,o=null,y=null,p=null,w=null,X=null,J=null;for(Z in n){var F=n[Z];if(n.hasOwnProperty(Z)&&F!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":w=F;default:a.hasOwnProperty(Z)||Pt(t,e,Z,null,a,F)}}for(var G in a){var Z=a[G];if(F=n[G],a.hasOwnProperty(G)&&(Z!=null||F!=null))switch(G){case"type":o=Z;break;case"name":c=Z;break;case"checked":X=Z;break;case"defaultChecked":J=Z;break;case"value":y=Z;break;case"defaultValue":p=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,e));break;default:Z!==F&&Pt(t,e,G,Z,a,F)}}wc(t,y,p,w,X,J,o,c);return;case"select":Z=y=p=G=null;for(o in n)if(w=n[o],n.hasOwnProperty(o)&&w!=null)switch(o){case"value":break;case"multiple":Z=w;default:a.hasOwnProperty(o)||Pt(t,e,o,null,a,w)}for(c in a)if(o=a[c],w=n[c],a.hasOwnProperty(c)&&(o!=null||w!=null))switch(c){case"value":G=o;break;case"defaultValue":p=o;break;case"multiple":y=o;default:o!==w&&Pt(t,e,c,o,a,w)}e=p,n=y,a=Z,G!=null?Ba(t,!!n,G,!1):!!a!=!!n&&(e!=null?Ba(t,!!n,e,!0):Ba(t,!!n,n?[]:"",!1));return;case"textarea":Z=G=null;for(p in n)if(c=n[p],n.hasOwnProperty(p)&&c!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Pt(t,e,p,null,a,c)}for(y in a)if(c=a[y],o=n[y],a.hasOwnProperty(y)&&(c!=null||o!=null))switch(y){case"value":G=c;break;case"defaultValue":Z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==o&&Pt(t,e,y,c,a,o)}Oo(t,G,Z);return;case"option":for(var Tt in n)if(G=n[Tt],n.hasOwnProperty(Tt)&&G!=null&&!a.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Pt(t,e,Tt,null,a,G)}for(w in a)if(G=a[w],Z=n[w],a.hasOwnProperty(w)&&G!==Z&&(G!=null||Z!=null))switch(w){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Pt(t,e,w,G,a,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in n)G=n[Et],n.hasOwnProperty(Et)&&G!=null&&!a.hasOwnProperty(Et)&&Pt(t,e,Et,null,a,G);for(X in a)if(G=a[X],Z=n[X],a.hasOwnProperty(X)&&G!==Z&&(G!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,e));break;default:Pt(t,e,X,G,a,Z)}return;default:if(Ec(e)){for(var te in n)G=n[te],n.hasOwnProperty(te)&&G!==void 0&&!a.hasOwnProperty(te)&&rr(t,e,te,void 0,a,G);for(J in a)G=a[J],Z=n[J],!a.hasOwnProperty(J)||G===Z||G===void 0&&Z===void 0||rr(t,e,J,G,a,Z);return}}for(var R in n)G=n[R],n.hasOwnProperty(R)&&G!=null&&!a.hasOwnProperty(R)&&Pt(t,e,R,null,a,G);for(F in a)G=a[F],Z=n[F],!a.hasOwnProperty(F)||G===Z||G==null&&Z==null||Pt(t,e,F,G,a,Z)}var or=null,fr=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function Hd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ld(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function hr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dr=null;function Tg(){var t=window.event;return t&&t.type==="popstate"?t===dr?!1:(dr=t,!0):(dr=null,!1)}var Yd=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,Xd=typeof Promise=="function"?Promise:void 0,Cg=typeof queueMicrotask=="function"?queueMicrotask:typeof Xd<"u"?function(t){return Xd.resolve(null).then(t).catch(Rg)}:Yd;function Rg(t){setTimeout(function(){throw t})}function na(t){return t==="head"}function qd(t,e){var n=e,a=0,c=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<a&&8>a){n=a;var y=t.ownerDocument;if(n&1&&fi(y.documentElement),n&2&&fi(y.body),n&4)for(n=y.head,fi(n),y=n.firstChild;y;){var p=y.nextSibling,w=y.nodeName;y[Ml]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=p}}if(c===0){t.removeChild(o),xi(e);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:a=n.charCodeAt(0)-48;else a=0;n=o}while(n);xi(e)}function yr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yr(n),xc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Og(t,e,n,a){for(;t.nodeType===1;){var c=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ml])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=cn(t.nextSibling),t===null)break}return null}function jg(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=cn(t.nextSibling),t===null))return null;return t}function mr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ug(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var gr=null;function Bd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Gd(t,e,n){switch(e=ju(n),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);xc(t)}var nn=new Map,Vd=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hn=nt.d;nt.d={f:Hg,r:Lg,D:Yg,C:Xg,L:qg,m:Bg,X:Vg,S:Gg,M:Zg};function Hg(){var t=Hn.f(),e=Mu();return t||e}function Lg(t){var e=La(t);e!==null&&e.tag===5&&e.type==="form"?rh(e):Hn.r(t)}var pl=typeof document>"u"?null:document;function Zd(t,e,n){var a=pl;if(a&&typeof e=="string"&&e){var c=Je(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Vd.has(c)||(Vd.add(c),t={rel:t,crossOrigin:n,href:e},a.querySelector(c)===null&&(e=a.createElement("link"),Me(e,"link",t),ve(e),a.head.appendChild(e)))}}function Yg(t){Hn.D(t),Zd("dns-prefetch",t,null)}function Xg(t,e){Hn.C(t,e),Zd("preconnect",t,e)}function qg(t,e,n){Hn.L(t,e,n);var a=pl;if(a&&t&&e){var c='link[rel="preload"][as="'+Je(e)+'"]';e==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Je(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Je(n.imageSizes)+'"]')):c+='[href="'+Je(t)+'"]';var o=c;switch(e){case"style":o=vl(t);break;case"script":o=xl(t)}nn.has(o)||(t=v({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),nn.set(o,t),a.querySelector(c)!==null||e==="style"&&a.querySelector(hi(o))||e==="script"&&a.querySelector(di(o))||(e=a.createElement("link"),Me(e,"link",t),ve(e),a.head.appendChild(e)))}}function Bg(t,e){Hn.m(t,e);var n=pl;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+Je(a)+'"][href="'+Je(t)+'"]',o=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=xl(t)}if(!nn.has(o)&&(t=v({rel:"modulepreload",href:t},e),nn.set(o,t),n.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(di(o)))return}a=n.createElement("link"),Me(a,"link",t),ve(a),n.head.appendChild(a)}}}function Gg(t,e,n){Hn.S(t,e,n);var a=pl;if(a&&t){var c=Ya(a).hoistableStyles,o=vl(t);e=e||"default";var y=c.get(o);if(!y){var p={loading:0,preload:null};if(y=a.querySelector(hi(o)))p.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":e},n),(n=nn.get(o))&&pr(t,n);var w=y=a.createElement("link");ve(w),Me(w,"link",t),w._p=new Promise(function(X,J){w.onload=X,w.onerror=J}),w.addEventListener("load",function(){p.loading|=1}),w.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Hu(y,e,a)}y={type:"stylesheet",instance:y,count:1,state:p},c.set(o,y)}}}function Vg(t,e){Hn.X(t,e);var n=pl;if(n&&t){var a=Ya(n).hoistableScripts,c=xl(t),o=a.get(c);o||(o=n.querySelector(di(c)),o||(t=v({src:t,async:!0},e),(e=nn.get(c))&&vr(t,e),o=n.createElement("script"),ve(o),Me(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(c,o))}}function Zg(t,e){Hn.M(t,e);var n=pl;if(n&&t){var a=Ya(n).hoistableScripts,c=xl(t),o=a.get(c);o||(o=n.querySelector(di(c)),o||(t=v({src:t,async:!0,type:"module"},e),(e=nn.get(c))&&vr(t,e),o=n.createElement("script"),ve(o),Me(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(c,o))}}function Qd(t,e,n,a){var c=(c=ft.current)?Uu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=vl(n.href),n=Ya(c).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=vl(n.href);var o=Ya(c).hoistableStyles,y=o.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,y),(o=c.querySelector(hi(t)))&&!o._p&&(y.instance=o,y.state.loading=5),nn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(t,n),o||Qg(c,t,n,y.state))),e&&a===null)throw Error(s(528,""));return y}if(e&&a!==null)throw Error(s(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xl(n),n=Ya(c).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vl(t){return'href="'+Je(t)+'"'}function hi(t){return'link[rel="stylesheet"]['+t+"]"}function kd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Qg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Me(e,"link",n),ve(e),t.head.appendChild(e))}function xl(t){return'[src="'+Je(t)+'"]'}function di(t){return"script[async]"+t}function $d(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Je(n.href)+'"]');if(a)return e.instance=a,ve(a),a;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ve(a),Me(a,"style",c),Hu(a,n.precedence,t),e.instance=a;case"stylesheet":c=vl(n.href);var o=t.querySelector(hi(c));if(o)return e.state.loading|=4,e.instance=o,ve(o),o;a=kd(n),(c=nn.get(c))&&pr(a,c),o=(t.ownerDocument||t).createElement("link"),ve(o);var y=o;return y._p=new Promise(function(p,w){y.onload=p,y.onerror=w}),Me(o,"link",a),e.state.loading|=4,Hu(o,n.precedence,t),e.instance=o;case"script":return o=xl(n.src),(c=t.querySelector(di(o)))?(e.instance=c,ve(c),c):(a=n,(c=nn.get(o))&&(a=v({},n),vr(a,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),Me(c,"link",a),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,Hu(a,n.precedence,t));return e.instance}function Hu(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,o=c,y=0;y<a.length;y++){var p=a[y];if(p.dataset.precedence===e)o=p;else if(o!==c)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function pr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Lu=null;function Kd(t,e,n){if(Lu===null){var a=new Map,c=Lu=new Map;c.set(n,a)}else c=Lu,a=c.get(n),a||(a=new Map,c.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),c=0;c<n.length;c++){var o=n[c];if(!(o[Ml]||o[Ae]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var y=o.getAttribute(e)||"";y=t+y;var p=a.get(y);p?p.push(o):a.set(y,[o])}}return a}function Jd(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function kg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Id(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yi=null;function $g(){}function Kg(t,e,n){if(yi===null)throw Error(s(475));var a=yi;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=vl(n.href),o=t.querySelector(hi(c));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=Yu.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=o,ve(o);return}o=t.ownerDocument||t,n=kd(n),(c=nn.get(c))&&pr(n,c),o=o.createElement("link"),ve(o);var y=o;y._p=new Promise(function(p,w){y.onload=p,y.onerror=w}),Me(o,"link",n),e.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=Yu.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function Jg(){if(yi===null)throw Error(s(475));var t=yi;return t.stylesheets&&t.count===0&&xr(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&xr(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)xr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function xr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,e.forEach(Ig,t),Xu=null,Yu.call(t))}function Ig(t,e){if(!(e.state.loading&4)){var n=Xu.get(t);if(n)var a=n.get(null);else{n=new Map,Xu.set(t,n);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<c.length;o++){var y=c[o];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),a=y)}a&&n.set(null,a)}c=e.instance,y=c.getAttribute("data-precedence"),o=n.get(y)||a,o===a&&n.set(null,c),n.set(y,c),this.count++,a=Yu.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),o?o.parentNode.insertBefore(c,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var mi={$$typeof:j,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Wg(t,e,n,a,c,o,y,p){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.hiddenUpdates=mc(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=o,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Wd(t,e,n,a,c,o,y,p,w,X,J,F){return t=new Wg(t,e,n,y,p,w,X,F),e=1,o===!0&&(e|=24),o=Ge(3,null,null,e),t.current=o,o.stateNode=t,e=ts(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:e},ls(o),t}function Fd(t){return t?(t=Ia,t):Ia}function Pd(t,e,n,a,c,o){c=Fd(c),a.context===null?a.context=c:a.pendingContext=c,a=Vn(e),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=Zn(t,a,e),n!==null&&($e(n,t,e),Ql(n,t,e))}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function br(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function e0(t){if(t.tag===13){var e=Ja(t,67108864);e!==null&&$e(e,t,67108864),br(t,67108864)}}var qu=!0;function Fg(t,e,n,a){var c=k.T;k.T=null;var o=nt.p;try{nt.p=2,Sr(t,e,n,a)}finally{nt.p=o,k.T=c}}function Pg(t,e,n,a){var c=k.T;k.T=null;var o=nt.p;try{nt.p=8,Sr(t,e,n,a)}finally{nt.p=o,k.T=c}}function Sr(t,e,n,a){if(qu){var c=_r(a);if(c===null)sr(t,e,a,Bu,n),a0(t,a);else if(ep(c,t,e,n,a))a.stopPropagation();else if(a0(t,a),e&4&&-1<tp.indexOf(t)){for(;c!==null;){var o=La(c);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var y=Wt(o.pendingLanes);if(y!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;y;){var w=1<<31-rt(y);p.entanglements[1]|=w,y&=~w}gn(o),(Kt&6)===0&&(Nu=P()+500,si(0))}}break;case 13:p=Ja(o,2),p!==null&&$e(p,o,2),Mu(),br(o,2)}if(o=_r(a),o===null&&sr(t,e,a,Bu,n),o===c)break;c=o}c!==null&&a.stopPropagation()}else sr(t,e,a,null,n)}}function _r(t){return t=Ac(t),wr(t)}var Bu=null;function wr(t){if(Bu=null,t=Ha(t),t!==null){var e=f(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=h(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Bu=t,null}function n0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case lt:return 2;case dt:return 8;case st:case mt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Nr=!1,aa=null,la=null,ia=null,gi=new Map,pi=new Map,ua=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(e.pointerId)}}function vi(t,e,n,a,c,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[c]},e!==null&&(e=La(e),e!==null&&e0(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function ep(t,e,n,a,c){switch(e){case"focusin":return aa=vi(aa,t,e,n,a,c),!0;case"dragenter":return la=vi(la,t,e,n,a,c),!0;case"mouseover":return ia=vi(ia,t,e,n,a,c),!0;case"pointerover":var o=c.pointerId;return gi.set(o,vi(gi.get(o)||null,t,e,n,a,c)),!0;case"gotpointercapture":return o=c.pointerId,pi.set(o,vi(pi.get(o)||null,t,e,n,a,c)),!0}return!1}function l0(t){var e=Ha(t.target);if(e!==null){var n=f(e);if(n!==null){if(e=n.tag,e===13){if(e=h(n),e!==null){t.blockedOn=e,Ky(t.priority,function(){if(n.tag===13){var a=ke();a=gc(a);var c=Ja(n,a);c!==null&&$e(c,n,a),br(n,a)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_r(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Mc=a,n.target.dispatchEvent(a),Mc=null}else return e=La(n),e!==null&&e0(e),t.blockedOn=n,!1;e.shift()}return!0}function i0(t,e,n){Gu(t)&&n.delete(e)}function np(){Nr=!1,aa!==null&&Gu(aa)&&(aa=null),la!==null&&Gu(la)&&(la=null),ia!==null&&Gu(ia)&&(ia=null),gi.forEach(i0),pi.forEach(i0)}function Vu(t,e){t.blockedOn===e&&(t.blockedOn=null,Nr||(Nr=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,np)))}var Zu=null;function u0(t){Zu!==t&&(Zu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],c=t[e+2];if(typeof a!="function"){if(wr(a||n)===null)continue;break}var o=La(n);o!==null&&(t.splice(e,3),e-=3,ws(o,{pending:!0,data:c,method:n.method,action:a},a,c))}}))}function xi(t){function e(w){return Vu(w,t)}aa!==null&&Vu(aa,t),la!==null&&Vu(la,t),ia!==null&&Vu(ia,t),gi.forEach(e),pi.forEach(e);for(var n=0;n<ua.length;n++){var a=ua[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ua.length&&(n=ua[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&ua.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var c=n[a],o=n[a+1],y=c[Ue]||null;if(typeof o=="function")y||u0(n);else if(y){var p=null;if(o&&o.hasAttribute("formAction")){if(c=o,y=o[Ue]||null)p=y.formAction;else if(wr(c)!==null)continue}else p=y.action;typeof p=="function"?n[a+1]=p:(n.splice(a,3),a-=3),u0(n)}}}function Er(t){this._internalRoot=t}Qu.prototype.render=Er.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var n=e.current,a=ke();Pd(n,a,t,e,null,null)},Qu.prototype.unmount=Er.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pd(t.current,2,null,t,null,null),Mu(),e[Ua]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=_o();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ua.length&&e!==0&&e<ua[n].priority;n++);ua.splice(n,0,t),n===0&&l0(t)}};var c0=i.version;if(c0!=="19.1.0")throw Error(s(527,c0,"19.1.0"));nt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(e),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var ap={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{_t=ku.inject(ap),U=ku}catch{}}return Si.createRoot=function(t,e){if(!r(t))throw Error(s(299));var n=!1,a="",c=wh,o=Nh,y=Eh,p=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(p=e.unstable_transitionCallbacks)),e=Wd(t,1,!1,null,null,n,a,c,o,y,p,null),t[Ua]=e.current,cr(t),new Er(e)},Si.hydrateRoot=function(t,e,n){if(!r(t))throw Error(s(299));var a=!1,c="",o=wh,y=Nh,p=Eh,w=null,X=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks),n.formState!==void 0&&(X=n.formState)),e=Wd(t,1,!0,e,n??null,a,c,o,y,p,w,X),e.context=Fd(null),n=e.current,a=ke(),a=gc(a),c=Vn(a),c.callback=null,Zn(n,c,a),n=a,e.current.lanes=n,El(e,n),gn(e),t[Ua]=e.current,cr(t),new Qu(e)},Si.version="19.1.0",Si}var p0;function dp(){if(p0)return zr.exports;p0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),zr.exports=hp(),zr.exports}var yp=dp(),Wu={exports:{}},mp=Wu.exports,v0;function gp(){return v0||(v0=1,function(l,i){(function(u,s){s(l)})(mp,function(u){function s(z,T){if(!(z instanceof T))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function r(z,T,j){if(!Array.isArray(z))throw new TypeError("First argument should be an array");if(z.forEach(function(I){if(!Array.isArray(I)||I.some(function(et){return typeof et!="number"})||I.length!==z[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),z=z.filter(function(I,et){return et===0||!I.every(function(ht,ut){return ht===z[et-1][ut]})}),z.length<2)return[];var A=z.length,H=K(z[1],z[0]),B=K(z[A-2],z[A-1]);return f(z,H,B,T,j)}function f(z,T,j,A,H){var B=20,I,et,ht,ut,V,ct,Dt,zt,Yt,k,nt,O,it;if(z.length===2)return O=E.vectorLen(E.subtract(z[0],z[1]))/3,I=[z[0],E.addArrays(z[0],E.mulItems(T,O)),E.addArrays(z[1],E.mulItems(j,O)),z[1]],[I];et=v(z);var x=h(z,et,et,T,j,H);if(I=x[0],ut=x[1],ct=x[2],ut===0||ut<A)return[I];if(ut<A*A)for(ht=et,V=ut,Dt=ct,it=0;it<B;it++){ht=g(I,z,ht);var C=h(z,et,ht,T,j,H);if(I=C[0],ut=C[1],ct=C[2],ut<A)return[I];if(ct===Dt){var $=ut/V;if($>.9999&&$<1.0001)break}V=ut,Dt=ct}if(nt=[],zt=E.subtract(z[ct-1],z[ct+1]),zt.every(function(ot){return ot===0})){zt=E.subtract(z[ct-1],z[ct]);var Q=[-zt[1],zt[0]];zt[0]=Q[0],zt[1]=Q[1]}return Yt=E.normalize(zt),k=E.mulItems(Yt,-1),nt=nt.concat(f(z.slice(0,ct+1),T,Yt,A,H)),nt=nt.concat(f(z.slice(ct),k,j,A,H)),nt}function h(z,T,j,A,H,B){var I,et,ht;I=d(z,j,A,H);var ut=S(z,I,T);return et=ut[0],ht=ut[1],B&&B({bez:I,points:z,params:T,maxErr:et,maxPoint:ht}),[I,et,ht]}function d(z,T,j,A){var H,B,I,et,ht,ut,V,ct,Dt,zt,Yt,k,nt,O,it,x,C,$=z[0],Q=z[z.length-1];for(H=[$,null,null,Q],B=E.zeros_Xx2x2(T.length),nt=0,O=T.length;nt<O;nt++)x=T[nt],C=1-x,I=B[nt],I[0]=E.mulItems(j,3*x*(C*C)),I[1]=E.mulItems(A,3*C*(x*x));for(et=[[0,0],[0,0]],ht=[0,0],nt=0,O=z.length;nt<O;nt++)x=T[nt],I=B[nt],et[0][0]+=E.dot(I[0],I[0]),et[0][1]+=E.dot(I[0],I[1]),et[1][0]+=E.dot(I[0],I[1]),et[1][1]+=E.dot(I[1],I[1]),it=E.subtract(z[nt],Y.q([$,$,Q,Q],x)),ht[0]+=E.dot(I[0],it),ht[1]+=E.dot(I[1],it);return ut=et[0][0]*et[1][1]-et[1][0]*et[0][1],V=et[0][0]*ht[1]-et[1][0]*ht[0],ct=ht[0]*et[1][1]-ht[1]*et[0][1],Dt=ut===0?0:ct/ut,zt=ut===0?0:V/ut,k=E.vectorLen(E.subtract($,Q)),Yt=1e-6*k,Dt<Yt||zt<Yt?(H[1]=E.addArrays($,E.mulItems(j,k/3)),H[2]=E.addArrays(Q,E.mulItems(A,k/3))):(H[1]=E.addArrays($,E.mulItems(j,Dt)),H[2]=E.addArrays(Q,E.mulItems(A,zt))),H}function g(z,T,j){return j.map(function(A,H){return m(z,T[H],A)})}function m(z,T,j){var A=E.subtract(Y.q(z,j),T),H=Y.qprime(z,j),B=E.mulMatrix(A,H),I=E.sum(E.squareItems(H))+2*E.mulMatrix(A,Y.qprimeprime(z,j));return I===0?j:j-B/I}function v(z){var T=[],j,A,H;return z.forEach(function(B,I){j=I?A+E.vectorLen(E.subtract(B,H)):0,T.push(j),A=j,H=B}),T=T.map(function(B){return B/A}),T}function S(z,T,j){var A,H,B,I,et,ht,ut,V;H=0,B=Math.floor(z.length/2);var ct=_(T,10);for(et=0,ht=z.length;et<ht;et++)ut=z[et],V=N(T,j[et],ct,10),I=E.subtract(Y.q(T,V),ut),A=I[0]*I[0]+I[1]*I[1],A>H&&(H=A,B=et);return[H,B]}var _=function(T,j){for(var A,H=[0],B=T[0],I=0,et=1;et<=j;et++)A=Y.q(T,et/j),I+=E.vectorLen(E.subtract(A,B)),H.push(I),B=A;return H=H.map(function(ht){return ht/I}),H};function N(z,T,j,A){if(T<0)return 0;if(T>1)return 1;for(var H,B,I,et,ht,ut=1;ut<=A;ut++)if(T<=j[ut]){et=(ut-1)/A,I=ut/A,B=j[ut-1],H=j[ut],ht=(T-B)/(H-B)*(I-et)+et;break}return ht}function K(z,T){return E.normalize(E.subtract(z,T))}var E=function(){function z(){s(this,z)}return z.zeros_Xx2x2=function(j){for(var A=[];j--;)A.push([0,0]);return A},z.mulItems=function(j,A){return j.map(function(H){return H*A})},z.mulMatrix=function(j,A){return j.reduce(function(H,B,I){return H+B*A[I]},0)},z.subtract=function(j,A){return j.map(function(H,B){return H-A[B]})},z.addArrays=function(j,A){return j.map(function(H,B){return H+A[B]})},z.addItems=function(j,A){return j.map(function(H){return H+A})},z.sum=function(j){return j.reduce(function(A,H){return A+H})},z.dot=function(j,A){return z.mulMatrix(j,A)},z.vectorLen=function(j){return Math.hypot.apply(Math,j)},z.divItems=function(j,A){return j.map(function(H){return H/A})},z.squareItems=function(j){return j.map(function(A){return A*A})},z.normalize=function(j){return this.divItems(j,this.vectorLen(j))},z}(),Y=function(){function z(){s(this,z)}return z.q=function(j,A){var H=1-A,B=E.mulItems(j[0],H*H*H),I=E.mulItems(j[1],3*H*H*A),et=E.mulItems(j[2],3*H*A*A),ht=E.mulItems(j[3],A*A*A);return E.addArrays(E.addArrays(B,I),E.addArrays(et,ht))},z.qprime=function(j,A){var H=1-A,B=E.mulItems(E.subtract(j[1],j[0]),3*H*H),I=E.mulItems(E.subtract(j[2],j[1]),6*H*A),et=E.mulItems(E.subtract(j[3],j[2]),3*A*A);return E.addArrays(E.addArrays(B,I),et)},z.qprimeprime=function(j,A){return E.addArrays(E.mulItems(E.addArrays(E.subtract(j[2],E.mulItems(j[1],2)),j[0]),6*(1-A)),E.mulItems(E.addArrays(E.subtract(j[3],E.mulItems(j[2],2)),j[1]),6*A))},z}();u.exports=r,u.exports.fitCubic=f,u.exports.createTangent=K})}(Wu)),Wu.exports}var pp=gp();const vp=G0(pp);var xp=Math.pow,vn=(l,i=1/0)=>{if(i===1/0)return l;i<0&&(i=0);let u=xp(10,i);return Math.round(l*u)/u},bp=l=>!isNaN(parseFloat(l))&&isFinite(l),Sp=(l,i=1/0)=>{let u=l[0],s=l[1],r=l[2]-s;return u===0&&r===0?1/0:u===0?NaN:vn(r/u,i)},x0=(l,i=1/0)=>{let u=l[0],s=l[1],r=l[2],f=l[3];if(u===0){let v=Sp([s,r,f],i);return bp(v)?[v]:[]}let h=r-f,d=s*s-4*u*h;if(d<0)return[];if(d===0)return[vn(-s/(2*u),i)];let g=2*u,m=Math.sqrt(d);return[vn((-s+m)/g,i),vn((-s-m)/g,i)]},_p=(l,i,u,s,r,f=1/0)=>{let h=Math.pow(1-l,3),d=Math.pow(1-l,2)*3*l,g=(1-l)*3*l*l,m=l*l*l;return[vn(h*i[0]+d*u[0]+g*s[0]+m*r[0],f),vn(h*i[1]+d*u[1]+g*s[1]+m*r[1],f)]},wp=(l,i,u,s,r=1/0)=>{let f=-3*l[0]+9*i[0]-9*u[0]+3*s[0],h=6*l[0]-12*i[0]+6*u[0],d=-3*l[0]+3*i[0],g=[f,h,d,0],m=-3*l[1]+9*i[1]-9*u[1]+3*s[1],v=6*l[1]-12*i[1]+6*u[1],S=-3*l[1]+3*i[1],_=[m,v,S,0],N=x0(g,r).filter(E=>E>=0&&E<=1),K=x0(_,r).filter(E=>E>=0&&E<=1);return[...N,...K].length===2?[...N,...K]:null},Np=(l,i,u,s,r=1/0)=>{let f=wp(l,i,u,s)||[],h=1/0,d=1/0,g=-1/0,m=-1/0;for(let v of f){let S=_p(v,l,i,u,s),_=S[0],N=S[1];h=Math.min(h,_??1/0),g=Math.max(g,_??-1/0),d=Math.min(d,N??1/0),m=Math.max(m,N??-1/0)}return h=vn(Math.min(h,l[0],s[0]),r),g=vn(Math.max(g,l[0],s[0]),r),d=vn(Math.min(d,l[1],s[1]),r),m=vn(Math.max(m,l[1],s[1]),r),{x:h,y:d,w:Math.abs(g-h),h:Math.abs(m-d),x2:g,y2:m}},Ep=Object.defineProperty,wt=(l,i)=>Ep(l,"name",{value:i,configurable:!0});function Jr(l){const i=l.length,u=l.reduce((f,h)=>f+h,0)/i,s=l.reduce((f,h)=>f+(h-u)**2,0)/(i-1);return{sd:Math.sqrt(s),mean:u}}wt(Jr,"standardDeviation");var V0=class{constructor(i,u,s){this.x=i,this.y=u,this.i=s}toString(){return`(${[this.x,this.y]})`}};wt(V0,"Dot");var Ut=V0,Z0=class extends Ut{constructor(i,u,s,r){super(i,u,s),this.n=r}};wt(Z0,"DotWithNumber");var Hr=Z0;function Ir(l){const i=wt(s=>`${s.x}:${s.y}`,"key"),u={};return l.forEach(s=>{const r=i(s);r in u?u[r].n+=1:u[r]={dot:s,n:1}}),Object.keys(u).map((s,r)=>{const f=u[s];return new Hr(f.dot.x,f.dot.y,r,f.n)})}wt(Ir,"removeDuplicates");function bn(l){let i=1/0,u=1/0,s=-1/0,r=-1/0;return l.forEach(function(f){const{x:h,y:d}=f;h<i&&(i=h),h>s&&(s=h),d<u&&(u=d),d>r&&(r=d)}),{min:new Ut(i,u),max:new Ut(s,r)}}wt(bn,"minMaxDots");function Q0(l){const{min:i,max:u}=bn(l),s=Math.round((u.x-i.x)/2),r=Math.round((u.y-i.y)/2);return l.map(f=>new Ut(f.x-i.x-s,f.y-i.y-r))}wt(Q0,"normalize");function Lr(l,i){const u=fc(l,i),s=oc(l,i);return new Ut(l.x-u,l.y-s)}wt(Lr,"mirrorPoint");function k0(l,i=!1){const u=i?l[l.length-1]:Lr(l[0],l[1]),s=new Hr(u.x,u.y,-1,3),r=i?l[0]:Lr(l[l.length-1],l[l.length-2]),f=new Hr(r.x,r.y,l.length,3);return[s,...l,f]}wt(k0,"augmentDots");function Wr(l){const i=[];for(let r=1;r<l.length;r++)i.push(ge(l[r-1],l[r]));const u=ge(l[0],l[l.length-1]);return{...Jr(i),endPointsDistance:u,distances:i}}wt(Wr,"distanceDeviation");function $0(l){const i=[];for(let u=1;u<l.length;u++)i.push(K0(l[u-1],l[u]));return i}wt($0,"derivative");function pn(l){return[l[0],l[l.length-1]]}wt(pn,"endpoints");function oc(l,i){const{x:u,y:s}=l,{x:r,y:f}=i;return f-s}wt(oc,"dy");function fc(l,i){const{x:u,y:s}=l,{x:r,y:f}=i;return r-u}wt(fc,"dx");function K0(l,i){return oc(l,i)/fc(l,i)}wt(K0,"dydx");function Fr(l,i,u){return sn(l,i,i,u)}wt(Fr,"angleBetweenThreePoints");function ge(l,i){const u=fc(l,i),s=oc(l,i);return Math.sqrt(u**2+s**2)}wt(ge,"distanceBetweenDots");function sn(l,i,u,s){const r={x:i.x-l.x,y:i.y-l.y},f={x:s.x-u.x,y:s.y-u.y},h=r.x*f.x+r.y*f.y,d=Math.sqrt(r.x**2+r.y**2),g=Math.sqrt(f.x**2+f.y**2),m=h/(d*g),v=Math.acos(m),S=v*180/Math.PI;return isNaN(v)?0:S}wt(sn,"angleBetweenLines");function Mp(l,i,u,s){const{x:r,y:f}=l,{x:h,y:d}=i,{x:g,y:m}=u,{x:v,y:S}=s,_=((r*d-f*h)*(g-v)-(r-h)*(g*S-m*v))/((r-h)*(m-S)-(f-d)*(g-v)),N=((r*d-f*h)*(m-S)-(f-d)*(g*S-m*v))/((r-h)*(m-S)-(f-d)*(g-v));return new Ut(_,N)}wt(Mp,"lineIntersection");function Pr(l,i){const u=i*Math.PI/180,s=Math.cos(u),r=Math.sin(u),f=l.x*s-l.y*r,h=l.x*r+l.y*s;return new Ut(f,h,l.i)}wt(Pr,"rotatePoint");function J0(l){const i=[];for(let u=1;u<l.length-1;u++){const s=l[u-1],r=l[u],f=l[u+1],h=Fr(s,r,f),d=Math.round(ge(s,r)+ge(r,f));i.push({th:h,mag:d,i:u-1})}return i}wt(J0,"angles");function to(l,i){const u=J0(l);let s=0;return u.map((r,f)=>(s+=r.mag,{mag:s,th:r.th<i?0:r.th,i:f}))}wt(to,"anglesRaw");function eo(l){return l.filter((i,u)=>{const s=l[u-1],r=l[u],f=l[u+1];return!(s&&r&&f&&(s.th<r.th&&r.th<f.th||s.th>r.th&&r.th>=f.th||s.th>=r.th&&r.th>f.th))})}wt(eo,"mergeAngles");function I0(l,i,u){const s=[...l],r=[];return i.forEach(f=>{const h=s[f-1],d=s[f],g=s[f+1];h&&ge(d,h)<u&&i.indexOf(f-1)<0&&r.push(f-1),g&&ge(d,g)<u&&i.indexOf(f+1)<0&&r.push(f+1)}),s.filter((f,h)=>r.indexOf(h)<0)}wt(I0,"sparseDotsInPointsOfInterest");function no(l,i,u){const s=Wr(l),r=to(l,u),f=Jr(r.map(g=>g.th)),h=eo(r.filter(g=>Math.abs(g.th)>f.mean+f.sd)),d=I0(l,h.map(g=>g.i+1),Math.max(i,s.mean));return d.length<l.length?no(d,i,u):d}wt(no,"sparseRecursive");function W0(l,i,u,s,r,f){const{min:h}=bn(l),d=Ir(Q0(l)),g={x:h.x,y:h.y},m=k0(d),v=no(m,u,i),S=to(v,i),_=eo(S),N=$0(_.map(T=>new Ut(T.mag,T.th))).map((T,j)=>[j,T]),E=N.filter((T,j)=>{const A=T,H=N[j+1];if(A&&H){const B=A[1],I=H[1];if(B<0&&I>0||B>0&&I<0)return!0}return!1}).map(T=>{const j=T,A=N[j[0]+1];if(j&&A){const H=j[1],B=A[1];return[...T,Math.abs(H)+Math.abs(B)]}}).map(T=>T[0]+1).map(T=>_[T].i+1),z=F0(v,E).map(T=>{const j=Wr(T),A=j.endPointsDistance;return{isLine:j.distances.reduce((I,et)=>I+et,0)/A<=s,segment:T}});return{offset:g,segments:ao(z,r,f)}}wt(W0,"detectSegments");function F0(l,i){const u=l.slice(1,l.length),s=[],r=i.length;for(let f=0;f<r;f++){const h=i[f],d=f===0?1:i[f-1];s.push(u.slice(d-1,h)),f===r-1&&s.push(u.slice(h-1))}return s.length===0?[u]:s}wt(F0,"getSegments");function Yr(l,i,u){return{isLine:u,segment:Ir(l.concat(i))}}wt(Yr,"mergeSubSegments");function ao(l,i,u){l.forEach(r=>r.merged=!1);const s=[];for(let r=1;r<l.length;r++){const f=l[r],h=l[r-1];if(h.merged)r===l.length-1&&s.push(f);else{if(f.isLine&&h.isLine){const d=h.segment[0],g=h.segment[h.segment.length-1],m=f.segment[0],v=f.segment[f.segment.length-1];sn(d,g,m,v)<i&&(s.push(Yr(h.segment,f.segment,!0)),f.merged=!0)}else{const d=h.segment[h.segment.length-2],g=h.segment[h.segment.length-1],m=f.segment[1];180-Fr(d,g,m)>u&&(s.push(Yr(h.segment,f.segment,!1)),f.merged=!0)}f.merged||(r===l.length-1?(s.push(h),s.push(f)):s.push(h))}}return s.forEach(r=>r.merged=!1),s.length?s.length>1&&s.length<l.length?ao(s,i,u):s:l}wt(ao,"mergeSegments");var P0=class ty{constructor(i,u){this.i=i,this.j=u}minus(i){return new ty(this.i-i.i,this.j-i.j)}magnitude(){return Math.sqrt(this.i*this.i+this.j*this.j)}toDot(){return new Ut(this.i,this.j)}};wt(P0,"Vector");var Rr=P0;function ey(l,i){const u=i.magnitude(),s=l.magnitude(),f=(i.i*l.i+i.j*l.j)/(s*u);let h=Math.acos(f);return isNaN(h)?180:h*180/Math.PI}wt(ey,"angleBetweenVectors");var ny=class{constructor(){this.offset={x:0,y:0},this.type="empty"}toString(){return"Empty figure"}boundingBox(){return{x:0,y:0,width:0,height:0}}};wt(ny,"EmptyFigure");var Ap=ny;function ay(l){const i=ly(l);let u=0,s=1/0,r=0;for(let f=-15;f<16;f++){const h=l.map(v=>Pr(v,-i.angle+f)),d=h.map(v=>{const S=lo(v,i.radius.x,i.radius.y);return ge(v,S)}),m=d.reduce((v,S)=>v+S,0)/h.length;m<s&&(s=m,r=Math.max(...d),u=f)}return{...i,angle:i.angle-u,error:s,maxError:r}}wt(ay,"findEllipse2");function ly(l){const i=new Ut(0,0);let u=1/0,s=-1/0,r=0;l.forEach((N,K)=>{const E=ge(N,i);E>s&&(s=E,r=K),E<u&&(u=E)});const f={x:Math.round(u),y:Math.round(s)},h=new Rr(i.x,i.y-10),d=new Rr(i.x,i.y),g=new Rr(l[r].x,l[r].y),m=h.minus(d),v=g.minus(d);let S=ey(v,m);return v.i<0&&(S=360-S),{center:i,radius:f,angle:S,dots:[h.toDot(),d.toDot(),g.toDot()]}}wt(ly,"findEllipse");function lo(l,i,u){const s=i,r=u,f=l.x,h=l.y,d=s*r*f/Math.sqrt(s*s*h*h+r*r*f*f),g=s*r*h/Math.sqrt(s*s*h*h+r*r*f*f);return new Ut(d,g)}wt(lo,"intersectionWithEllipse");var iy=class{constructor(i,u,s,r){this.offset={x:0,y:0},this.type="ellipse",this.center=i,this.rx=u,this.ry=s,this.angle=r}toString(){return`Ellipse, center: ${this.center}, rx: ${this.rx}, ry: ${this.ry}, angle: ${this.angle}`}boundingBox(){const i=this.angle*Math.PI/180,u=this.rx*Math.cos(i),s=this.rx*Math.sin(i),r=this.ry*Math.cos(i+Math.PI/2),f=this.ry*Math.sin(i+Math.PI/2),h=Math.sqrt(u*u+r*r),d=Math.sqrt(s*s+f*f);return{x:-h,y:-d,width:h*2,height:d*2}}};wt(iy,"Ellipse");var zp=iy;function uy(l,i,u){let s=1/0,r=i,f=0;for(let h=i;h<=u;h++){const d=l.map(v=>{const S=lo(v,h,h);return ge(v,S)}),m=d.reduce((v,S)=>v+S,0)/l.length;m<s&&(s=m,f=Math.max(...d),r=h)}return{radius:r,error:s,maxError:f}}wt(uy,"fitCircle");var cy=class{constructor(i,u){this.offset={x:0,y:0},this.type="circle",this.center=i,this.radius=u}toString(){return`Circle, center: ${this.center}, radius: ${this.radius}`}boundingBox(){const i=this.radius*2;return{x:-this.radius,y:-this.radius,width:i,height:i}}};wt(cy,"Circle");var Xr=cy;function io(l){const i=l[0],u=l.substring(1);return i.toUpperCase()+u}wt(io,"capitalize");var sy=class{constructor(i,u,s,r){this.offset={x:0,y:0},this.type="quadrilateral",this.a=i,this.b=u,this.c=s,this.d=r}toString(){return`${io(this.type)}: ${[this.a,this.b,this.c,this.d]}`}boundingBox(){const{min:i,max:u}=bn([this.a,this.b,this.c,this.d]);return{x:i.x,y:i.y,width:u.x-i.x,height:u.y-i.y}}};wt(sy,"Quadrilateral");var ji=sy,ry=class extends ji{constructor(){super(...arguments),this.type="trapezoid"}};wt(ry,"Trapezoid");var Tp=ry,oy=class extends ji{constructor(){super(...arguments),this.type="parallelogram"}};wt(oy,"Parallelogram");var Dp=oy,fy=class{constructor(i,u,s,r=0){this.type="rectangle",this.offset={x:0,y:0},this.corner=i,this.width=u,this.height=s,this.angle=r}boundingBox(){const i=this.corner,u=new Ut(this.corner.x+this.width,this.corner.y),s=new Ut(this.corner.x+this.width,this.corner.y+this.height),r=new Ut(this.corner.x,this.corner.y+this.height),{min:f,max:h}=bn([i,u,s,r].map(d=>Pr(d,this.angle)));return{x:f.x,y:f.y,width:h.x-f.x,height:h.y-f.y}}};wt(fy,"Rectangle");var hy=fy,Cp=class extends ji{constructor(){super(...arguments),this.type="square"}};wt(Cp,"Square");var dy=class extends ji{constructor(){super(...arguments),this.type="diamond"}};wt(dy,"Diamond");var yy=dy,my=class{constructor(i){this.offset={x:0,y:0},this.type="spline",this.curves=i}toString(){return`Spline: ${this.curves.length} curves ${this.curves.join(";")}`}boundingBox(){const u=this.curves.map(f=>Np([f[0].x,f[0].y],[f[1].x,f[1].y],[f[2].x,f[2].y],[f[3].x,f[3].y],5)).flatMap(f=>[new Ut(f.x,f.y),new Ut(f.x2,f.y2)]),{min:s,max:r}=bn(u);return{x:s.x,y:s.y,width:r.x-s.x,height:r.y-s.y}}};wt(my,"Curve");var Rp=my,gy=class{constructor(i,u){this.offset={x:0,y:0},this.type="line",this.start=i,this.end=u}toString(){return`Line: ${[this.start,this.end]}`}boundingBox(){const{min:i,max:u}=bn([this.start,this.end]);return{x:i.x,y:i.y,width:u.x-i.x,height:u.y-i.y}}};wt(gy,"Line");var b0=gy,py=class{constructor(i){this.offset={x:0,y:0},this.type="polyline",this.lines=i}toString(){return`Polyline: ${this.lines}`}boundingBox(){const{min:i,max:u}=bn(this.lines.flatMap(s=>[s.start,s.end]));return{x:i.x,y:i.y,width:u.x-i.x,height:u.y-i.y}}};wt(py,"Polyline");var Op=py,vy=class{constructor(i,u,s){this.offset={x:0,y:0},this.type="triangle",this.a=i,this.b=u,this.c=s}toString(){return`${io(this.type)}: ${[this.a,this.b,this.c]}`}boundingBox(){const{min:i,max:u}=bn([this.a,this.b,this.c]);return{x:i.x,y:i.y,width:u.x-i.x,height:u.y-i.y}}};wt(vy,"Triangle");var jp=vy,xy=class{constructor(i){this.offset={x:0,y:0},this.type="combined",this.figures=i}toString(){return`CombinedFigure:
	${this.figures.join(`
	`)}`}boundingBox(){const u=this.figures.map(f=>f.boundingBox()).flatMap(f=>[new Ut(f.x,f.y),new Ut(f.x+f.width,f.y+f.height)]),{min:s,max:r}=bn(u);return{x:s.x,y:s.y,width:r.x-s.x,height:r.y-s.y}}};wt(xy,"CombinedFigure");var Up=xy;function Ni([l,i]){return new Ut(l,i)}wt(Ni,"toDot");function nc(l,i){const{CLOSED_ENDPOINTS_PROXIMITY:u,ANGLE_TOLERANCE:s,CORNER_NEIGHBOR_DISTANCE:r,LINE_CURVE_TOLLERANCE:f,ELLIPSE_ERROR:h,ELLIPSE_MAX_ERROR:d,ELLIPSE_CIRCLE:g,PARALLEL_TOLLERANCE:m,CORNER_ANGLE_TOLLERANCE:v,LINE_ANGLE_TOLERANCE:S,CURVE_ANGLE_TOLERANCE:_,CURVE_ERROR:N}=i,{segments:K,offset:E}=W0(l,s,r,f,S,_),Y=by(K,u,h,d,g,m,v,N);return Y.offset=E,Y}wt(nc,"detectFromDots");function by(l,i,u,s,r,f,h,d){var g;if(!l.length)return new Ap;const m=l[0].segment,v=m?.[0],S=(g=l[l.length-1])==null?void 0:g.segment,_=S?.[S?.length-1],N=ge(v,_)<=i;if(N&&(S[S?.length-1]=m[0]),!l.find(A=>A.isLine===!0)&&N){const A=l[0].segment,H=ay(A),B=uy(A,H.radius.x,H.radius.y);if(B.error<H.error&&B.error<u&&B.maxError<s)return new Xr(new Ut(0,0),B.radius);const I=H.radius.x/H.radius.y;if(H.error<u&&H.maxError<s)return I>r?new Xr(new Ut(0,0),B.radius):new zp(H.center,H.radius.x,H.radius.y,H.angle)}const E=!l.find(A=>A.isLine===!1);if(N&&E&&l.length===4){const A=l[0].segment,H=l[1].segment,B=l[2].segment,I=l[3].segment,[et,ht]=pn(A),[ut,V]=pn(H),[ct,Dt]=pn(B),[zt,Yt]=pn(I),k=sn(et,ht,ct,Dt),nt=sn(ut,V,zt,Yt),O=180-k<f,it=180-nt<f,x=sn(et,ct,ut,zt);if(Math.abs(x-90)<h||Math.abs(x-270)<h){const $=ge(et,ct),Q=ge(ut,zt);if(Math.max($,Q)/Math.min($,Q)>1.2){const ft=new Ut((et.x+ut.x+ct.x+zt.x)/4,(et.y+ut.y+ct.y+zt.y)/4),Ht=Math.atan2(ct.y-et.y,ct.x-et.x),St=Ht+Math.PI/2,kt=$/2,Ct=Q/2,Vt=new Ut(ft.x+kt*Math.cos(Ht),ft.y+kt*Math.sin(Ht)),ae=new Ut(ft.x-kt*Math.cos(Ht),ft.y-kt*Math.sin(Ht)),It=new Ut(ft.x+Ct*Math.cos(St),ft.y+Ct*Math.sin(St)),$t=new Ut(ft.x-Ct*Math.cos(St),ft.y-Ct*Math.sin(St)),De=[et,ut,ct,zt],D=[Vt,It,ae,$t],P=[],tt=new Array(4).fill(!1);for(const lt of De){let dt=1/0,st=0;for(let mt=0;mt<D.length;mt++){if(tt[mt])continue;const vt=ge(lt,D[mt]);vt<dt&&(dt=vt,st=mt)}P.push(D[st]),tt[st]=!0}return new yy(P[0],P[1],P[2],P[3])}}if(O&&it){const $=180-sn(et,ht,ut,V),Q=180-sn(ut,V,ct,Dt),ot=180-sn(ct,Dt,zt,Yt),pt=180-sn(zt,Yt,et,ht),ft=Math.max($,Q,ot,pt),Ht=Math.min($,Q,ot,pt);if(ft<90+h&&Ht>90-h){let St=function(q,rt){return q<0?rt[rt.length+q]:rt[q%rt.length]};wt(St,"outOfBounds");const It=[[et,ut],[ut,ct],[ct,zt],[zt,et]],$t=It.map(([q,rt],yt)=>({index:yt,length:ge(q,rt)})).sort((q,rt)=>rt.length-q.length)[0].index,[De,D]=It[$t],P=sn(De,D,new Ut(0,0),new Ut(10,0)),tt=P>90?180-P:P,lt=Math.round((De.x<D.x||De.y<D.y)&&!(De.x<D.x&&De.y<D.y)?-tt:tt),dt=[It[$t],St($t+2,It)],st=[St($t-1,It),St($t+1,It)],[mt,vt]=dt,[Nt,xt]=st,_t=Math.round((ge(mt[0],mt[1])+ge(vt[0],vt[1]))/2),U=Math.round((ge(Nt[0],Nt[1])+ge(xt[0],xt[1]))/2);return new hy(new Ut(-_t/2,-U/2),_t,U,lt)}else return new Dp(et,ut,ct,zt)}else if(O||it)return new Tp(et,ut,ct,zt);return new ji(et,ut,ct,zt)}if(N&&E&&l.length===3){const A=l[0].segment,H=l[1].segment,B=l[2].segment,[I,et]=pn(A),[ht,ut]=pn(H),[V,ct]=pn(B);return new jp(I,ht,V)}if(E){const A=l.map(H=>{const[B,I]=pn(H.segment);return new b0(B,I)});return A.length===1?A[0]:new Op(A)}const T=l.map(A=>{if(A.isLine){const[H,B]=pn(A.segment);return new b0(H,B)}else{const B=vp(A.segment.map(I=>[I.x,I.y]),d).map(I=>[Ni(I[0]),Ni(I[1]),Ni(I[2]),Ni(I[3])]);return new Rp(B)}});return l.length===1?T[0]:new Up(T)}wt(by,"detectFromSegments");const Sy=at.forwardRef(({currentDrawing:l,isDrawing:i,onStartDrawing:u,onContinueDrawing:s,onFinishDrawing:r},f)=>{const h=at.useRef(null);at.useImperativeHandle(f,()=>h.current),at.useEffect(()=>{const _=h.current;if(!_)return;const N=()=>{const K=_.parentElement;K&&(_.width=K.clientWidth,_.height=K.clientHeight)};return N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[]),at.useEffect(()=>{const _=h.current;if(!_)return;const N=_.getContext("2d");if(N&&(N.clearRect(0,0,_.width,_.height),l.length>1)){N.strokeStyle="#3b82f6",N.lineWidth=3,N.lineCap="round",N.lineJoin="round",N.beginPath(),N.moveTo(l[0].x,l[0].y);for(let K=1;K<l.length;K++)N.lineTo(l[K].x,l[K].y);N.stroke()}},[l]);const d=_=>{const N=h.current;if(!N)return{x:0,y:0};const K=N.getBoundingClientRect();return{x:_.clientX-K.left,y:_.clientY-K.top}},g=_=>{const N=d(_);u(N)},m=_=>{const N=d(_);i&&s(N)},v=()=>{i&&r()},S=()=>{i&&r()};return b.jsx("canvas",{ref:h,className:"drawing-canvas",onPointerDown:g,onPointerMove:m,onPointerUp:v,onPointerLeave:S,style:{cursor:"crosshair",touchAction:"none"}})}),rc=class rc{static calculateDotsCenter(i){if(i.length===0)return{x:0,y:0};const u=i.reduce((s,r)=>({x:s.x+r.x,y:s.y+r.y}),{x:0,y:0});return{x:Math.round(u.x/i.length),y:Math.round(u.y/i.length)}}static calculateDotsBounds(i){if(i.length===0)return{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};const u=Math.min(...i.map(h=>h.x)),s=Math.min(...i.map(h=>h.y)),r=Math.max(...i.map(h=>h.x)),f=Math.max(...i.map(h=>h.y));return{minX:u,minY:s,maxX:r,maxY:f,width:r-u,height:f-s}}static processShape(i,u){const s=this.calculateDotsCenter(u),r=this.calculateDotsBounds(u);switch(i.type){case"circle":case"ellipse":return this.processCircle(i,s,r);case"rectangle":case"square":case"parallelogram":case"trapezoid":return this.processRectangle(i,s,r);case"diamond":case"quadrilateral":return this.processDiamond(i,s,r);case"triangle":return this.processDiamond(i,s,r);default:return null}}static processLine(i,u){if(!["line","polyline","spline"].includes(i.type))return null;let s,r;return u.length<2?null:(s=new Ut(Math.round(u[0].x),Math.round(u[0].y)),r=new Ut(Math.round(u[u.length-1].x),Math.round(u[u.length-1].y)),console.log(`Line endpoints: (${s.x}, ${s.y}) → (${r.x}, ${r.y})`),{id:`line_${Date.now()}`,figure:i,originalDots:u,startPoint:s,endPoint:r})}static processCircle(i,u,s){const r=Math.max(s.width,s.height),f=Math.max(this.MIN_SIZE/2,Math.min(this.MAX_SIZE/2,r/2));return{type:"circle",figure:new Xr(new Ut(0,0),f),position:{x:Math.round(u.x-f),y:Math.round(u.y-f)},size:{width:Math.round(f*2),height:Math.round(f*2)}}}static processRectangle(i,u,s){let r=Math.max(s.width,s.height),f=Math.min(s.width,s.height);r=Math.max(this.MIN_SIZE,Math.min(this.MAX_SIZE,r)),f=Math.max(this.MIN_SIZE*.6,Math.min(this.MAX_SIZE*.6,f)),r/f>2.5?f=r/2.5:r/f<1.5&&(r=f*1.8);const h=new Ut(-r/2,-f/2);return{type:"rectangle",figure:new hy(h,r,f,0),position:{x:Math.round(u.x-r/2),y:Math.round(u.y-f/2)},size:{width:Math.round(r),height:Math.round(f)}}}static processDiamond(i,u,s){let r=Math.min(s.width,s.height),f=Math.max(s.width,s.height);r=Math.max(this.MIN_SIZE*.8,Math.min(this.MAX_SIZE*.8,r)),f=Math.max(this.MIN_SIZE,Math.min(this.MAX_SIZE,f)),f/r>1.5?r=f/1.3:f/r<1&&(f=r*1.2);const h=r/2,d=f/2,g=new Ut(0,-d),m=new Ut(h,0),v=new Ut(0,d),S=new Ut(-h,0);return{type:"diamond",figure:new yy(g,m,v,S),position:{x:Math.round(u.x-h),y:Math.round(u.y-d)},size:{width:Math.round(r),height:Math.round(f)}}}static getNodeDisplaySize(i,u){switch(i){case"circle":return u;case"rectangle":return u;case"diamond":return{width:u.width,height:u.height};default:return u}}};rc.MIN_SIZE=50,rc.MAX_SIZE=200;let pe=rc;const po=class po{static generateConnector(i,u,s,r){return this.shouldUseStraightLine(i,u,s,r)?this.createStraightLineConnector(i,u,s,r):this.createRoundedBezierConnector(i,u,s,r)}static shouldUseStraightLine(i,u,s,r){const f=u.x-i.x,h=u.y-i.y,d=Math.sqrt(f*f+h*h);if(d<1)return!0;const g={x:f/d,y:h/d},m=Math.abs(s.x*g.x+s.y*g.y),v=Math.abs(r.x*g.x+r.y*g.y);return m>.8&&v>.8}static createStraightLineConnector(i,u,s,r){const f={x:u.x-i.x,y:u.y-i.y},h=Math.sqrt(f.x*f.x+f.y*f.y),d=h>0?{x:f.x/h,y:f.y/h}:{x:1,y:0},g=this.ARROW_SIZE*.8,m={x:u.x-d.x*g,y:u.y-d.y*g},v=this.createLineDirectionArrowhead(u,f);return{type:"line",pathData:`M ${i.x} ${i.y} L ${m.x} ${m.y}`,arrowPath:v,x1:i.x,y1:i.y,x2:m.x,y2:m.y}}static createRoundedBezierConnector(i,u,s,r){const f=u.x-i.x,h=u.y-i.y,d=Math.sqrt(f*f+h*h),g=Math.min(d*.35,80),v=Math.max(g,25),S={x:i.x+s.x*v,y:i.y+s.y*v},_={x:u.x+r.x*v,y:u.y+r.y*v},N={x:3*(u.x-_.x),y:3*(u.y-_.y)},K=Math.sqrt(N.x*N.x+N.y*N.y),E=K>0?{x:N.x/K,y:N.y/K}:{x:1,y:0},Y=this.ARROW_SIZE*.8,z={x:u.x-E.x*Y,y:u.y-E.y*Y},T=`M ${i.x} ${i.y} 
                      C ${S.x} ${S.y}, 
                        ${_.x} ${_.y}, 
                        ${z.x} ${z.y}`,j=this.createLineDirectionArrowhead(u,N);return{type:"path",pathData:T.replace(/\s+/g," "),arrowPath:j}}static createLineDirectionArrowhead(i,u){const s=Math.sqrt(u.x*u.x+u.y*u.y);s===0?u={x:-1,y:0}:u={x:u.x/s,y:u.y/s};const r=Math.atan2(u.y,u.x),f=this.ARROW_SIZE,h=this.ARROW_SIZE*.6,d=i.x,g=i.y,m=d-f*Math.cos(r),v=g-f*Math.sin(r),S=m+h*Math.cos(r+Math.PI/2),_=v+h*Math.sin(r+Math.PI/2),N=m+h*Math.cos(r-Math.PI/2),K=v+h*Math.sin(r-Math.PI/2);return`${d},${g} ${S},${_} ${N},${K}`}static getConnectorStyle(){return{strokeWidth:1,stroke:"#374151"}}};po.ARROW_SIZE=8;let Sl=po;const Hp=({nodes:l,connections:i,selectedNodeId:u,selectedConnectionId:s,editingNodeId:r,hoveredElement:f,initialViewport:h,onNodeSelect:d,onConnectionSelect:g,onNodeDoubleClick:m,onNodeLabelChange:v,onNodeMove:S,onNodeResize:_,onNodeMoveEnd:N,onNodeResizeEnd:K,onHoverElement:E,onCanvasPointerDown:Y,onCanvasPointerMove:z,onCanvasPointerUp:T,onViewportChange:j,onMinimapUpdate:A,externalViewportChange:H})=>{const[B,I]=at.useState(h||{zoom:1,panX:0,panY:0}),et=za.useRef(0),ht=20,ut=at.useCallback(D=>Math.round(D/ht)*ht,[]);za.useEffect(()=>{H&&H.timestamp>et.current&&(et.current=H.timestamp,I({zoom:H.zoom,panX:H.panX,panY:H.panY}))},[H]);const[V,ct]=at.useState({type:"idle"});za.useEffect(()=>{u&&V.type==="idle"?ct({type:"node-selected",nodeId:u}):!u&&V.type==="node-selected"&&ct({type:"idle"})},[u,V.type]);const[Dt,zt]=at.useState(!1);za.useEffect(()=>{const D=tt=>{tt.code==="Space"&&!tt.repeat&&(zt(!0),tt.preventDefault())},P=tt=>{tt.code==="Space"&&zt(!1)};return window.addEventListener("keydown",D),window.addEventListener("keyup",P),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",P)}},[]);const Yt=at.useRef(null),k=at.useRef(new Map),nt=at.useRef(null),O=at.useCallback(()=>{if(l.length===0)return{minX:-500,minY:-500,maxX:500,maxY:500,width:1e3,height:1e3};let D=1/0,P=1/0,tt=-1/0,lt=-1/0;l.forEach(st=>{const mt=pe.getNodeDisplaySize(st.type,st.size);D=Math.min(D,st.position.x),P=Math.min(P,st.position.y),tt=Math.max(tt,st.position.x+mt.width),lt=Math.max(lt,st.position.y+mt.height)});const dt=200;return D-=dt,P-=dt,tt+=dt,lt+=dt,{minX:D,minY:P,maxX:tt,maxY:lt,width:tt-D,height:lt-P}},[l]),it=at.useCallback(D=>{const P=nt.current;if(!P)return{x:0,y:0};const tt=P.getBoundingClientRect();return{x:D.clientX-tt.left,y:D.clientY-tt.top}},[]),x=at.useCallback(D=>D.pointerType==="touch"?"touch":"mouse",[]),C=at.useCallback(D=>({x:(D.x-B.panX)/B.zoom,y:(D.y-B.panY)/B.zoom}),[B]);za.useEffect(()=>{j&&j(C,B)},[C,B,j]),za.useEffect(()=>{if(A&&l.length>0){const D=O(),P=nt.current;if(P){const tt=P.getBoundingClientRect(),lt=tt.width/B.zoom,dt=tt.height/B.zoom,st=-B.panX/B.zoom,mt=-B.panY/B.zoom,vt=l.map(xt=>{const _t=pe.getNodeDisplaySize(xt.type,xt.size);return{id:xt.id,type:xt.type,position:xt.position,size:_t}}),Nt=i.map(xt=>{const _t=l.find(yt=>yt.id===xt.from),U=l.find(yt=>yt.id===xt.to);if(!_t||!U)return null;const q=Ct(_t),rt=Ct(U);return{id:xt.id,from:q,to:rt}}).filter(Boolean);A({bounds:{minX:D.minX,minY:D.minY,width:D.width,height:D.height},viewport:{x:st,y:mt,width:lt,height:dt},nodes:vt,connections:Nt})}}},[B,l,i,A,O]);const $={pan:(D,P)=>{I(tt=>({...tt,panX:tt.panX+D,panY:tt.panY+P}))},setPan:(D,P)=>{I(tt=>({...tt,panX:D,panY:P}))},zoomAt:(D,P)=>{I(tt=>{const st=Math.max(.1,Math.min(5,tt.zoom*P));if(st===tt.zoom)return tt;const mt=st/tt.zoom,vt=D.x-(D.x-tt.panX)*mt,Nt=D.y-(D.y-tt.panY)*mt;return{zoom:st,panX:vt,panY:Nt}})}},Q={selectNode:D=>{console.log(`🎯 Selecting node ${D}`),ct({type:"node-selected",nodeId:D}),d(D)},startResize:(D,P,tt,lt)=>{const dt=l.find(mt=>mt.id===D);if(!dt)return;console.log(`🔧 Starting resize: node=${D}, handle=${P}, input=${lt}`);const st=pe.getNodeDisplaySize(dt.type,dt.size);ct({type:"resizing",nodeId:D,handle:P,startPos:tt,initialNodePos:dt.position,initialNodeSize:st,inputType:lt,hasMovedSignificantly:!1}),u!==D&&d(D)},startDrag:(D,P,tt)=>{const lt=l.find(dt=>dt.id===D);lt&&(console.log(`🎭 Starting drag: node=${D}, input=${tt}`),ct({type:"dragging",nodeId:D,startPos:P,initialNodePos:lt.position,inputType:tt,hasMovedSignificantly:!1}),u!==D&&d(D))},deselect:()=>{console.log("🚫 Deselecting and resetting to idle state"),ct({type:"idle"}),d("")},reset:()=>{console.log("🔄 Resetting to idle state"),ct({type:"idle"})},startPanning:(D,P,tt=1)=>{console.log(`🖐️ Starting pan: input=${P}, touches=${tt}`),ct({type:"panning",startPos:D,initialViewport:{panX:B.panX,panY:B.panY},inputType:P,touchCount:tt})},startPinching:(D,P,tt)=>{console.log(`🤏 Starting pinch: distance=${P.toFixed(1)}px, center=(${D.x.toFixed(1)}, ${D.y.toFixed(1)})`),ct({type:"pinching",startPos:D,initialDistance:P,initialViewport:{zoom:B.zoom,panX:B.panX,panY:B.panY},inputType:tt,isZooming:!1,isPanning:!1})}},ot=at.useCallback(D=>{const P=D.target,tt=it(D),lt=x(D);if(console.log(`🎯 Root interaction: ${lt} on ${P.tagName} class="${P.className}"`),lt==="mouse"&&Dt){if(console.log("🖐️ Space+drag pan detected"),Q.startPanning(tt,lt),lt==="mouse")try{D.preventDefault()}catch{}return}if(lt==="touch"&&(k.current.set(D.pointerId,{x:D.clientX,y:D.clientY}),k.current.size===2)){const vt=Array.from(k.current.values()),Nt=vt[0],xt=vt[1],_t=Math.sqrt(Math.pow(xt.x-Nt.x,2)+Math.pow(xt.y-Nt.y,2)),U={x:(Nt.x+xt.x)/2-nt.current.getBoundingClientRect().left,y:(Nt.y+xt.y)/2-nt.current.getBoundingClientRect().top};console.log(`🖐️ Two-finger gesture detected: distance=${_t.toFixed(1)}px, center=(${U.x.toFixed(1)}, ${U.y.toFixed(1)})`),Q.startPinching(U,_t,lt);return}const dt=P.getAttribute("data-node-id"),st=P.getAttribute("data-resize-handle"),mt=P.getAttribute("data-resize-node-id");if(lt==="touch"&&console.log("📱 Touch start - storing initial target info"),st&&mt){if(console.log(`🔧 Resize handle ${st} clicked for node ${mt} (${lt})`),lt==="mouse")try{D.preventDefault(),D.stopPropagation()}catch{}Q.startResize(mt,st,tt,lt);return}if(dt){if(console.log(`🎭 Node ${dt} clicked (${lt})`),lt==="mouse")try{D.preventDefault(),D.stopPropagation()}catch{}Q.startDrag(dt,tt,lt);return}if(P.tagName==="svg"||P.getAttribute("data-background")==="true"){console.log(`🌐 Background clicked - passing to drawing canvas (${lt})`),Y?.(D);return}console.log(`❓ Unhandled ${lt} on ${P.tagName}`)},[it,x,Dt,Q,Y,u,l]),pt=at.useCallback(D=>{const P=it(D);if(V.type==="idle"||V.type==="node-selected"){z?.(D);return}if(V.type==="panning"){const vt=P.x-V.startPos.x,Nt=P.y-V.startPos.y,xt=V.initialViewport.panX+vt,_t=V.initialViewport.panY+Nt;$.setPan(xt,_t);return}if(V.type==="pinching"){if(k.current.set(D.pointerId,{x:D.clientX,y:D.clientY}),k.current.size===2){const vt=Array.from(k.current.values()),Nt=vt[0],xt=vt[1],_t=Math.sqrt(Math.pow(xt.x-Nt.x,2)+Math.pow(xt.y-Nt.y,2)),U={x:(Nt.x+xt.x)/2-nt.current.getBoundingClientRect().left,y:(Nt.y+xt.y)/2-nt.current.getBoundingClientRect().top},q=Math.abs(_t-V.initialDistance),rt=Math.sqrt(Math.pow(U.x-V.startPos.x,2)+Math.pow(U.y-V.startPos.y,2)),yt=q>10,Rt=rt>10&&!yt;if(yt){const Ot=_t/V.initialDistance,Mt=V.initialViewport.zoom*Ot,_e=Math.max(.1,Math.min(5,Mt));if(_e!==B.zoom){const we=_e/V.initialViewport.zoom,Nl=V.startPos.x-(V.startPos.x-V.initialViewport.panX)*we,Oa=V.startPos.y-(V.startPos.y-V.initialViewport.panY)*we;I({zoom:_e,panX:Nl,panY:Oa})}V.isZooming||ct(we=>({...we,isZooming:!0,currentDistance:_t}))}else if(Rt){const Ot=U.x-V.startPos.x,Mt=U.y-V.startPos.y,de=V.initialViewport.panX+Ot,Wt=V.initialViewport.panY+Mt;$.setPan(de,Wt),V.isPanning||ct(_e=>({..._e,isPanning:!0}))}}return}const tt=P.x-V.startPos.x,lt=P.y-V.startPos.y,dt=Math.sqrt(tt*tt+lt*lt),st=V.type==="resizing"?V.inputType==="touch"?4:2:V.inputType==="touch"?6:3,mt=dt>st;if(mt&&(V.type==="dragging"||V.type==="resizing")&&!V.hasMovedSignificantly&&ct(vt=>({...vt,hasMovedSignificantly:!0})),V.type==="dragging"&&mt){const vt=tt/B.zoom,Nt=lt/B.zoom,xt={x:V.initialNodePos.x+vt,y:V.initialNodePos.y+Nt},_t={x:ut(xt.x),y:ut(xt.y)};S(V.nodeId,_t)}if(V.type==="resizing"&&(console.log(`🔧 Resize: moved=${dt.toFixed(1)}px, threshold=${st}px, significant=${mt}, handle=${V.handle}`),mt)){console.log(`🔧 Executing resize with handle ${V.handle}`);const vt=tt/B.zoom,Nt=lt/B.zoom;let xt=V.initialNodeSize.width,_t=V.initialNodeSize.height,U={...V.initialNodePos};switch(V.handle){case"se":xt=V.initialNodeSize.width+vt,_t=V.initialNodeSize.height+Nt;break;case"sw":xt=V.initialNodeSize.width-vt,_t=V.initialNodeSize.height+Nt,U.x=V.initialNodePos.x+vt;break;case"ne":xt=V.initialNodeSize.width+vt,_t=V.initialNodeSize.height-Nt,U.y=V.initialNodePos.y+Nt;break;case"nw":xt=V.initialNodeSize.width-vt,_t=V.initialNodeSize.height-Nt,U.x=V.initialNodePos.x+vt,U.y=V.initialNodePos.y+Nt;break}const q=50,rt=Math.max(q,xt),yt=Math.max(q,_t),Rt=ut(rt),Ot=ut(yt);let Mt={...U};if(V.handle==="sw"||V.handle==="nw"){const _e=Rt-V.initialNodeSize.width-(xt-V.initialNodeSize.width);Mt.x=U.x-_e}if(V.handle==="ne"||V.handle==="nw"){const _e=Ot-V.initialNodeSize.height-(_t-V.initialNodeSize.height);Mt.y=U.y-_e}const de={x:ut(Mt.x),y:ut(Mt.y)};console.log(`🔧 Executing resize: ${V.initialNodeSize.width}x${V.initialNodeSize.height} → ${Rt}x${Ot}`),_(V.nodeId,{width:Rt,height:Ot}),S(V.nodeId,de)}},[V,it,S,_,z,$,ut,B.zoom]),ft=at.useCallback(D=>{const P=x(D);if(console.log(`🏁 Global end: state=${V.type}, input=${P}`),k.current.delete(D.pointerId),V.type==="idle"){T?.(D);return}if(V.type==="node-selected"){T?.(D);return}if(V.type==="panning"){console.log("🖐️ Panning completed"),Q.reset();return}if(V.type==="pinching"){console.log(`🤏 Pinching completed: zooming=${V.isZooming}, panning=${V.isPanning}`),Q.reset();return}if(V.type==="dragging"){if(console.log(`✅ Drag completed for node ${V.nodeId}, moved=${V.hasMovedSignificantly}`),!V.hasMovedSignificantly&&P==="touch"){const tt=Date.now(),lt=Yt.current;lt&&lt.nodeId===V.nodeId&&tt-lt.timestamp<300?(console.log("👆👆 Double-tap detected - starting edit"),m(V.nodeId),Yt.current=null):Yt.current={nodeId:V.nodeId,timestamp:tt}}V.hasMovedSignificantly&&N?.(V.nodeId),ct({type:"node-selected",nodeId:V.nodeId});return}if(V.type==="resizing"){console.log(`✅ Resize completed for node ${V.nodeId}, moved=${V.hasMovedSignificantly}`),V.hasMovedSignificantly&&K?.(V.nodeId),ct({type:"node-selected",nodeId:V.nodeId});return}},[V,x,Q,m,d,T]),Ht=at.useCallback(D=>{const tt=D.target.getAttribute("data-node-id");if(tt){console.log(`🖱️ Double-click on node ${tt}`);try{D.preventDefault(),D.stopPropagation()}catch{}m(tt)}},[m]),St=at.useCallback(D=>{D.preventDefault();const P=nt.current;if(!P)return;const tt=P.getBoundingClientRect(),lt={x:D.clientX-tt.left,y:D.clientY-tt.top},st=1-D.deltaY*.001;console.log(`🔍 Wheel zoom: deltaY=${D.deltaY}, zoomDelta=${st.toFixed(3)}, at point (${lt.x}, ${lt.y})`),$.zoomAt(lt,st)},[$]);za.useEffect(()=>{const D=nt.current;if(D)return D.addEventListener("wheel",St,{passive:!1}),()=>{D.removeEventListener("wheel",St)}},[St]);const kt=(D,P,tt)=>{const lt={circle:{fill:"url(#monochromeGradient)",stroke:"#374151",shadow:"rgba(0, 0, 0, 0.1)"},rectangle:{fill:"url(#monochromeGradient)",stroke:"#374151",shadow:"rgba(0, 0, 0, 0.1)"},diamond:{fill:"url(#monochromeGradient)",stroke:"#374151",shadow:"rgba(0, 0, 0, 0.1)"}},dt=lt[D]||lt.circle;return{...dt,stroke:P?"#000000":tt?"#1f2937":dt.stroke,strokeWidth:P||tt?"2":"1",fill:P?"url(#monochromeGradient)":tt?"#f3f4f6":dt.fill}},Ct=D=>{const P=pe.getNodeDisplaySize(D.type,D.size);return{x:D.position.x+P.width/2,y:D.position.y+P.height/2}},Vt=(D,P)=>{const tt=pe.getNodeDisplaySize(D.type,D.size),lt=Ct(D),dt=Math.sqrt(P.x*P.x+P.y*P.y);if(dt===0)return lt;const st={x:P.x/dt,y:P.y/dt};switch(D.type){case"circle":{const mt=Math.min(tt.width,tt.height)/2;return{x:lt.x+st.x*mt,y:lt.y+st.y*mt}}case"rectangle":{const mt=tt.width/2,vt=tt.height/2,Nt=Math.abs(st.y/st.x),xt=vt/mt;if(Nt<=xt){const _t=st.x>0?mt:-mt,U=_t*st.y/st.x;return{x:lt.x+_t,y:lt.y+U}}else{const _t=st.y>0?vt:-vt,U=_t*st.x/st.y;return{x:lt.x+U,y:lt.y+_t}}}case"diamond":{const mt=tt.width/2,vt=tt.height/2,Nt=[{x:0,y:-vt},{x:mt,y:0},{x:0,y:vt},{x:-mt,y:0}];let xt=Nt[0],_t=-1/0;return Nt.forEach(U=>{const q=U.x*st.x+U.y*st.y;q>_t&&(_t=q,xt=U)}),{x:lt.x+xt.x,y:lt.y+xt.y}}default:return lt}},ae=(D,P)=>{const tt=pe.getNodeDisplaySize(D.type,D.size),lt=Math.sqrt(P.x*P.x+P.y*P.y);if(lt===0)return{x:1,y:0};const dt={x:P.x/lt,y:P.y/lt};switch(D.type){case"circle":return dt;case"rectangle":{const st=tt.width/2,mt=tt.height/2,vt=Math.abs(dt.y/dt.x),Nt=mt/st;return vt<=Nt?{x:dt.x>0?1:-1,y:0}:{x:0,y:dt.y>0?1:-1}}case"diamond":{const st=tt.width/2,mt=tt.height/2,vt=[{pos:{x:0,y:-mt},normal:{x:0,y:-1}},{pos:{x:st,y:0},normal:{x:1,y:0}},{pos:{x:0,y:mt},normal:{x:0,y:1}},{pos:{x:-st,y:0},normal:{x:-1,y:0}}];let Nt=vt[0],xt=-1/0;return vt.forEach(_t=>{const U=_t.pos.x*dt.x+_t.pos.y*dt.y;U>xt&&(xt=U,Nt=_t)}),Nt.normal}default:return{x:1,y:0}}},It=(D,P,tt,lt,dt)=>{const st=Ct(lt),mt=Ct(dt),vt={x:mt.x-st.x,y:mt.y-st.y},Nt={x:-vt.x,y:-vt.y},xt=ae(lt,vt),_t=ae(dt,Nt),U=Sl.generateConnector(D,P,xt,_t),q=Sl.getConnectorStyle(),rt=s===tt,yt=f?.type==="connection"&&f.id===tt,Rt=rt?"#000000":yt?"#1f2937":q.stroke,Ot=rt||yt?q.strokeWidth*2:q.strokeWidth;return b.jsxs("g",{className:"connector",style:{cursor:"pointer"},onClick:()=>g(tt),onMouseEnter:()=>E?.({type:"connection",id:tt}),onMouseLeave:()=>E?.(null),children:[U.type==="line"?b.jsx("line",{x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,stroke:Rt,strokeWidth:Ot,strokeLinecap:"round",style:{pointerEvents:"all"}}):b.jsx("path",{d:U.pathData,stroke:Rt,strokeWidth:Ot,fill:"none",strokeLinecap:"round",style:{pointerEvents:"all"}}),b.jsx("polygon",{points:U.arrowPath,fill:Rt,style:{pointerEvents:"all"}})]},tt)},$t=D=>{if(u!==D.id)return null;const P=pe.getNodeDisplaySize(D.type,D.size),{width:tt,height:lt}=P,dt="ontouchstart"in window||navigator.maxTouchPoints>0,st=dt?32:8,mt=dt?16:4,vt=[{handle:"nw",x:D.position.x-st/2,y:D.position.y-st/2,cursor:"nw-resize"},{handle:"ne",x:D.position.x+tt-st/2,y:D.position.y-st/2,cursor:"ne-resize"},{handle:"sw",x:D.position.x-st/2,y:D.position.y+lt-st/2,cursor:"sw-resize"},{handle:"se",x:D.position.x+tt-st/2,y:D.position.y+lt-st/2,cursor:"se-resize"}];return b.jsx("g",{children:vt.map(({handle:Nt,x:xt,y:_t,cursor:U})=>b.jsxs("g",{children:[b.jsx("rect",{x:xt-mt,y:_t-mt,width:st+mt*2,height:st+mt*2,fill:"transparent",style:{cursor:U,touchAction:"none",pointerEvents:"all"},"data-resize-handle":Nt,"data-resize-node-id":D.id}),b.jsx("rect",{x:xt+(dt?4:1),y:_t+(dt?4:1),width:st-(dt?8:2),height:st-(dt?8:2),fill:"#000000",stroke:"#ffffff",strokeWidth:"1",rx:dt?"4":"2",ry:dt?"4":"2",style:{pointerEvents:"none",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),dt&&b.jsx("circle",{cx:xt+st/2,cy:_t+st/2,r:"3",fill:"#ffffff",style:{pointerEvents:"none"}})]},Nt))},`handles-${D.id}`)},De=D=>{const P=pe.getNodeDisplaySize(D.type,D.size),{width:tt,height:lt}=P,dt=u===D.id,st=f?.type==="node"&&f.id===D.id,mt=kt(D.type,dt,st),vt=r===D.id,Nt={"data-node-id":D.id,style:{cursor:"move",touchAction:"none",pointerEvents:"all"},onMouseEnter:()=>E?.({type:"node",id:D.id}),onMouseLeave:()=>E?.(null)};let xt;switch(D.type){case"circle":const U=Math.min(tt,lt)/2-2;xt=b.jsx("circle",{cx:D.position.x+tt/2,cy:D.position.y+lt/2,r:U,fill:mt.fill,stroke:mt.stroke,strokeWidth:mt.strokeWidth,filter:"url(#dropShadow)",...Nt});break;case"rectangle":xt=b.jsx("rect",{x:D.position.x+2,y:D.position.y+2,width:tt-4,height:lt-4,rx:"4",ry:"4",fill:mt.fill,stroke:mt.stroke,strokeWidth:mt.strokeWidth,filter:"url(#dropShadow)",...Nt});break;case"diamond":const q=tt/2,rt=lt/2,yt=D.position.x+q,Rt=D.position.y+rt,Ot=`${yt},${D.position.y+2} ${D.position.x+tt-2},${Rt} ${yt},${D.position.y+lt-2} ${D.position.x+2},${Rt}`;xt=b.jsx("polygon",{points:Ot,fill:mt.fill,stroke:mt.stroke,strokeWidth:mt.strokeWidth,filter:"url(#dropShadow)",...Nt});break;default:return null}const _t=vt?null:b.jsx("text",{x:D.position.x+tt/2,y:D.position.y+lt/2,textAnchor:"middle",dominantBaseline:"central",fontSize:"14",fontWeight:"500",fill:"#1e293b",style:{userSelect:"none",pointerEvents:"none"},children:D.label});return b.jsxs("g",{children:[xt,_t]},D.id)};return b.jsxs("div",{className:"shapes-canvas",children:[b.jsxs("svg",{ref:nt,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,touchAction:"none",cursor:V.type==="panning"?"grabbing":V.type==="pinching"?V.isZooming?"zoom-in":"grabbing":Dt?"grab":"default"},onPointerDown:ot,onPointerMove:pt,onPointerUp:ft,onPointerLeave:ft,onDoubleClick:Ht,children:[b.jsxs("defs",{children:[b.jsx("pattern",{id:"grid",width:ht,height:ht,patternUnits:"userSpaceOnUse",children:b.jsx("path",{d:`M ${ht} 0 L 0 0 0 ${ht}`,fill:"none",stroke:"#e5e7eb",strokeWidth:"0.5",opacity:"0.5"})}),b.jsxs("linearGradient",{id:"monochromeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[b.jsx("stop",{offset:"0%",stopColor:"#f9fafb"}),b.jsx("stop",{offset:"100%",stopColor:"#e5e7eb"})]}),b.jsx("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:b.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodColor:"rgba(0,0,0,0.1)",floodOpacity:"1"})})]}),b.jsxs("g",{transform:`translate(${B.panX}, ${B.panY}) scale(${B.zoom})`,children:[b.jsx("rect",{x:-1e4,y:-1e4,width:2e4,height:2e4,fill:"transparent","data-background":"true",style:{cursor:"default",pointerEvents:"all"}}),b.jsx("rect",{x:-1e4,y:-1e4,width:2e4,height:2e4,fill:"url(#grid)",style:{pointerEvents:"none"}}),i.map(D=>{const P=l.find(lt=>lt.id===D.from),tt=l.find(lt=>lt.id===D.to);if(P&&tt){const lt=Ct(P),dt=Ct(tt),st={x:dt.x-lt.x,y:dt.y-lt.y},mt={x:-st.x,y:-st.y},vt=Vt(P,st),Nt=Vt(tt,mt);return It(vt,Nt,D.id,P,tt)}return null}),l.map(De),u&&l.find(D=>D.id===u)&&$t(l.find(D=>D.id===u))]})," "]}),r&&(()=>{const D=l.find(st=>st.id===r);if(!D)return null;const P=pe.getNodeDisplaySize(D.type,D.size),tt={x:D.position.x+P.width/2,y:D.position.y+P.height/2},lt={x:tt.x*B.zoom+B.panX,y:tt.y*B.zoom+B.panY},dt=D.label===D.type;return b.jsx("input",{autoFocus:!0,className:"node-input",style:{position:"absolute",left:lt.x-50,top:lt.y-12,background:"white",border:"2px solid #3b82f6",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",fontSize:"0.875rem",fontWeight:"500",textAlign:"center",zIndex:1e3,minWidth:"100px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},defaultValue:dt?"":D.label,placeholder:dt?"Enter name...":"",onFocus:st=>{dt||st.target.select()},onKeyDown:st=>{if(st.key==="Enter"){const vt=st.target.value.trim()||(dt?D.type:D.label);v(r,vt)}else st.key==="Escape"&&v(r,D.label)},onBlur:st=>{const vt=st.target.value.trim()||(dt?D.type:D.label);v(r,vt)},maxLength:20},r)})()]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yp=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,u,s)=>s?s.toUpperCase():u.toLowerCase()),S0=l=>{const i=Yp(l);return i.charAt(0).toUpperCase()+i.slice(1)},_y=(...l)=>l.filter((i,u,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===u).join(" ").trim(),Xp=l=>{for(const i in l)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=at.forwardRef(({color:l="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:s,className:r="",children:f,iconNode:h,...d},g)=>at.createElement("svg",{ref:g,...qp,width:i,height:i,stroke:l,strokeWidth:s?Number(u)*24/Number(i):u,className:_y("lucide",r),...!f&&!Xp(d)&&{"aria-hidden":"true"},...d},[...h.map(([m,v])=>at.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=(l,i)=>{const u=at.forwardRef(({className:s,...r},f)=>at.createElement(Bp,{ref:f,iconNode:i,className:_y(`lucide-${Lp(S0(l))}`,`lucide-${l}`,s),...r}));return u.displayName=S0(l),u};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vp=Ra("copy",Gp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qp=Ra("download",Zp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$p=Ra("file-text",kp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jp=Ra("image",Kp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Wp=Ra("redo",Ip);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Pp=Ra("undo",Fp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ev=Ra("upload",tv);class Fu{static export(i,u){if(i.length===0)return"// Draw some shapes to generate a mermaid diagram";const s=["graph TD"];return i.forEach(r=>{const f=this.sanitizeId(r.id),h=this.sanitizeLabel(r.label),d=this.formatNode(f,h,r.type);s.push(`    ${d}`)}),u.length>0&&s.push(""),u.forEach(r=>{const f=this.sanitizeId(r.from),h=this.sanitizeId(r.to);s.push(`    ${f} --> ${h}`)}),s.join(`
`)}static formatNode(i,u,s){switch(s){case"rectangle":return`${i}[${u}]`;case"circle":return`${i}((${u}))`;case"diamond":return`${i}{${u}}`;default:return`${i}[${u}]`}}static sanitizeId(i){return i.replace(/[^a-zA-Z0-9]/g,"_")}static sanitizeLabel(i){return i.replace(/[[\](){}]/g,"").replace(/[^a-zA-Z0-9\s]/g,"").trim()||"Node"}static copyToClipboard(i){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(i).catch(u=>{console.warn("Failed to copy to clipboard:",u),this.fallbackCopyToClipboard(i)}):this.fallbackCopyToClipboard(i)}static fallbackCopyToClipboard(i){const u=document.createElement("textarea");u.value=i,u.style.position="fixed",u.style.opacity="0",document.body.appendChild(u),u.focus(),u.select();try{document.execCommand("copy")}catch(s){console.warn("Fallback copy failed:",s)}document.body.removeChild(u)}}const vo=class vo{static createInitialHistory(i,u=this.DEFAULT_MAX_SIZE){return{past:[],present:{state:this.cloneState(i),action:"Initial state",timestamp:Date.now()},future:[],maxHistorySize:u}}static pushState(i,u,s){if(this.statesEqual(i.present.state,u))return i;const r={state:this.cloneState(u),action:s,timestamp:Date.now()},f=[...i.past,i.present];return f.length>i.maxHistorySize&&f.shift(),{...i,past:f,present:r,future:[]}}static undo(i){if(i.past.length===0)return null;const u=i.past[i.past.length-1],s=i.past.slice(0,-1),r=[i.present,...i.future];return{history:{...i,past:s,present:u,future:r},state:this.cloneState(u.state)}}static redo(i){if(i.future.length===0)return null;const u=i.future[0],s=i.future.slice(1),r=[...i.past,i.present];return{history:{...i,past:r,present:u,future:s},state:this.cloneState(u.state)}}static clearHistory(i){return this.createInitialHistory(i)}static canUndo(i){return i.past.length>0}static canRedo(i){return i.future.length>0}static getCurrentAction(i){return i.present.action}static getUndoAction(i){return i.past.length===0?null:i.past[i.past.length-1].action}static getRedoAction(i){return i.future.length===0?null:i.future[0].action}static cloneState(i){return{nodes:i.nodes.map(u=>({...u})),connections:i.connections.map(u=>({...u})),selectedNodeId:i.selectedNodeId,selectedConnectionId:i.selectedConnectionId,editingNodeId:i.editingNodeId}}static statesEqual(i,u){if(i.nodes.length!==u.nodes.length||i.connections.length!==u.connections.length||i.selectedNodeId!==u.selectedNodeId||i.selectedConnectionId!==u.selectedConnectionId||i.editingNodeId!==u.editingNodeId)return!1;for(let s=0;s<i.nodes.length;s++){const r=i.nodes[s],f=u.nodes[s];if(r.id!==f.id||r.type!==f.type||r.label!==f.label||r.position.x!==f.position.x||r.position.y!==f.position.y||r.size.width!==f.size.width||r.size.height!==f.size.height)return!1}for(let s=0;s<i.connections.length;s++){const r=i.connections[s],f=u.connections[s];if(r.id!==f.id||r.from!==f.from||r.to!==f.to)return!1}return!0}static exportHistory(i){return{past:i.past,present:i.present,future:i.future,maxHistorySize:i.maxHistorySize,version:"1.0.0"}}static importHistory(i,u){try{if(!i||!i.present||!Array.isArray(i.past)||!Array.isArray(i.future))throw new Error("Invalid history data structure");return{past:i.past.map(s=>({state:s.state,action:s.action||"Unknown action",timestamp:s.timestamp||Date.now()})),present:{state:i.present.state,action:i.present.action||"Current state",timestamp:i.present.timestamp||Date.now()},future:i.future.map(s=>({state:s.state,action:s.action||"Unknown action",timestamp:s.timestamp||Date.now()})),maxHistorySize:i.maxHistorySize||this.DEFAULT_MAX_SIZE}}catch(s){return console.warn("Failed to import history, creating new history:",s),this.createInitialHistory(u)}}};vo.DEFAULT_MAX_SIZE=50;let he=vo;const _i="flowchart-builder-state",$u="1.0.0";class an{static saveState(i,u,s){try{const r={diagram:i,panel:u,history:s,version:$u,timestamp:Date.now()};return localStorage.setItem(_i,JSON.stringify(r)),!0}catch(r){return console.warn("Failed to save state to localStorage:",r),!1}}static loadState(){try{const i=localStorage.getItem(_i);if(!i)return null;const u=JSON.parse(i);if(u.version!==$u)return console.warn(`State version mismatch. Expected ${$u}, got ${u.version}`),null;if(!this.isValidPersistedState(u))return console.warn("Invalid persisted state structure"),null;const s=u.history?he.importHistory(u.history,u.diagram):he.createInitialHistory(u.diagram),r={...u.panel,calibrated:u.panel.calibrated??!1};return{diagram:u.diagram,panel:r,history:s}}catch(i){return console.warn("Failed to load state from localStorage:",i),null}}static clearState(){try{return localStorage.removeItem(_i),!0}catch(i){return console.warn("Failed to clear state from localStorage:",i),!1}}static hasSavedState(){try{return localStorage.getItem(_i)!==null}catch{return!1}}static getLastSavedTimestamp(){try{const i=localStorage.getItem(_i);return i&&JSON.parse(i).timestamp||null}catch{return null}}static exportState(i,u,s){const r={diagram:i,panel:u,history:s,version:$u,timestamp:Date.now()};return JSON.stringify(r,null,2)}static importState(i){try{const u=JSON.parse(i);if(!this.isValidPersistedState(u))throw new Error("Invalid state structure");const s=u.history?he.importHistory(u.history,u.diagram):he.createInitialHistory(u.diagram),r={...u.panel,calibrated:u.panel.calibrated??!1};return{diagram:u.diagram,panel:r,history:s}}catch(u){return console.warn("Failed to import state:",u),null}}static isValidPersistedState(i){if(!i||typeof i!="object"||!i.diagram||!i.panel||!i.version)return!1;const u=i.diagram;if(!Array.isArray(u.nodes)||!Array.isArray(u.connections))return!1;const s=i.panel;if(typeof s.sidebarVisible!="boolean"||!s.openSections||!s.viewport)return!1;const r=s.openSections;if(typeof r.navigator!="boolean"||typeof r.nodes!="boolean"||typeof r.connections!="boolean"||typeof r.export!="boolean"||typeof r.history!="boolean"||typeof r.shortcuts!="boolean")return!1;const f=s.viewport;return!(typeof f.zoom!="number"||typeof f.panX!="number"||typeof f.panY!="number"||s.calibrated!==void 0&&typeof s.calibrated!="boolean")}static getDefaultPanelState(){return{sidebarVisible:!0,openSections:{navigator:!1,nodes:!1,connections:!1,export:!1,history:!1,shortcuts:!1},viewport:{zoom:1,panX:0,panY:0},calibrated:!1}}static getDefaultDiagramState(){return{nodes:[],connections:[],selectedNodeId:null,selectedConnectionId:null,editingNodeId:null}}}class _0{static calculateBoundsFromSVG(i){const u=i.querySelector('g[transform*="translate"][transform*="scale"]');if(!u){console.warn("Could not find viewport group, falling back to SVG bounds");const S=i.getBBox();return{minX:S.x,minY:S.y,maxX:S.x+S.width,maxY:S.y+S.height,width:S.width,height:S.height}}let s=1/0,r=1/0,f=-1/0,h=-1/0;const d=u.querySelectorAll("circle, rect, polygon, path, line"),g=Array.from(d).filter(S=>!S.hasAttribute("data-background")&&!S.getAttribute("fill")?.includes("url(#grid)")&&!S.hasAttribute("data-resize-handle"));if(console.log(`Found ${g.length} content elements for bounds calculation`),g.length===0)return console.warn("No content elements found, using default bounds"),{minX:0,minY:0,maxX:400,maxY:300,width:400,height:300};g.forEach(S=>{try{const N=S.getBBox();s=Math.min(s,N.x),r=Math.min(r,N.y),f=Math.max(f,N.x+N.width),h=Math.max(h,N.y+N.height)}catch(_){console.warn("Could not get bbox for element:",S,_)}});const m=50;s-=m,r-=m,f+=m,h+=m;const v={minX:s,minY:r,maxX:f,maxY:h,width:f-s,height:h-r};return console.log("Calculated bounds:",v),v}static calculateBounds(i,u){if(i.length===0)return{minX:0,minY:0,maxX:100,maxY:100,width:100,height:100};let s=1/0,r=1/0,f=-1/0,h=-1/0;i.forEach(g=>{const m=g.position.x,v=g.position.y,S=g.position.x+g.size.width,_=g.position.y+g.size.height;s=Math.min(s,m),r=Math.min(r,v),f=Math.max(f,S),h=Math.max(h,_)}),u.forEach(g=>{const m=i.find(S=>S.id===g.from),v=i.find(S=>S.id===g.to);if(m&&v){const S=this.getNodeCenter(m),_=this.getNodeCenter(v),N={x:_.x-S.x,y:_.y-S.y},K={x:-N.x,y:-N.y},E=this.getNodeEdgePoint(m,N),Y=this.getNodeEdgePoint(v,K);s=Math.min(s,E.x,Y.x),r=Math.min(r,E.y,Y.y),f=Math.max(f,E.x,Y.x),h=Math.max(h,E.y,Y.y);const z=this.getNodeEdgeDirection(m,N),T=this.getNodeEdgeDirection(v,K);if(Sl.generateConnector(E,Y,z,T).type==="path"){const A=Math.max(Math.abs(Y.x-E.x)*.3,Math.abs(Y.y-E.y)*.3,50);s=Math.min(s,E.x-A,Y.x-A),r=Math.min(r,E.y-A,Y.y-A),f=Math.max(f,E.x+A,Y.x+A),h=Math.max(h,E.y+A,Y.y+A)}}});const d=50;return s-=d,r-=d,f+=d,h+=d,{minX:s,minY:r,maxX:f,maxY:h,width:f-s,height:h-r}}static getNodeCenter(i){const u=pe.getNodeDisplaySize(i.type,i.size);return{x:i.position.x+u.width/2,y:i.position.y+u.height/2}}static getNodeEdgePoint(i,u){const s=pe.getNodeDisplaySize(i.type,i.size),r=this.getNodeCenter(i),f=Math.sqrt(u.x*u.x+u.y*u.y);if(f===0)return r;const h={x:u.x/f,y:u.y/f};switch(i.type){case"circle":{const d=Math.min(s.width,s.height)/2;return{x:r.x+h.x*d,y:r.y+h.y*d}}case"rectangle":{const d=s.width/2,g=s.height/2,m=Math.abs(h.y/h.x),v=g/d;if(m<=v){const S=r.x+(h.x>0?d:-d),_=r.y+h.y*d/Math.abs(h.x);return{x:S,y:_}}else{const S=r.x+h.x*g/Math.abs(h.y),_=r.y+(h.y>0?g:-g);return{x:S,y:_}}}case"diamond":{const d=s.width/2,g=s.height/2,m=[{x:0,y:-g},{x:d,y:0},{x:0,y:g},{x:-d,y:0}];let v=m[0],S=-1/0;return m.forEach(_=>{const N=h.x*_.x+h.y*_.y;N>S&&(S=N,v=_)}),{x:r.x+v.x,y:r.y+v.y}}default:return r}}static getNodeEdgeDirection(i,u){const s=pe.getNodeDisplaySize(i.type,i.size),r=Math.sqrt(u.x*u.x+u.y*u.y);if(r===0)return{x:1,y:0};const f={x:u.x/r,y:u.y/r};switch(i.type){case"circle":return f;case"rectangle":{const h=s.width/2,d=s.height/2,g=Math.abs(f.y/f.x),m=d/h;return g<=m?{x:f.x>0?1:-1,y:0}:{x:0,y:f.y>0?1:-1}}case"diamond":{const h=s.width/2,d=s.height/2,g=[{pos:{x:0,y:-d},normal:{x:0,y:-1}},{pos:{x:h,y:0},normal:{x:1,y:0}},{pos:{x:0,y:d},normal:{x:0,y:1}},{pos:{x:-h,y:0},normal:{x:-1,y:0}}];let m=g[0],v=-1/0;return g.forEach(S=>{const _=S.pos.x*f.x+S.pos.y*f.y;_>v&&(v=_,m=S)}),m.normal}default:return{x:1,y:0}}}static getSVGContent(i){const u=i.cloneNode(!0);return u.querySelectorAll("[data-resize-handle]").forEach(r=>r.remove()),new XMLSerializer().serializeToString(u)}static getFontStyles(){const i='-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif';return`
      <style>
        text {
          font-family: ${i};
          font-size: 14px;
          font-weight: 400;
          fill: #1e293b;
          text-anchor: middle;
          dominant-baseline: central;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        .node-label {
          font-family: ${i};
          font-size: 14px;
          font-weight: 500;
          fill: #1e293b;
          text-anchor: middle;
          dominant-baseline: central;
        }
        
        .connection-label {
          font-family: ${i};
          font-size: 12px;
          font-weight: 400;
          fill: #64748b;
          text-anchor: middle;
          dominant-baseline: central;
        }
      </style>
    `}static createExportSVG(i,u,s=!1){const r=i.cloneNode(!0);r.querySelectorAll("[data-resize-handle]").forEach(_=>_.remove()),r.querySelectorAll('rect[data-background="true"]').forEach(_=>_.remove()),s||r.querySelectorAll('rect[fill="url(#grid)"]').forEach(N=>N.remove());const d=r.querySelector('g[transform*="translate"][transform*="scale"]');d&&d.removeAttribute("transform");let g=r.querySelector("defs");g||(g=document.createElementNS("http://www.w3.org/2000/svg","defs"),r.insertBefore(g,r.firstChild));const m=document.createElementNS("http://www.w3.org/2000/svg","style");return m.textContent=this.getFontStyles(),g.appendChild(m),r.querySelectorAll("text").forEach(_=>{_.getAttribute("font-family")||_.setAttribute("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'),_.getAttribute("font-size")||_.setAttribute("font-size","14"),_.getAttribute("font-weight")||_.setAttribute("font-weight","500"),_.getAttribute("fill")||_.setAttribute("fill","#1e293b")}),r.setAttribute("viewBox",`${u.minX} ${u.minY} ${u.width} ${u.height}`),r.setAttribute("width",u.width.toString()),r.setAttribute("height",u.height.toString()),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),`<?xml version="1.0" encoding="UTF-8"?>
${new XMLSerializer().serializeToString(r)}`}static exportSVG(i,u,s,r="flowchart.svg",f=!1){const h=this.calculateBoundsFromSVG(i),d=this.createExportSVG(i,h,f),g=new Blob([d],{type:"image/svg+xml"}),m=URL.createObjectURL(g),v=document.createElement("a");v.href=m,v.download=r,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m)}static async waitForFonts(){if("fonts"in document)try{await document.fonts.ready,console.log("Fonts loaded for export")}catch(i){console.warn("Could not wait for fonts:",i)}}static exportPNG(i,u,s,r="flowchart.png",f=2,h=!1){return new Promise(async(d,g)=>{try{await this.waitForFonts();const m=this.calculateBoundsFromSVG(i),v=this.createExportSVG(i,m,h),S=new Image;S.onload=()=>{const K=document.createElement("canvas"),E=K.getContext("2d");if(!E){g(new Error("Could not get canvas context"));return}K.width=m.width*f,K.height=m.height*f,E.imageSmoothingEnabled=!0,E.imageSmoothingQuality="high",E.fillStyle="white",E.fillRect(0,0,K.width,K.height),E.drawImage(S,0,0,K.width,K.height),K.toBlob(Y=>{if(!Y){g(new Error("Failed to create PNG blob"));return}const z=URL.createObjectURL(Y),T=document.createElement("a");T.href=z,T.download=r,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(z),d()},"image/png")},S.onerror=()=>{g(new Error("Failed to load SVG for PNG conversion"))};const _=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),N=URL.createObjectURL(_);S.crossOrigin="anonymous",S.src=N,setTimeout(()=>{URL.revokeObjectURL(N)},1e3)}catch(m){g(m)}})}}const nv=({state:l,panelState:i,history:u,mermaidCode:s,minimapData:r,className:f,hoveredElement:h,onDeleteNode:d,onDeleteConnection:g,onHoverElement:m,onSelectNode:v,onSelectConnection:S,onSectionToggle:_,onImportDiagram:N,onUndo:K,onRedo:E,onMinimapNavigate:Y})=>{const[z,T]=at.useState(""),[j,A]=at.useState(!1),H=()=>{Fu.copyToClipboard(s),T("Copied to clipboard!"),setTimeout(()=>T(""),2e3)},B=()=>{try{const O=an.exportState(l,i,u),it=new Blob([O],{type:"application/json"}),x=URL.createObjectURL(it),C=document.createElement("a");C.href=x,C.download=`flowchart-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(x),T("Diagram exported!"),setTimeout(()=>T(""),2e3)}catch(O){console.error("Export failed:",O),T("Export failed!"),setTimeout(()=>T(""),2e3)}},I=O=>{const it=O.target.files?.[0];if(!it)return;const x=new FileReader;x.onload=C=>{try{const $=C.target?.result,Q=an.importState($);Q?(N(Q.diagram,Q.panel,Q.history),T("Diagram imported!"),setTimeout(()=>T(""),2e3)):(T("Invalid file format!"),setTimeout(()=>T(""),2e3))}catch($){console.error("Import failed:",$),T("Import failed!"),setTimeout(()=>T(""),2e3)}},x.readAsText(it),O.target.value=""},et=()=>{try{const O=document.querySelector(".shapes-canvas svg");if(!O){T("Could not find flowchart to export"),setTimeout(()=>T(""),2e3);return}_0.exportSVG(O,l.nodes,l.connections,`flowchart-${new Date().toISOString().split("T")[0]}.svg`),T("SVG exported!"),setTimeout(()=>T(""),2e3)}catch(O){console.error("SVG export failed:",O),T("SVG export failed!"),setTimeout(()=>T(""),2e3)}},ht=async()=>{try{const O=document.querySelector(".shapes-canvas svg");if(!O){T("Could not find flowchart to export"),setTimeout(()=>T(""),2e3);return}await _0.exportPNG(O,l.nodes,l.connections,`flowchart-${new Date().toISOString().split("T")[0]}.png`),T("PNG exported!"),setTimeout(()=>T(""),2e3)}catch(O){console.error("PNG export failed:",O),T("PNG export failed!"),setTimeout(()=>T(""),2e3)}},ut=O=>{switch(O){case"circle":return"○";case"rectangle":return"□";case"diamond":return"◇";default:return"?"}},V=O=>{const it=pe.getNodeDisplaySize(O.type,O.size);return{x:O.position.x+it.width/2,y:O.position.y+it.height/2}},ct=(O,it)=>{const x=pe.getNodeDisplaySize(O.type,O.size),C=V(O),$=Math.sqrt(it.x*it.x+it.y*it.y);if($===0)return C;const Q={x:it.x/$,y:it.y/$};switch(O.type){case"circle":{const ot=Math.min(x.width,x.height)/2;return{x:C.x+Q.x*ot,y:C.y+Q.y*ot}}case"rectangle":{const ot=x.width/2,pt=x.height/2,ft=Math.abs(Q.y/Q.x),Ht=pt/ot;if(ft<=Ht){const St=C.x+(Q.x>0?ot:-ot),kt=C.y+Q.y*ot/Math.abs(Q.x);return{x:St,y:kt}}else{const St=C.x+Q.x*pt/Math.abs(Q.y),kt=C.y+(Q.y>0?pt:-pt);return{x:St,y:kt}}}case"diamond":{const ot=x.width/2,pt=x.height/2,ft=[{x:C.x,y:C.y-pt},{x:C.x+ot,y:C.y},{x:C.x,y:C.y+pt},{x:C.x-ot,y:C.y}];let Ht=ft[0],St=-1/0;return ft.forEach(kt=>{const Ct={x:kt.x-C.x,y:kt.y-C.y},Vt=Q.x*Ct.x+Q.y*Ct.y;Vt>St&&(St=Vt,Ht=kt)}),Ht}default:return C}},Dt=(O,it)=>{const x=Math.sqrt(it.x*it.x+it.y*it.y);return x===0?{x:1,y:0}:{x:it.x/x,y:it.y/x}},zt=O=>{if(!r||!Y)return;A(!0);const x=O.currentTarget.getBoundingClientRect(),C=(O.clientX-x.left)/x.width*r.bounds.width+r.bounds.minX,$=(O.clientY-x.top)/x.height*r.bounds.height+r.bounds.minY;Y({x:C,y:$}),O.preventDefault()},Yt=O=>{if(!j||!r||!Y)return;const x=O.currentTarget.getBoundingClientRect(),C=(O.clientX-x.left)/x.width*r.bounds.width+r.bounds.minX,$=(O.clientY-x.top)/x.height*r.bounds.height+r.bounds.minY;Y({x:C,y:$}),O.preventDefault()},k=()=>{A(!1)},nt=()=>{A(!1)};return b.jsxs("div",{className:`sidebar ${f||""}`,children:[b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("history"),children:[b.jsxs("h3",{children:["History (",u.past.length+1,")"]}),b.jsxs("div",{className:"history-header-actions",children:[b.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:O=>{O.stopPropagation(),K()},disabled:!he.canUndo(u),title:he.canUndo(u)?`Undo: ${he.getUndoAction(u)}`:"Nothing to undo",children:b.jsx(Pp,{size:14})}),b.jsx("button",{className:"btn btn-icon btn-secondary btn-small",onClick:O=>{O.stopPropagation(),E()},disabled:!he.canRedo(u),title:he.canRedo(u)?`Redo: ${he.getRedoAction(u)}`:"Nothing to redo",children:b.jsx(Wp,{size:14})}),b.jsx("span",{className:`accordion-arrow ${i.openSections.history?"open":""}`,children:"▼"})]})]}),i.openSections.history&&b.jsx("div",{className:"accordion-content",children:b.jsx("div",{className:"history-log",children:u.past.length===0&&u.future.length===0?b.jsx("div",{className:"history-empty",children:"No history yet. Start creating shapes!"}):b.jsxs(b.Fragment,{children:[u.future.slice().reverse().map((O,it)=>b.jsxs("div",{className:"history-entry future",children:[b.jsx("span",{className:"history-action",children:O.action}),b.jsx("span",{className:"history-time",children:new Date(O.timestamp).toLocaleTimeString()})]},`future-${O.timestamp}-${it}`)),b.jsxs("div",{className:"history-entry current",children:[b.jsxs("span",{className:"history-action",children:["▶ ",he.getCurrentAction(u)]}),b.jsx("span",{className:"history-time",children:new Date(u.present.timestamp).toLocaleTimeString()})]}),u.past.slice().reverse().map((O,it)=>b.jsxs("div",{className:"history-entry past",children:[b.jsx("span",{className:"history-action",children:O.action}),b.jsx("span",{className:"history-time",children:new Date(O.timestamp).toLocaleTimeString()})]},`past-${O.timestamp}-${it}`))]})})})]}),r&&b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("navigator"),children:[b.jsx("h3",{children:"Navigator"}),b.jsx("span",{className:`accordion-arrow ${i.openSections.navigator?"open":""}`,children:"▼"})]}),i.openSections.navigator&&b.jsx("div",{className:"accordion-content",children:b.jsx("div",{className:"minimap",style:{width:"100%",height:"120px",background:"white",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:b.jsxs("svg",{width:"100%",height:"100%",viewBox:`${r.bounds.minX} ${r.bounds.minY} ${r.bounds.width} ${r.bounds.height}`,style:{background:"white",cursor:j?"grabbing":"grab",touchAction:"none"},onPointerDown:zt,onPointerMove:Yt,onPointerUp:k,onPointerLeave:nt,children:[r.nodes.map(O=>{const it=O.position.x+O.size.width/2,x=O.position.y+O.size.height/2,C=l.selectedNodeId===O.id,$=h?.type==="node"&&h.id===O.id,Q=C?"#d1d5db":$?"#f3f4f6":"#f9fafb",ot=C?"#000000":$?"#6b7280":"#9ca3af",pt=C||$?"1":"0.5";if(O.type==="circle"){const ft=Math.min(O.size.width,O.size.height)/2;return b.jsx("circle",{cx:it,cy:x,r:ft,fill:Q,stroke:ot,strokeWidth:pt,style:{cursor:"pointer"},onClick:()=>v(O.id)},O.id)}else if(O.type==="diamond"){const ft=O.size.width/2,Ht=O.size.height/2,St=[`${it},${x-Ht}`,`${it+ft},${x}`,`${it},${x+Ht}`,`${it-ft},${x}`].join(" ");return b.jsx("polygon",{points:St,fill:Q,stroke:ot,strokeWidth:pt,style:{cursor:"pointer"},onClick:()=>v(O.id)},O.id)}else return b.jsx("rect",{x:O.position.x,y:O.position.y,width:O.size.width,height:O.size.height,fill:Q,stroke:ot,strokeWidth:pt,style:{cursor:"pointer"},onClick:()=>v(O.id)},O.id)}),l.connections.map(O=>{const it=r.nodes.find($t=>$t.id===O.from),x=r.nodes.find($t=>$t.id===O.to);if(!it||!x)return null;const C=l.selectedConnectionId===O.id,$=h?.type==="connection"&&h.id===O.id,Q=V(it),ot=V(x),pt={x:ot.x-Q.x,y:ot.y-Q.y},ft={x:-pt.x,y:-pt.y},Ht=ct(it,pt),St=ct(x,ft),kt=Dt(it,pt),Ct=Dt(x,ft),Vt=Sl.generateConnector(Ht,St,kt,Ct),ae=C?"#000000":$?"#6b7280":"#9ca3af",It=C||$?"1":"0.5";return b.jsxs("g",{style:{cursor:"pointer"},onClick:()=>S(O.id),children:[Vt.type==="line"?b.jsx("line",{x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,stroke:ae,strokeWidth:It,strokeLinecap:"round"}):b.jsx("path",{d:Vt.pathData,stroke:ae,strokeWidth:It,fill:"none",strokeLinecap:"round"}),b.jsx("polygon",{points:Vt.arrowPath,fill:ae})]},O.id)}),b.jsx("rect",{x:r.viewport.x,y:r.viewport.y,width:r.viewport.width,height:r.viewport.height,fill:"rgba(59, 130, 246, 0.1)",stroke:"#3b82f6",strokeWidth:j?"3":"2",strokeDasharray:j?"5,5":"none",opacity:"1",style:{pointerEvents:"none"}})]})})})]}),b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("nodes"),children:[b.jsxs("h3",{children:["Shapes (",l.nodes.length,")"]}),b.jsx("span",{className:`accordion-arrow ${i.openSections.nodes?"open":""}`,children:"▼"})]}),i.openSections.nodes&&b.jsx("div",{className:"accordion-content",children:l.nodes.length===0?b.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#64748b"},children:"No shapes drawn yet"}):l.nodes.map(O=>{const it=l.selectedNodeId===O.id;return b.jsxs("div",{className:`node-item ${it?"selected":""}`,onMouseEnter:()=>m({type:"node",id:O.id}),onMouseLeave:()=>m(null),onClick:()=>v(O.id),style:{cursor:"pointer"},children:[b.jsxs("div",{className:"node-info",children:[b.jsxs("div",{className:"node-type",children:[ut(O.type)," ",O.type]}),b.jsxs("div",{className:"node-name",children:['"',O.label,'"']})]}),b.jsx("button",{className:"delete-btn",onClick:x=>{x.stopPropagation(),d(O.id)},title:"Delete shape",children:"×"})]},O.id)})})]}),b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("connections"),children:[b.jsxs("h3",{children:["Connections (",l.connections.length,")"]}),b.jsx("span",{className:`accordion-arrow ${i.openSections.connections?"open":""}`,children:"▼"})]}),i.openSections.connections&&b.jsx("div",{className:"accordion-content",children:l.connections.length===0?b.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#64748b"},children:"No connections created yet"}):l.connections.map(O=>{const it=l.nodes.find($=>$.id===O.from),x=l.nodes.find($=>$.id===O.to);if(!it||!x)return null;const C=l.selectedConnectionId===O.id;return b.jsxs("div",{className:`connection-item ${C?"selected":""}`,onMouseEnter:()=>m({type:"connection",id:O.id}),onMouseLeave:()=>m(null),onClick:()=>S(O.id),style:{cursor:"pointer"},children:[b.jsx("div",{className:"connection-info",children:b.jsxs("div",{className:"connection-nodes",children:[b.jsxs("span",{className:"connection-from",children:['"',it.label,'"']}),b.jsx("span",{className:"connection-arrow",children:"→"}),b.jsxs("span",{className:"connection-to",children:['"',x.label,'"']})]})}),b.jsx("button",{className:"delete-btn",onClick:$=>{$.stopPropagation(),g(O.id)},title:"Delete connection",children:"×"})]},O.id)})})]}),b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("export"),children:[b.jsx("h3",{children:"Export"}),b.jsx("span",{className:`accordion-arrow ${i.openSections.export?"open":""}`,children:"▼"})]}),i.openSections.export&&b.jsx("div",{className:"accordion-content",children:b.jsx("div",{className:"export-section",children:b.jsxs("div",{className:"export-actions",children:[b.jsxs("button",{className:"btn btn-icon btn-primary",onClick:H,disabled:l.nodes.length===0,title:"Copy Mermaid Code",children:[b.jsx(Vp,{size:16}),b.jsx("span",{children:"Copy Mermaid"})]}),b.jsxs("button",{className:"btn btn-icon btn-secondary",onClick:et,disabled:l.nodes.length===0,title:"Export as SVG image with exact fonts",children:[b.jsx($p,{size:16}),b.jsx("span",{children:"Export SVG"})]}),b.jsxs("button",{className:"btn btn-icon btn-secondary",onClick:ht,disabled:l.nodes.length===0,title:"Export as PNG image with exact fonts (high quality)",children:[b.jsx(Jp,{size:16}),b.jsx("span",{children:"Export PNG"})]}),b.jsxs("button",{className:"btn btn-icon btn-secondary",onClick:B,disabled:l.nodes.length===0,title:"Export diagram as JSON file",children:[b.jsx(Qp,{size:16}),b.jsx("span",{children:"Export JSON"})]}),b.jsxs("label",{className:"btn btn-icon btn-secondary file-input-label",title:"Import diagram from JSON file",children:[b.jsx(ev,{size:16}),b.jsx("span",{children:"Import"}),b.jsx("input",{type:"file",accept:".json",onChange:I,style:{display:"none"}})]}),z&&b.jsx("div",{className:"copy-message success",children:z})]})})})]}),b.jsxs("div",{className:"accordion-section",children:[b.jsxs("div",{className:"accordion-header",onClick:()=>_("shortcuts"),children:[b.jsx("h3",{children:"Controls & Instructions"}),b.jsx("span",{className:`accordion-arrow ${i.openSections.shortcuts?"open":""}`,children:"▼"})]}),i.openSections.shortcuts&&b.jsx("div",{className:"accordion-content",children:b.jsxs("div",{className:"shortcuts-list",children:[b.jsxs("div",{className:"shortcut-group",children:[b.jsx("h4",{children:"🖱️ Desktop Navigation"}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Mouse Wheel"}),b.jsx("span",{className:"shortcut-desc",children:"Zoom in/out"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Space + Drag"}),b.jsx("span",{className:"shortcut-desc",children:"Pan canvas"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Click & Drag"}),b.jsx("span",{className:"shortcut-desc",children:"Draw shapes & lines"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Minimap Drag"}),b.jsx("span",{className:"shortcut-desc",children:"Navigate canvas"})]})]}),b.jsxs("div",{className:"shortcut-group",children:[b.jsx("h4",{children:"📱 Mobile/Touch"}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Pinch"}),b.jsx("span",{className:"shortcut-desc",children:"Zoom in/out"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Two-finger Drag"}),b.jsx("span",{className:"shortcut-desc",children:"Pan canvas"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Single Touch"}),b.jsx("span",{className:"shortcut-desc",children:"Draw shapes & lines"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Double Tap"}),b.jsx("span",{className:"shortcut-desc",children:"Edit node label"})]})]}),b.jsxs("div",{className:"shortcut-group",children:[b.jsx("h4",{children:"✏️ Creating & Editing"}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Draw Shape"}),b.jsx("span",{className:"shortcut-desc",children:"Auto-detects circles, rectangles, diamonds"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Draw Line"}),b.jsx("span",{className:"shortcut-desc",children:"Connects nearby shapes automatically"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Drag Node"}),b.jsx("span",{className:"shortcut-desc",children:"Move shapes around canvas"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Corner Handles"}),b.jsx("span",{className:"shortcut-desc",children:"Resize selected shape"})]})]}),b.jsxs("div",{className:"shortcut-group",children:[b.jsx("h4",{children:"⌨️ Keyboard Shortcuts"}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl/Cmd + Z"}),b.jsx("span",{className:"shortcut-desc",children:"Undo action"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl/Cmd + Y"}),b.jsx("span",{className:"shortcut-desc",children:"Redo action"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Tab"}),b.jsx("span",{className:"shortcut-desc",children:"Select next node"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Shift + Tab"}),b.jsx("span",{className:"shortcut-desc",children:"Select previous node"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Enter / F2"}),b.jsx("span",{className:"shortcut-desc",children:"Edit selected node"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Delete"}),b.jsx("span",{className:"shortcut-desc",children:"Delete selected"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Escape"}),b.jsx("span",{className:"shortcut-desc",children:"Clear selection"})]})]}),b.jsxs("div",{className:"shortcut-group",children:[b.jsx("h4",{children:"🔧 Tools & Features"}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl/Cmd + L"}),b.jsx("span",{className:"shortcut-desc",children:"Auto layout nodes"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"F9 / Ctrl+B"}),b.jsx("span",{className:"shortcut-desc",children:"Toggle sidebar"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl/Cmd + C"}),b.jsx("span",{className:"shortcut-desc",children:"Copy Mermaid code"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl/Cmd + S"}),b.jsx("span",{className:"shortcut-desc",children:"Export diagram"})]}),b.jsxs("div",{className:"shortcut-item",children:[b.jsx("span",{className:"shortcut-key",children:"Ctrl+Shift+Del"}),b.jsx("span",{className:"shortcut-desc",children:"Clear all data"})]})]})]})})]})]})},xo=class xo{static detectConnectionFromLine(i,u,s=1){const r=this.findNearestNode(i.startPoint,u,s),f=this.findNearestNode(i.endPoint,u,s);return r&&f&&r.id!==f.id?{id:`conn_${r.id}_${f.id}_${Date.now()}`,from:r.id,to:f.id}:null}static lineCreatesConnection(i,u,s=1){const r=this.findNearestNode(i.startPoint,u,s),f=this.findNearestNode(i.endPoint,u,s);return!!(r&&f&&r.id!==f.id)}static findNearestNode(i,u,s=1){let r=null,f=this.PROXIMITY_THRESHOLD/s;return u.forEach(h=>{const d=this.getDistanceToNode(i,h);d<f&&(f=d,r=h)}),r}static getDistanceToNode(i,u){const s=pe.getNodeDisplaySize(u.type,u.size),r={x:u.position.x+s.width/2,y:u.position.y+s.height/2};switch(u.type){case"circle":{const f=Math.min(s.width,s.height)/2,h=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));return Math.max(0,h-f)}case"rectangle":return this.getDistanceToRectangle(i,u.position,s);case"diamond":return this.getDistanceToDiamond(i,u.position,s);default:return this.getDistanceToRectangle(i,u.position,s)}}static getDistanceToRectangle(i,u,s){const r=u.x,f=u.x+s.width,h=u.y,d=u.y+s.height;if(i.x>=r&&i.x<=f&&i.y>=h&&i.y<=d)return 0;const g=Math.max(r,Math.min(i.x,f)),m=Math.max(h,Math.min(i.y,d));return Math.sqrt(Math.pow(i.x-g,2)+Math.pow(i.y-m,2))}static getDistanceToDiamond(i,u,s){const r=u.x+s.width/2,f=u.y+s.height/2,h=s.width/2,d=s.height/2,g=[{x:r,y:f-d},{x:r+h,y:f},{x:r,y:f+d},{x:r-h,y:f}];let m=1/0;return g.forEach(S=>{const _=Math.sqrt(Math.pow(i.x-S.x,2)+Math.pow(i.y-S.y,2));m=Math.min(m,_)}),[{start:g[0],end:g[1]},{start:g[1],end:g[2]},{start:g[2],end:g[3]},{start:g[3],end:g[0]}].forEach(S=>{const _=this.getDistanceToLineSegment(i,S.start,S.end);m=Math.min(m,_)}),m}static getDistanceToLineSegment(i,u,s){const r=i.x-u.x,f=i.y-u.y,h=s.x-u.x,d=s.y-u.y,g=r*h+f*d,m=h*h+d*d;if(m===0)return Math.sqrt(r*r+f*f);let v=g/m,S,_;v<0?(S=u.x,_=u.y):v>1?(S=s.x,_=s.y):(S=u.x+v*h,_=u.y+v*d);const N=i.x-S,K=i.y-_;return Math.sqrt(N*N+K*K)}static getProximityThreshold(){return this.PROXIMITY_THRESHOLD}static testDistanceCalculation(i,u){return this.getDistanceToNode(i,u)}};xo.PROXIMITY_THRESHOLD=40;let qr=xo;var av={value:()=>{}};function uo(){for(var l=0,i=arguments.length,u={},s;l<i;++l){if(!(s=arguments[l]+"")||s in u||/[\s.]/.test(s))throw new Error("illegal type: "+s);u[s]=[]}return new Pu(u)}function Pu(l){this._=l}function lv(l,i){return l.trim().split(/^|\s+/).map(function(u){var s="",r=u.indexOf(".");if(r>=0&&(s=u.slice(r+1),u=u.slice(0,r)),u&&!i.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:s}})}Pu.prototype=uo.prototype={constructor:Pu,on:function(l,i){var u=this._,s=lv(l+"",u),r,f=-1,h=s.length;if(arguments.length<2){for(;++f<h;)if((r=(l=s[f]).type)&&(r=iv(u[r],l.name)))return r;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++f<h;)if(r=(l=s[f]).type)u[r]=w0(u[r],l.name,i);else if(i==null)for(r in u)u[r]=w0(u[r],l.name,null);return this},copy:function(){var l={},i=this._;for(var u in i)l[u]=i[u].slice();return new Pu(l)},call:function(l,i){if((r=arguments.length-2)>0)for(var u=new Array(r),s=0,r,f;s<r;++s)u[s]=arguments[s+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(f=this._[l],s=0,r=f.length;s<r;++s)f[s].value.apply(i,u)},apply:function(l,i,u){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var s=this._[l],r=0,f=s.length;r<f;++r)s[r].value.apply(i,u)}};function iv(l,i){for(var u=0,s=l.length,r;u<s;++u)if((r=l[u]).name===i)return r.value}function w0(l,i,u){for(var s=0,r=l.length;s<r;++s)if(l[s].name===i){l[s]=av,l=l.slice(0,s).concat(l.slice(s+1));break}return u!=null&&l.push({name:i,value:u}),l}var Br="http://www.w3.org/1999/xhtml";const N0={svg:"http://www.w3.org/2000/svg",xhtml:Br,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hc(l){var i=l+="",u=i.indexOf(":");return u>=0&&(i=l.slice(0,u))!=="xmlns"&&(l=l.slice(u+1)),N0.hasOwnProperty(i)?{space:N0[i],local:l}:l}function uv(l){return function(){var i=this.ownerDocument,u=this.namespaceURI;return u===Br&&i.documentElement.namespaceURI===Br?i.createElement(l):i.createElementNS(u,l)}}function cv(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function wy(l){var i=hc(l);return(i.local?cv:uv)(i)}function sv(){}function co(l){return l==null?sv:function(){return this.querySelector(l)}}function rv(l){typeof l!="function"&&(l=co(l));for(var i=this._groups,u=i.length,s=new Array(u),r=0;r<u;++r)for(var f=i[r],h=f.length,d=s[r]=new Array(h),g,m,v=0;v<h;++v)(g=f[v])&&(m=l.call(g,g.__data__,v,f))&&("__data__"in g&&(m.__data__=g.__data__),d[v]=m);return new on(s,this._parents)}function ov(l){return l==null?[]:Array.isArray(l)?l:Array.from(l)}function fv(){return[]}function Ny(l){return l==null?fv:function(){return this.querySelectorAll(l)}}function hv(l){return function(){return ov(l.apply(this,arguments))}}function dv(l){typeof l=="function"?l=hv(l):l=Ny(l);for(var i=this._groups,u=i.length,s=[],r=[],f=0;f<u;++f)for(var h=i[f],d=h.length,g,m=0;m<d;++m)(g=h[m])&&(s.push(l.call(g,g.__data__,m,h)),r.push(g));return new on(s,r)}function Ey(l){return function(){return this.matches(l)}}function My(l){return function(i){return i.matches(l)}}var yv=Array.prototype.find;function mv(l){return function(){return yv.call(this.children,l)}}function gv(){return this.firstElementChild}function pv(l){return this.select(l==null?gv:mv(typeof l=="function"?l:My(l)))}var vv=Array.prototype.filter;function xv(){return Array.from(this.children)}function bv(l){return function(){return vv.call(this.children,l)}}function Sv(l){return this.selectAll(l==null?xv:bv(typeof l=="function"?l:My(l)))}function _v(l){typeof l!="function"&&(l=Ey(l));for(var i=this._groups,u=i.length,s=new Array(u),r=0;r<u;++r)for(var f=i[r],h=f.length,d=s[r]=[],g,m=0;m<h;++m)(g=f[m])&&l.call(g,g.__data__,m,f)&&d.push(g);return new on(s,this._parents)}function Ay(l){return new Array(l.length)}function wv(){return new on(this._enter||this._groups.map(Ay),this._parents)}function ac(l,i){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=i}ac.prototype={constructor:ac,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,i){return this._parent.insertBefore(l,i)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};function Nv(l){return function(){return l}}function Ev(l,i,u,s,r,f){for(var h=0,d,g=i.length,m=f.length;h<m;++h)(d=i[h])?(d.__data__=f[h],s[h]=d):u[h]=new ac(l,f[h]);for(;h<g;++h)(d=i[h])&&(r[h]=d)}function Mv(l,i,u,s,r,f,h){var d,g,m=new Map,v=i.length,S=f.length,_=new Array(v),N;for(d=0;d<v;++d)(g=i[d])&&(_[d]=N=h.call(g,g.__data__,d,i)+"",m.has(N)?r[d]=g:m.set(N,g));for(d=0;d<S;++d)N=h.call(l,f[d],d,f)+"",(g=m.get(N))?(s[d]=g,g.__data__=f[d],m.delete(N)):u[d]=new ac(l,f[d]);for(d=0;d<v;++d)(g=i[d])&&m.get(_[d])===g&&(r[d]=g)}function Av(l){return l.__data__}function zv(l,i){if(!arguments.length)return Array.from(this,Av);var u=i?Mv:Ev,s=this._parents,r=this._groups;typeof l!="function"&&(l=Nv(l));for(var f=r.length,h=new Array(f),d=new Array(f),g=new Array(f),m=0;m<f;++m){var v=s[m],S=r[m],_=S.length,N=Tv(l.call(v,v&&v.__data__,m,s)),K=N.length,E=d[m]=new Array(K),Y=h[m]=new Array(K),z=g[m]=new Array(_);u(v,S,E,Y,z,N,i);for(var T=0,j=0,A,H;T<K;++T)if(A=E[T]){for(T>=j&&(j=T+1);!(H=Y[j])&&++j<K;);A._next=H||null}}return h=new on(h,s),h._enter=d,h._exit=g,h}function Tv(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function Dv(){return new on(this._exit||this._groups.map(Ay),this._parents)}function Cv(l,i,u){var s=this.enter(),r=this,f=this.exit();return typeof l=="function"?(s=l(s),s&&(s=s.selection())):s=s.append(l+""),i!=null&&(r=i(r),r&&(r=r.selection())),u==null?f.remove():u(f),s&&r?s.merge(r).order():r}function Rv(l){for(var i=l.selection?l.selection():l,u=this._groups,s=i._groups,r=u.length,f=s.length,h=Math.min(r,f),d=new Array(r),g=0;g<h;++g)for(var m=u[g],v=s[g],S=m.length,_=d[g]=new Array(S),N,K=0;K<S;++K)(N=m[K]||v[K])&&(_[K]=N);for(;g<r;++g)d[g]=u[g];return new on(d,this._parents)}function Ov(){for(var l=this._groups,i=-1,u=l.length;++i<u;)for(var s=l[i],r=s.length-1,f=s[r],h;--r>=0;)(h=s[r])&&(f&&h.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(h,f),f=h);return this}function jv(l){l||(l=Uv);function i(S,_){return S&&_?l(S.__data__,_.__data__):!S-!_}for(var u=this._groups,s=u.length,r=new Array(s),f=0;f<s;++f){for(var h=u[f],d=h.length,g=r[f]=new Array(d),m,v=0;v<d;++v)(m=h[v])&&(g[v]=m);g.sort(i)}return new on(r,this._parents).order()}function Uv(l,i){return l<i?-1:l>i?1:l>=i?0:NaN}function Hv(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this}function Lv(){return Array.from(this)}function Yv(){for(var l=this._groups,i=0,u=l.length;i<u;++i)for(var s=l[i],r=0,f=s.length;r<f;++r){var h=s[r];if(h)return h}return null}function Xv(){let l=0;for(const i of this)++l;return l}function qv(){return!this.node()}function Bv(l){for(var i=this._groups,u=0,s=i.length;u<s;++u)for(var r=i[u],f=0,h=r.length,d;f<h;++f)(d=r[f])&&l.call(d,d.__data__,f,r);return this}function Gv(l){return function(){this.removeAttribute(l)}}function Vv(l){return function(){this.removeAttributeNS(l.space,l.local)}}function Zv(l,i){return function(){this.setAttribute(l,i)}}function Qv(l,i){return function(){this.setAttributeNS(l.space,l.local,i)}}function kv(l,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttribute(l):this.setAttribute(l,u)}}function $v(l,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,u)}}function Kv(l,i){var u=hc(l);if(arguments.length<2){var s=this.node();return u.local?s.getAttributeNS(u.space,u.local):s.getAttribute(u)}return this.each((i==null?u.local?Vv:Gv:typeof i=="function"?u.local?$v:kv:u.local?Qv:Zv)(u,i))}function zy(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function Jv(l){return function(){this.style.removeProperty(l)}}function Iv(l,i,u){return function(){this.style.setProperty(l,i,u)}}function Wv(l,i,u){return function(){var s=i.apply(this,arguments);s==null?this.style.removeProperty(l):this.style.setProperty(l,s,u)}}function Fv(l,i,u){return arguments.length>1?this.each((i==null?Jv:typeof i=="function"?Wv:Iv)(l,i,u??"")):_l(this.node(),l)}function _l(l,i){return l.style.getPropertyValue(i)||zy(l).getComputedStyle(l,null).getPropertyValue(i)}function Pv(l){return function(){delete this[l]}}function tx(l,i){return function(){this[l]=i}}function ex(l,i){return function(){var u=i.apply(this,arguments);u==null?delete this[l]:this[l]=u}}function nx(l,i){return arguments.length>1?this.each((i==null?Pv:typeof i=="function"?ex:tx)(l,i)):this.node()[l]}function Ty(l){return l.trim().split(/^|\s+/)}function so(l){return l.classList||new Dy(l)}function Dy(l){this._node=l,this._names=Ty(l.getAttribute("class")||"")}Dy.prototype={add:function(l){var i=this._names.indexOf(l);i<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var i=this._names.indexOf(l);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};function Cy(l,i){for(var u=so(l),s=-1,r=i.length;++s<r;)u.add(i[s])}function Ry(l,i){for(var u=so(l),s=-1,r=i.length;++s<r;)u.remove(i[s])}function ax(l){return function(){Cy(this,l)}}function lx(l){return function(){Ry(this,l)}}function ix(l,i){return function(){(i.apply(this,arguments)?Cy:Ry)(this,l)}}function ux(l,i){var u=Ty(l+"");if(arguments.length<2){for(var s=so(this.node()),r=-1,f=u.length;++r<f;)if(!s.contains(u[r]))return!1;return!0}return this.each((typeof i=="function"?ix:i?ax:lx)(u,i))}function cx(){this.textContent=""}function sx(l){return function(){this.textContent=l}}function rx(l){return function(){var i=l.apply(this,arguments);this.textContent=i??""}}function ox(l){return arguments.length?this.each(l==null?cx:(typeof l=="function"?rx:sx)(l)):this.node().textContent}function fx(){this.innerHTML=""}function hx(l){return function(){this.innerHTML=l}}function dx(l){return function(){var i=l.apply(this,arguments);this.innerHTML=i??""}}function yx(l){return arguments.length?this.each(l==null?fx:(typeof l=="function"?dx:hx)(l)):this.node().innerHTML}function mx(){this.nextSibling&&this.parentNode.appendChild(this)}function gx(){return this.each(mx)}function px(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vx(){return this.each(px)}function xx(l){var i=typeof l=="function"?l:wy(l);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function bx(){return null}function Sx(l,i){var u=typeof l=="function"?l:wy(l),s=i==null?bx:typeof i=="function"?i:co(i);return this.select(function(){return this.insertBefore(u.apply(this,arguments),s.apply(this,arguments)||null)})}function _x(){var l=this.parentNode;l&&l.removeChild(this)}function wx(){return this.each(_x)}function Nx(){var l=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(l,this.nextSibling):l}function Ex(){var l=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(l,this.nextSibling):l}function Mx(l){return this.select(l?Ex:Nx)}function Ax(l){return arguments.length?this.property("__data__",l):this.node().__data__}function zx(l){return function(i){l.call(this,i,this.__data__)}}function Tx(l){return l.trim().split(/^|\s+/).map(function(i){var u="",s=i.indexOf(".");return s>=0&&(u=i.slice(s+1),i=i.slice(0,s)),{type:i,name:u}})}function Dx(l){return function(){var i=this.__on;if(i){for(var u=0,s=-1,r=i.length,f;u<r;++u)f=i[u],(!l.type||f.type===l.type)&&f.name===l.name?this.removeEventListener(f.type,f.listener,f.options):i[++s]=f;++s?i.length=s:delete this.__on}}}function Cx(l,i,u){return function(){var s=this.__on,r,f=zx(i);if(s){for(var h=0,d=s.length;h<d;++h)if((r=s[h]).type===l.type&&r.name===l.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=f,r.options=u),r.value=i;return}}this.addEventListener(l.type,f,u),r={type:l.type,name:l.name,value:i,listener:f,options:u},s?s.push(r):this.__on=[r]}}function Rx(l,i,u){var s=Tx(l+""),r,f=s.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var g=0,m=d.length,v;g<m;++g)for(r=0,v=d[g];r<f;++r)if((h=s[r]).type===v.type&&h.name===v.name)return v.value}return}for(d=i?Cx:Dx,r=0;r<f;++r)this.each(d(s[r],i,u));return this}function Oy(l,i,u){var s=zy(l),r=s.CustomEvent;typeof r=="function"?r=new r(i,u):(r=s.document.createEvent("Event"),u?(r.initEvent(i,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(i,!1,!1)),l.dispatchEvent(r)}function Ox(l,i){return function(){return Oy(this,l,i)}}function jx(l,i){return function(){return Oy(this,l,i.apply(this,arguments))}}function Ux(l,i){return this.each((typeof i=="function"?jx:Ox)(l,i))}function*Hx(){for(var l=this._groups,i=0,u=l.length;i<u;++i)for(var s=l[i],r=0,f=s.length,h;r<f;++r)(h=s[r])&&(yield h)}var Lx=[null];function on(l,i){this._groups=l,this._parents=i}function Ui(){return new on([[document.documentElement]],Lx)}function Yx(){return this}on.prototype=Ui.prototype={constructor:on,select:rv,selectAll:dv,selectChild:pv,selectChildren:Sv,filter:_v,data:zv,enter:wv,exit:Dv,join:Cv,merge:Rv,selection:Yx,order:Ov,sort:jv,call:Hv,nodes:Lv,node:Yv,size:Xv,empty:qv,each:Bv,attr:Kv,style:Fv,property:nx,classed:ux,text:ox,html:yx,raise:gx,lower:vx,append:xx,insert:Sx,remove:wx,clone:Mx,datum:Ax,on:Rx,dispatch:Ux,[Symbol.iterator]:Hx};function ro(l,i,u){l.prototype=i.prototype=u,u.constructor=l}function jy(l,i){var u=Object.create(l.prototype);for(var s in i)u[s]=i[s];return u}function Hi(){}var Di=.7,lc=1/Di,bl="\\s*([+-]?\\d+)\\s*",Ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xx=/^#([0-9a-f]{3,8})$/,qx=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),Bx=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),Gx=new RegExp(`^rgba\\(${bl},${bl},${bl},${Ci}\\)$`),Vx=new RegExp(`^rgba\\(${xn},${xn},${xn},${Ci}\\)$`),Zx=new RegExp(`^hsl\\(${Ci},${xn},${xn}\\)$`),Qx=new RegExp(`^hsla\\(${Ci},${xn},${xn},${Ci}\\)$`),E0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ro(Hi,Ri,{copy(l){return Object.assign(new this.constructor,this,l)},displayable(){return this.rgb().displayable()},hex:M0,formatHex:M0,formatHex8:kx,formatHsl:$x,formatRgb:A0,toString:A0});function M0(){return this.rgb().formatHex()}function kx(){return this.rgb().formatHex8()}function $x(){return Uy(this).formatHsl()}function A0(){return this.rgb().formatRgb()}function Ri(l){var i,u;return l=(l+"").trim().toLowerCase(),(i=Xx.exec(l))?(u=i[1].length,i=parseInt(i[1],16),u===6?z0(i):u===3?new qe(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):u===8?Ku(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):u===4?Ku(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=qx.exec(l))?new qe(i[1],i[2],i[3],1):(i=Bx.exec(l))?new qe(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Gx.exec(l))?Ku(i[1],i[2],i[3],i[4]):(i=Vx.exec(l))?Ku(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=Zx.exec(l))?C0(i[1],i[2]/100,i[3]/100,1):(i=Qx.exec(l))?C0(i[1],i[2]/100,i[3]/100,i[4]):E0.hasOwnProperty(l)?z0(E0[l]):l==="transparent"?new qe(NaN,NaN,NaN,0):null}function z0(l){return new qe(l>>16&255,l>>8&255,l&255,1)}function Ku(l,i,u,s){return s<=0&&(l=i=u=NaN),new qe(l,i,u,s)}function Kx(l){return l instanceof Hi||(l=Ri(l)),l?(l=l.rgb(),new qe(l.r,l.g,l.b,l.opacity)):new qe}function Gr(l,i,u,s){return arguments.length===1?Kx(l):new qe(l,i,u,s??1)}function qe(l,i,u,s){this.r=+l,this.g=+i,this.b=+u,this.opacity=+s}ro(qe,Gr,jy(Hi,{brighter(l){return l=l==null?lc:Math.pow(lc,l),new qe(this.r*l,this.g*l,this.b*l,this.opacity)},darker(l){return l=l==null?Di:Math.pow(Di,l),new qe(this.r*l,this.g*l,this.b*l,this.opacity)},rgb(){return this},clamp(){return new qe(Da(this.r),Da(this.g),Da(this.b),ic(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T0,formatHex:T0,formatHex8:Jx,formatRgb:D0,toString:D0}));function T0(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function Jx(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function D0(){const l=ic(this.opacity);return`${l===1?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${l===1?")":`, ${l})`}`}function ic(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function Da(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function Ta(l){return l=Da(l),(l<16?"0":"")+l.toString(16)}function C0(l,i,u,s){return s<=0?l=i=u=NaN:u<=0||u>=1?l=i=NaN:i<=0&&(l=NaN),new rn(l,i,u,s)}function Uy(l){if(l instanceof rn)return new rn(l.h,l.s,l.l,l.opacity);if(l instanceof Hi||(l=Ri(l)),!l)return new rn;if(l instanceof rn)return l;l=l.rgb();var i=l.r/255,u=l.g/255,s=l.b/255,r=Math.min(i,u,s),f=Math.max(i,u,s),h=NaN,d=f-r,g=(f+r)/2;return d?(i===f?h=(u-s)/d+(u<s)*6:u===f?h=(s-i)/d+2:h=(i-u)/d+4,d/=g<.5?f+r:2-f-r,h*=60):d=g>0&&g<1?0:h,new rn(h,d,g,l.opacity)}function Ix(l,i,u,s){return arguments.length===1?Uy(l):new rn(l,i,u,s??1)}function rn(l,i,u,s){this.h=+l,this.s=+i,this.l=+u,this.opacity=+s}ro(rn,Ix,jy(Hi,{brighter(l){return l=l==null?lc:Math.pow(lc,l),new rn(this.h,this.s,this.l*l,this.opacity)},darker(l){return l=l==null?Di:Math.pow(Di,l),new rn(this.h,this.s,this.l*l,this.opacity)},rgb(){var l=this.h%360+(this.h<0)*360,i=isNaN(l)||isNaN(this.s)?0:this.s,u=this.l,s=u+(u<.5?u:1-u)*i,r=2*u-s;return new qe(Or(l>=240?l-240:l+120,r,s),Or(l,r,s),Or(l<120?l+240:l-120,r,s),this.opacity)},clamp(){return new rn(R0(this.h),Ju(this.s),Ju(this.l),ic(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const l=ic(this.opacity);return`${l===1?"hsl(":"hsla("}${R0(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${l===1?")":`, ${l})`}`}}));function R0(l){return l=(l||0)%360,l<0?l+360:l}function Ju(l){return Math.max(0,Math.min(1,l||0))}function Or(l,i,u){return(l<60?i+(u-i)*l/60:l<180?u:l<240?i+(u-i)*(240-l)/60:i)*255}const Hy=l=>()=>l;function Wx(l,i){return function(u){return l+u*i}}function Fx(l,i,u){return l=Math.pow(l,u),i=Math.pow(i,u)-l,u=1/u,function(s){return Math.pow(l+s*i,u)}}function Px(l){return(l=+l)==1?Ly:function(i,u){return u-i?Fx(i,u,l):Hy(isNaN(i)?u:i)}}function Ly(l,i){var u=i-l;return u?Wx(l,u):Hy(isNaN(l)?i:l)}const O0=function l(i){var u=Px(i);function s(r,f){var h=u((r=Gr(r)).r,(f=Gr(f)).r),d=u(r.g,f.g),g=u(r.b,f.b),m=Ly(r.opacity,f.opacity);return function(v){return r.r=h(v),r.g=d(v),r.b=g(v),r.opacity=m(v),r+""}}return s.gamma=l,s}(1);function ra(l,i){return l=+l,i=+i,function(u){return l*(1-u)+i*u}}var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jr=new RegExp(Vr.source,"g");function t1(l){return function(){return l}}function e1(l){return function(i){return l(i)+""}}function n1(l,i){var u=Vr.lastIndex=jr.lastIndex=0,s,r,f,h=-1,d=[],g=[];for(l=l+"",i=i+"";(s=Vr.exec(l))&&(r=jr.exec(i));)(f=r.index)>u&&(f=i.slice(u,f),d[h]?d[h]+=f:d[++h]=f),(s=s[0])===(r=r[0])?d[h]?d[h]+=r:d[++h]=r:(d[++h]=null,g.push({i:h,x:ra(s,r)})),u=jr.lastIndex;return u<i.length&&(f=i.slice(u),d[h]?d[h]+=f:d[++h]=f),d.length<2?g[0]?e1(g[0].x):t1(i):(i=g.length,function(m){for(var v=0,S;v<i;++v)d[(S=g[v]).i]=S.x(m);return d.join("")})}var j0=180/Math.PI,Zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yy(l,i,u,s,r,f){var h,d,g;return(h=Math.sqrt(l*l+i*i))&&(l/=h,i/=h),(g=l*u+i*s)&&(u-=l*g,s-=i*g),(d=Math.sqrt(u*u+s*s))&&(u/=d,s/=d,g/=d),l*s<i*u&&(l=-l,i=-i,g=-g,h=-h),{translateX:r,translateY:f,rotate:Math.atan2(i,l)*j0,skewX:Math.atan(g)*j0,scaleX:h,scaleY:d}}var Iu;function a1(l){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(l+"");return i.isIdentity?Zr:Yy(i.a,i.b,i.c,i.d,i.e,i.f)}function l1(l){return l==null||(Iu||(Iu=document.createElementNS("http://www.w3.org/2000/svg","g")),Iu.setAttribute("transform",l),!(l=Iu.transform.baseVal.consolidate()))?Zr:(l=l.matrix,Yy(l.a,l.b,l.c,l.d,l.e,l.f))}function Xy(l,i,u,s){function r(m){return m.length?m.pop()+" ":""}function f(m,v,S,_,N,K){if(m!==S||v!==_){var E=N.push("translate(",null,i,null,u);K.push({i:E-4,x:ra(m,S)},{i:E-2,x:ra(v,_)})}else(S||_)&&N.push("translate("+S+i+_+u)}function h(m,v,S,_){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),_.push({i:S.push(r(S)+"rotate(",null,s)-2,x:ra(m,v)})):v&&S.push(r(S)+"rotate("+v+s)}function d(m,v,S,_){m!==v?_.push({i:S.push(r(S)+"skewX(",null,s)-2,x:ra(m,v)}):v&&S.push(r(S)+"skewX("+v+s)}function g(m,v,S,_,N,K){if(m!==S||v!==_){var E=N.push(r(N)+"scale(",null,",",null,")");K.push({i:E-4,x:ra(m,S)},{i:E-2,x:ra(v,_)})}else(S!==1||_!==1)&&N.push(r(N)+"scale("+S+","+_+")")}return function(m,v){var S=[],_=[];return m=l(m),v=l(v),f(m.translateX,m.translateY,v.translateX,v.translateY,S,_),h(m.rotate,v.rotate,S,_),d(m.skewX,v.skewX,S,_),g(m.scaleX,m.scaleY,v.scaleX,v.scaleY,S,_),m=v=null,function(N){for(var K=-1,E=_.length,Y;++K<E;)S[(Y=_[K]).i]=Y.x(N);return S.join("")}}}var i1=Xy(a1,"px, ","px)","deg)"),u1=Xy(l1,", ",")",")"),wl=0,Ei=0,wi=0,qy=1e3,uc,Mi,cc=0,Ca=0,dc=0,Oi=typeof performance=="object"&&performance.now?performance:Date,By=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function oo(){return Ca||(By(c1),Ca=Oi.now()+dc)}function c1(){Ca=0}function sc(){this._call=this._time=this._next=null}sc.prototype=fo.prototype={constructor:sc,restart:function(l,i,u){if(typeof l!="function")throw new TypeError("callback is not a function");u=(u==null?oo():+u)+(i==null?0:+i),!this._next&&Mi!==this&&(Mi?Mi._next=this:uc=this,Mi=this),this._call=l,this._time=u,Qr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qr())}};function fo(l,i,u){var s=new sc;return s.restart(l,i,u),s}function s1(){oo(),++wl;for(var l=uc,i;l;)(i=Ca-l._time)>=0&&l._call.call(void 0,i),l=l._next;--wl}function U0(){Ca=(cc=Oi.now())+dc,wl=Ei=0;try{s1()}finally{wl=0,o1(),Ca=0}}function r1(){var l=Oi.now(),i=l-cc;i>qy&&(dc-=i,cc=l)}function o1(){for(var l,i=uc,u,s=1/0;i;)i._call?(s>i._time&&(s=i._time),l=i,i=i._next):(u=i._next,i._next=null,i=l?l._next=u:uc=u);Mi=l,Qr(s)}function Qr(l){if(!wl){Ei&&(Ei=clearTimeout(Ei));var i=l-Ca;i>24?(l<1/0&&(Ei=setTimeout(U0,l-Oi.now()-dc)),wi&&(wi=clearInterval(wi))):(wi||(cc=Oi.now(),wi=setInterval(r1,qy)),wl=1,By(U0))}}function H0(l,i,u){var s=new sc;return i=i==null?0:+i,s.restart(r=>{s.stop(),l(r+i)},i,u),s}var f1=uo("start","end","cancel","interrupt"),h1=[],Gy=0,L0=1,kr=2,tc=3,Y0=4,$r=5,ec=6;function yc(l,i,u,s,r,f){var h=l.__transition;if(!h)l.__transition={};else if(u in h)return;d1(l,u,{name:i,index:s,group:r,on:f1,tween:h1,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:Gy})}function ho(l,i){var u=fn(l,i);if(u.state>Gy)throw new Error("too late; already scheduled");return u}function Sn(l,i){var u=fn(l,i);if(u.state>tc)throw new Error("too late; already running");return u}function fn(l,i){var u=l.__transition;if(!u||!(u=u[i]))throw new Error("transition not found");return u}function d1(l,i,u){var s=l.__transition,r;s[i]=u,u.timer=fo(f,0,u.time);function f(m){u.state=L0,u.timer.restart(h,u.delay,u.time),u.delay<=m&&h(m-u.delay)}function h(m){var v,S,_,N;if(u.state!==L0)return g();for(v in s)if(N=s[v],N.name===u.name){if(N.state===tc)return H0(h);N.state===Y0?(N.state=ec,N.timer.stop(),N.on.call("interrupt",l,l.__data__,N.index,N.group),delete s[v]):+v<i&&(N.state=ec,N.timer.stop(),N.on.call("cancel",l,l.__data__,N.index,N.group),delete s[v])}if(H0(function(){u.state===tc&&(u.state=Y0,u.timer.restart(d,u.delay,u.time),d(m))}),u.state=kr,u.on.call("start",l,l.__data__,u.index,u.group),u.state===kr){for(u.state=tc,r=new Array(_=u.tween.length),v=0,S=-1;v<_;++v)(N=u.tween[v].value.call(l,l.__data__,u.index,u.group))&&(r[++S]=N);r.length=S+1}}function d(m){for(var v=m<u.duration?u.ease.call(null,m/u.duration):(u.timer.restart(g),u.state=$r,1),S=-1,_=r.length;++S<_;)r[S].call(l,v);u.state===$r&&(u.on.call("end",l,l.__data__,u.index,u.group),g())}function g(){u.state=ec,u.timer.stop(),delete s[i];for(var m in s)return;delete l.__transition}}function y1(l,i){var u=l.__transition,s,r,f=!0,h;if(u){i=i==null?null:i+"";for(h in u){if((s=u[h]).name!==i){f=!1;continue}r=s.state>kr&&s.state<$r,s.state=ec,s.timer.stop(),s.on.call(r?"interrupt":"cancel",l,l.__data__,s.index,s.group),delete u[h]}f&&delete l.__transition}}function m1(l){return this.each(function(){y1(this,l)})}function g1(l,i){var u,s;return function(){var r=Sn(this,l),f=r.tween;if(f!==u){s=u=f;for(var h=0,d=s.length;h<d;++h)if(s[h].name===i){s=s.slice(),s.splice(h,1);break}}r.tween=s}}function p1(l,i,u){var s,r;if(typeof u!="function")throw new Error;return function(){var f=Sn(this,l),h=f.tween;if(h!==s){r=(s=h).slice();for(var d={name:i,value:u},g=0,m=r.length;g<m;++g)if(r[g].name===i){r[g]=d;break}g===m&&r.push(d)}f.tween=r}}function v1(l,i){var u=this._id;if(l+="",arguments.length<2){for(var s=fn(this.node(),u).tween,r=0,f=s.length,h;r<f;++r)if((h=s[r]).name===l)return h.value;return null}return this.each((i==null?g1:p1)(u,l,i))}function yo(l,i,u){var s=l._id;return l.each(function(){var r=Sn(this,s);(r.value||(r.value={}))[i]=u.apply(this,arguments)}),function(r){return fn(r,s).value[i]}}function Vy(l,i){var u;return(typeof i=="number"?ra:i instanceof Ri?O0:(u=Ri(i))?(i=u,O0):n1)(l,i)}function x1(l){return function(){this.removeAttribute(l)}}function b1(l){return function(){this.removeAttributeNS(l.space,l.local)}}function S1(l,i,u){var s,r=u+"",f;return function(){var h=this.getAttribute(l);return h===r?null:h===s?f:f=i(s=h,u)}}function _1(l,i,u){var s,r=u+"",f;return function(){var h=this.getAttributeNS(l.space,l.local);return h===r?null:h===s?f:f=i(s=h,u)}}function w1(l,i,u){var s,r,f;return function(){var h,d=u(this),g;return d==null?void this.removeAttribute(l):(h=this.getAttribute(l),g=d+"",h===g?null:h===s&&g===r?f:(r=g,f=i(s=h,d)))}}function N1(l,i,u){var s,r,f;return function(){var h,d=u(this),g;return d==null?void this.removeAttributeNS(l.space,l.local):(h=this.getAttributeNS(l.space,l.local),g=d+"",h===g?null:h===s&&g===r?f:(r=g,f=i(s=h,d)))}}function E1(l,i){var u=hc(l),s=u==="transform"?u1:Vy;return this.attrTween(l,typeof i=="function"?(u.local?N1:w1)(u,s,yo(this,"attr."+l,i)):i==null?(u.local?b1:x1)(u):(u.local?_1:S1)(u,s,i))}function M1(l,i){return function(u){this.setAttribute(l,i.call(this,u))}}function A1(l,i){return function(u){this.setAttributeNS(l.space,l.local,i.call(this,u))}}function z1(l,i){var u,s;function r(){var f=i.apply(this,arguments);return f!==s&&(u=(s=f)&&A1(l,f)),u}return r._value=i,r}function T1(l,i){var u,s;function r(){var f=i.apply(this,arguments);return f!==s&&(u=(s=f)&&M1(l,f)),u}return r._value=i,r}function D1(l,i){var u="attr."+l;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(i==null)return this.tween(u,null);if(typeof i!="function")throw new Error;var s=hc(l);return this.tween(u,(s.local?z1:T1)(s,i))}function C1(l,i){return function(){ho(this,l).delay=+i.apply(this,arguments)}}function R1(l,i){return i=+i,function(){ho(this,l).delay=i}}function O1(l){var i=this._id;return arguments.length?this.each((typeof l=="function"?C1:R1)(i,l)):fn(this.node(),i).delay}function j1(l,i){return function(){Sn(this,l).duration=+i.apply(this,arguments)}}function U1(l,i){return i=+i,function(){Sn(this,l).duration=i}}function H1(l){var i=this._id;return arguments.length?this.each((typeof l=="function"?j1:U1)(i,l)):fn(this.node(),i).duration}function L1(l,i){if(typeof i!="function")throw new Error;return function(){Sn(this,l).ease=i}}function Y1(l){var i=this._id;return arguments.length?this.each(L1(i,l)):fn(this.node(),i).ease}function X1(l,i){return function(){var u=i.apply(this,arguments);if(typeof u!="function")throw new Error;Sn(this,l).ease=u}}function q1(l){if(typeof l!="function")throw new Error;return this.each(X1(this._id,l))}function B1(l){typeof l!="function"&&(l=Ey(l));for(var i=this._groups,u=i.length,s=new Array(u),r=0;r<u;++r)for(var f=i[r],h=f.length,d=s[r]=[],g,m=0;m<h;++m)(g=f[m])&&l.call(g,g.__data__,m,f)&&d.push(g);return new Yn(s,this._parents,this._name,this._id)}function G1(l){if(l._id!==this._id)throw new Error;for(var i=this._groups,u=l._groups,s=i.length,r=u.length,f=Math.min(s,r),h=new Array(s),d=0;d<f;++d)for(var g=i[d],m=u[d],v=g.length,S=h[d]=new Array(v),_,N=0;N<v;++N)(_=g[N]||m[N])&&(S[N]=_);for(;d<s;++d)h[d]=i[d];return new Yn(h,this._parents,this._name,this._id)}function V1(l){return(l+"").trim().split(/^|\s+/).every(function(i){var u=i.indexOf(".");return u>=0&&(i=i.slice(0,u)),!i||i==="start"})}function Z1(l,i,u){var s,r,f=V1(i)?ho:Sn;return function(){var h=f(this,l),d=h.on;d!==s&&(r=(s=d).copy()).on(i,u),h.on=r}}function Q1(l,i){var u=this._id;return arguments.length<2?fn(this.node(),u).on.on(l):this.each(Z1(u,l,i))}function k1(l){return function(){var i=this.parentNode;for(var u in this.__transition)if(+u!==l)return;i&&i.removeChild(this)}}function $1(){return this.on("end.remove",k1(this._id))}function K1(l){var i=this._name,u=this._id;typeof l!="function"&&(l=co(l));for(var s=this._groups,r=s.length,f=new Array(r),h=0;h<r;++h)for(var d=s[h],g=d.length,m=f[h]=new Array(g),v,S,_=0;_<g;++_)(v=d[_])&&(S=l.call(v,v.__data__,_,d))&&("__data__"in v&&(S.__data__=v.__data__),m[_]=S,yc(m[_],i,u,_,m,fn(v,u)));return new Yn(f,this._parents,i,u)}function J1(l){var i=this._name,u=this._id;typeof l!="function"&&(l=Ny(l));for(var s=this._groups,r=s.length,f=[],h=[],d=0;d<r;++d)for(var g=s[d],m=g.length,v,S=0;S<m;++S)if(v=g[S]){for(var _=l.call(v,v.__data__,S,g),N,K=fn(v,u),E=0,Y=_.length;E<Y;++E)(N=_[E])&&yc(N,i,u,E,_,K);f.push(_),h.push(v)}return new Yn(f,h,i,u)}var I1=Ui.prototype.constructor;function W1(){return new I1(this._groups,this._parents)}function F1(l,i){var u,s,r;return function(){var f=_l(this,l),h=(this.style.removeProperty(l),_l(this,l));return f===h?null:f===u&&h===s?r:r=i(u=f,s=h)}}function Zy(l){return function(){this.style.removeProperty(l)}}function P1(l,i,u){var s,r=u+"",f;return function(){var h=_l(this,l);return h===r?null:h===s?f:f=i(s=h,u)}}function t2(l,i,u){var s,r,f;return function(){var h=_l(this,l),d=u(this),g=d+"";return d==null&&(g=d=(this.style.removeProperty(l),_l(this,l))),h===g?null:h===s&&g===r?f:(r=g,f=i(s=h,d))}}function e2(l,i){var u,s,r,f="style."+i,h="end."+f,d;return function(){var g=Sn(this,l),m=g.on,v=g.value[f]==null?d||(d=Zy(i)):void 0;(m!==u||r!==v)&&(s=(u=m).copy()).on(h,r=v),g.on=s}}function n2(l,i,u){var s=(l+="")=="transform"?i1:Vy;return i==null?this.styleTween(l,F1(l,s)).on("end.style."+l,Zy(l)):typeof i=="function"?this.styleTween(l,t2(l,s,yo(this,"style."+l,i))).each(e2(this._id,l)):this.styleTween(l,P1(l,s,i),u).on("end.style."+l,null)}function a2(l,i,u){return function(s){this.style.setProperty(l,i.call(this,s),u)}}function l2(l,i,u){var s,r;function f(){var h=i.apply(this,arguments);return h!==r&&(s=(r=h)&&a2(l,h,u)),s}return f._value=i,f}function i2(l,i,u){var s="style."+(l+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(i==null)return this.tween(s,null);if(typeof i!="function")throw new Error;return this.tween(s,l2(l,i,u??""))}function u2(l){return function(){this.textContent=l}}function c2(l){return function(){var i=l(this);this.textContent=i??""}}function s2(l){return this.tween("text",typeof l=="function"?c2(yo(this,"text",l)):u2(l==null?"":l+""))}function r2(l){return function(i){this.textContent=l.call(this,i)}}function o2(l){var i,u;function s(){var r=l.apply(this,arguments);return r!==u&&(i=(u=r)&&r2(r)),i}return s._value=l,s}function f2(l){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(l==null)return this.tween(i,null);if(typeof l!="function")throw new Error;return this.tween(i,o2(l))}function h2(){for(var l=this._name,i=this._id,u=Qy(),s=this._groups,r=s.length,f=0;f<r;++f)for(var h=s[f],d=h.length,g,m=0;m<d;++m)if(g=h[m]){var v=fn(g,i);yc(g,l,u,m,h,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Yn(s,this._parents,l,u)}function d2(){var l,i,u=this,s=u._id,r=u.size();return new Promise(function(f,h){var d={value:h},g={value:function(){--r===0&&f()}};u.each(function(){var m=Sn(this,s),v=m.on;v!==l&&(i=(l=v).copy(),i._.cancel.push(d),i._.interrupt.push(d),i._.end.push(g)),m.on=i}),r===0&&f()})}var y2=0;function Yn(l,i,u,s){this._groups=l,this._parents=i,this._name=u,this._id=s}function Qy(){return++y2}var Ln=Ui.prototype;Yn.prototype={constructor:Yn,select:K1,selectAll:J1,selectChild:Ln.selectChild,selectChildren:Ln.selectChildren,filter:B1,merge:G1,selection:W1,transition:h2,call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:Q1,attr:E1,attrTween:D1,style:n2,styleTween:i2,text:s2,textTween:f2,remove:$1,tween:v1,delay:O1,duration:H1,ease:Y1,easeVarying:q1,end:d2,[Symbol.iterator]:Ln[Symbol.iterator]};function m2(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}var g2={time:null,delay:0,duration:250,ease:m2};function p2(l,i){for(var u;!(u=l.__transition)||!(u=u[i]);)if(!(l=l.parentNode))throw new Error(`transition ${i} not found`);return u}function v2(l){var i,u;l instanceof Yn?(i=l._id,l=l._name):(i=Qy(),(u=g2).time=oo(),l=l==null?null:l+"");for(var s=this._groups,r=s.length,f=0;f<r;++f)for(var h=s[f],d=h.length,g,m=0;m<d;++m)(g=h[m])&&yc(g,l,i,m,h,u||p2(g,i));return new Yn(s,this._parents,l,i)}Ui.prototype.interrupt=m1;Ui.prototype.transition=v2;function x2(l,i){var u,s=1;l==null&&(l=0),i==null&&(i=0);function r(){var f,h=u.length,d,g=0,m=0;for(f=0;f<h;++f)d=u[f],g+=d.x,m+=d.y;for(g=(g/h-l)*s,m=(m/h-i)*s,f=0;f<h;++f)d=u[f],d.x-=g,d.y-=m}return r.initialize=function(f){u=f},r.x=function(f){return arguments.length?(l=+f,r):l},r.y=function(f){return arguments.length?(i=+f,r):i},r.strength=function(f){return arguments.length?(s=+f,r):s},r}function b2(l){const i=+this._x.call(null,l),u=+this._y.call(null,l);return ky(this.cover(i,u),i,u,l)}function ky(l,i,u,s){if(isNaN(i)||isNaN(u))return l;var r,f=l._root,h={data:s},d=l._x0,g=l._y0,m=l._x1,v=l._y1,S,_,N,K,E,Y,z,T;if(!f)return l._root=h,l;for(;f.length;)if((E=i>=(S=(d+m)/2))?d=S:m=S,(Y=u>=(_=(g+v)/2))?g=_:v=_,r=f,!(f=f[z=Y<<1|E]))return r[z]=h,l;if(N=+l._x.call(null,f.data),K=+l._y.call(null,f.data),i===N&&u===K)return h.next=f,r?r[z]=h:l._root=h,l;do r=r?r[z]=new Array(4):l._root=new Array(4),(E=i>=(S=(d+m)/2))?d=S:m=S,(Y=u>=(_=(g+v)/2))?g=_:v=_;while((z=Y<<1|E)===(T=(K>=_)<<1|N>=S));return r[T]=f,r[z]=h,l}function S2(l){var i,u,s=l.length,r,f,h=new Array(s),d=new Array(s),g=1/0,m=1/0,v=-1/0,S=-1/0;for(u=0;u<s;++u)isNaN(r=+this._x.call(null,i=l[u]))||isNaN(f=+this._y.call(null,i))||(h[u]=r,d[u]=f,r<g&&(g=r),r>v&&(v=r),f<m&&(m=f),f>S&&(S=f));if(g>v||m>S)return this;for(this.cover(g,m).cover(v,S),u=0;u<s;++u)ky(this,h[u],d[u],l[u]);return this}function _2(l,i){if(isNaN(l=+l)||isNaN(i=+i))return this;var u=this._x0,s=this._y0,r=this._x1,f=this._y1;if(isNaN(u))r=(u=Math.floor(l))+1,f=(s=Math.floor(i))+1;else{for(var h=r-u||1,d=this._root,g,m;u>l||l>=r||s>i||i>=f;)switch(m=(i<s)<<1|l<u,g=new Array(4),g[m]=d,d=g,h*=2,m){case 0:r=u+h,f=s+h;break;case 1:u=r-h,f=s+h;break;case 2:r=u+h,s=f-h;break;case 3:u=r-h,s=f-h;break}this._root&&this._root.length&&(this._root=d)}return this._x0=u,this._y0=s,this._x1=r,this._y1=f,this}function w2(){var l=[];return this.visit(function(i){if(!i.length)do l.push(i.data);while(i=i.next)}),l}function N2(l){return arguments.length?this.cover(+l[0][0],+l[0][1]).cover(+l[1][0],+l[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Re(l,i,u,s,r){this.node=l,this.x0=i,this.y0=u,this.x1=s,this.y1=r}function E2(l,i,u){var s,r=this._x0,f=this._y0,h,d,g,m,v=this._x1,S=this._y1,_=[],N=this._root,K,E;for(N&&_.push(new Re(N,r,f,v,S)),u==null?u=1/0:(r=l-u,f=i-u,v=l+u,S=i+u,u*=u);K=_.pop();)if(!(!(N=K.node)||(h=K.x0)>v||(d=K.y0)>S||(g=K.x1)<r||(m=K.y1)<f))if(N.length){var Y=(h+g)/2,z=(d+m)/2;_.push(new Re(N[3],Y,z,g,m),new Re(N[2],h,z,Y,m),new Re(N[1],Y,d,g,z),new Re(N[0],h,d,Y,z)),(E=(i>=z)<<1|l>=Y)&&(K=_[_.length-1],_[_.length-1]=_[_.length-1-E],_[_.length-1-E]=K)}else{var T=l-+this._x.call(null,N.data),j=i-+this._y.call(null,N.data),A=T*T+j*j;if(A<u){var H=Math.sqrt(u=A);r=l-H,f=i-H,v=l+H,S=i+H,s=N.data}}return s}function M2(l){if(isNaN(v=+this._x.call(null,l))||isNaN(S=+this._y.call(null,l)))return this;var i,u=this._root,s,r,f,h=this._x0,d=this._y0,g=this._x1,m=this._y1,v,S,_,N,K,E,Y,z;if(!u)return this;if(u.length)for(;;){if((K=v>=(_=(h+g)/2))?h=_:g=_,(E=S>=(N=(d+m)/2))?d=N:m=N,i=u,!(u=u[Y=E<<1|K]))return this;if(!u.length)break;(i[Y+1&3]||i[Y+2&3]||i[Y+3&3])&&(s=i,z=Y)}for(;u.data!==l;)if(r=u,!(u=u.next))return this;return(f=u.next)&&delete u.next,r?(f?r.next=f:delete r.next,this):i?(f?i[Y]=f:delete i[Y],(u=i[0]||i[1]||i[2]||i[3])&&u===(i[3]||i[2]||i[1]||i[0])&&!u.length&&(s?s[z]=u:this._root=u),this):(this._root=f,this)}function A2(l){for(var i=0,u=l.length;i<u;++i)this.remove(l[i]);return this}function z2(){return this._root}function T2(){var l=0;return this.visit(function(i){if(!i.length)do++l;while(i=i.next)}),l}function D2(l){var i=[],u,s=this._root,r,f,h,d,g;for(s&&i.push(new Re(s,this._x0,this._y0,this._x1,this._y1));u=i.pop();)if(!l(s=u.node,f=u.x0,h=u.y0,d=u.x1,g=u.y1)&&s.length){var m=(f+d)/2,v=(h+g)/2;(r=s[3])&&i.push(new Re(r,m,v,d,g)),(r=s[2])&&i.push(new Re(r,f,v,m,g)),(r=s[1])&&i.push(new Re(r,m,h,d,v)),(r=s[0])&&i.push(new Re(r,f,h,m,v))}return this}function C2(l){var i=[],u=[],s;for(this._root&&i.push(new Re(this._root,this._x0,this._y0,this._x1,this._y1));s=i.pop();){var r=s.node;if(r.length){var f,h=s.x0,d=s.y0,g=s.x1,m=s.y1,v=(h+g)/2,S=(d+m)/2;(f=r[0])&&i.push(new Re(f,h,d,v,S)),(f=r[1])&&i.push(new Re(f,v,d,g,S)),(f=r[2])&&i.push(new Re(f,h,S,v,m)),(f=r[3])&&i.push(new Re(f,v,S,g,m))}u.push(s)}for(;s=u.pop();)l(s.node,s.x0,s.y0,s.x1,s.y1);return this}function R2(l){return l[0]}function O2(l){return arguments.length?(this._x=l,this):this._x}function j2(l){return l[1]}function U2(l){return arguments.length?(this._y=l,this):this._y}function mo(l,i,u){var s=new go(i??R2,u??j2,NaN,NaN,NaN,NaN);return l==null?s:s.addAll(l)}function go(l,i,u,s,r,f){this._x=l,this._y=i,this._x0=u,this._y0=s,this._x1=r,this._y1=f,this._root=void 0}function X0(l){for(var i={data:l.data},u=i;l=l.next;)u=u.next={data:l.data};return i}var je=mo.prototype=go.prototype;je.copy=function(){var l=new go(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root,u,s;if(!i)return l;if(!i.length)return l._root=X0(i),l;for(u=[{source:i,target:l._root=new Array(4)}];i=u.pop();)for(var r=0;r<4;++r)(s=i.source[r])&&(s.length?u.push({source:s,target:i.target[r]=new Array(4)}):i.target[r]=X0(s));return l};je.add=b2;je.addAll=S2;je.cover=_2;je.data=w2;je.extent=N2;je.find=E2;je.remove=M2;je.removeAll=A2;je.root=z2;je.size=T2;je.visit=D2;je.visitAfter=C2;je.x=O2;je.y=U2;function Oe(l){return function(){return l}}function oa(l){return(l()-.5)*1e-6}function H2(l){return l.x+l.vx}function L2(l){return l.y+l.vy}function Y2(l){var i,u,s,r=1,f=1;typeof l!="function"&&(l=Oe(l==null?1:+l));function h(){for(var m,v=i.length,S,_,N,K,E,Y,z=0;z<f;++z)for(S=mo(i,H2,L2).visitAfter(d),m=0;m<v;++m)_=i[m],E=u[_.index],Y=E*E,N=_.x+_.vx,K=_.y+_.vy,S.visit(T);function T(j,A,H,B,I){var et=j.data,ht=j.r,ut=E+ht;if(et){if(et.index>_.index){var V=N-et.x-et.vx,ct=K-et.y-et.vy,Dt=V*V+ct*ct;Dt<ut*ut&&(V===0&&(V=oa(s),Dt+=V*V),ct===0&&(ct=oa(s),Dt+=ct*ct),Dt=(ut-(Dt=Math.sqrt(Dt)))/Dt*r,_.vx+=(V*=Dt)*(ut=(ht*=ht)/(Y+ht)),_.vy+=(ct*=Dt)*ut,et.vx-=V*(ut=1-ut),et.vy-=ct*ut)}return}return A>N+ut||B<N-ut||H>K+ut||I<K-ut}}function d(m){if(m.data)return m.r=u[m.data.index];for(var v=m.r=0;v<4;++v)m[v]&&m[v].r>m.r&&(m.r=m[v].r)}function g(){if(i){var m,v=i.length,S;for(u=new Array(v),m=0;m<v;++m)S=i[m],u[S.index]=+l(S,m,i)}}return h.initialize=function(m,v){i=m,s=v,g()},h.iterations=function(m){return arguments.length?(f=+m,h):f},h.strength=function(m){return arguments.length?(r=+m,h):r},h.radius=function(m){return arguments.length?(l=typeof m=="function"?m:Oe(+m),g(),h):l},h}function X2(l){return l.index}function q0(l,i){var u=l.get(i);if(!u)throw new Error("node not found: "+i);return u}function q2(l){var i=X2,u=S,s,r=Oe(30),f,h,d,g,m,v=1;l==null&&(l=[]);function S(Y){return 1/Math.min(d[Y.source.index],d[Y.target.index])}function _(Y){for(var z=0,T=l.length;z<v;++z)for(var j=0,A,H,B,I,et,ht,ut;j<T;++j)A=l[j],H=A.source,B=A.target,I=B.x+B.vx-H.x-H.vx||oa(m),et=B.y+B.vy-H.y-H.vy||oa(m),ht=Math.sqrt(I*I+et*et),ht=(ht-f[j])/ht*Y*s[j],I*=ht,et*=ht,B.vx-=I*(ut=g[j]),B.vy-=et*ut,H.vx+=I*(ut=1-ut),H.vy+=et*ut}function N(){if(h){var Y,z=h.length,T=l.length,j=new Map(h.map((H,B)=>[i(H,B,h),H])),A;for(Y=0,d=new Array(z);Y<T;++Y)A=l[Y],A.index=Y,typeof A.source!="object"&&(A.source=q0(j,A.source)),typeof A.target!="object"&&(A.target=q0(j,A.target)),d[A.source.index]=(d[A.source.index]||0)+1,d[A.target.index]=(d[A.target.index]||0)+1;for(Y=0,g=new Array(T);Y<T;++Y)A=l[Y],g[Y]=d[A.source.index]/(d[A.source.index]+d[A.target.index]);s=new Array(T),K(),f=new Array(T),E()}}function K(){if(h)for(var Y=0,z=l.length;Y<z;++Y)s[Y]=+u(l[Y],Y,l)}function E(){if(h)for(var Y=0,z=l.length;Y<z;++Y)f[Y]=+r(l[Y],Y,l)}return _.initialize=function(Y,z){h=Y,m=z,N()},_.links=function(Y){return arguments.length?(l=Y,N(),_):l},_.id=function(Y){return arguments.length?(i=Y,_):i},_.iterations=function(Y){return arguments.length?(v=+Y,_):v},_.strength=function(Y){return arguments.length?(u=typeof Y=="function"?Y:Oe(+Y),K(),_):u},_.distance=function(Y){return arguments.length?(r=typeof Y=="function"?Y:Oe(+Y),E(),_):r},_}const B2=1664525,G2=1013904223,B0=4294967296;function V2(){let l=1;return()=>(l=(B2*l+G2)%B0)/B0}function Z2(l){return l.x}function Q2(l){return l.y}var k2=10,$2=Math.PI*(3-Math.sqrt(5));function K2(l){var i,u=1,s=.001,r=1-Math.pow(s,1/300),f=0,h=.6,d=new Map,g=fo(S),m=uo("tick","end"),v=V2();l==null&&(l=[]);function S(){_(),m.call("tick",i),u<s&&(g.stop(),m.call("end",i))}function _(E){var Y,z=l.length,T;E===void 0&&(E=1);for(var j=0;j<E;++j)for(u+=(f-u)*r,d.forEach(function(A){A(u)}),Y=0;Y<z;++Y)T=l[Y],T.fx==null?T.x+=T.vx*=h:(T.x=T.fx,T.vx=0),T.fy==null?T.y+=T.vy*=h:(T.y=T.fy,T.vy=0);return i}function N(){for(var E=0,Y=l.length,z;E<Y;++E){if(z=l[E],z.index=E,z.fx!=null&&(z.x=z.fx),z.fy!=null&&(z.y=z.fy),isNaN(z.x)||isNaN(z.y)){var T=k2*Math.sqrt(.5+E),j=E*$2;z.x=T*Math.cos(j),z.y=T*Math.sin(j)}(isNaN(z.vx)||isNaN(z.vy))&&(z.vx=z.vy=0)}}function K(E){return E.initialize&&E.initialize(l,v),E}return N(),i={tick:_,restart:function(){return g.restart(S),i},stop:function(){return g.stop(),i},nodes:function(E){return arguments.length?(l=E,N(),d.forEach(K),i):l},alpha:function(E){return arguments.length?(u=+E,i):u},alphaMin:function(E){return arguments.length?(s=+E,i):s},alphaDecay:function(E){return arguments.length?(r=+E,i):+r},alphaTarget:function(E){return arguments.length?(f=+E,i):f},velocityDecay:function(E){return arguments.length?(h=1-E,i):1-h},randomSource:function(E){return arguments.length?(v=E,d.forEach(K),i):v},force:function(E,Y){return arguments.length>1?(Y==null?d.delete(E):d.set(E,K(Y)),i):d.get(E)},find:function(E,Y,z){var T=0,j=l.length,A,H,B,I,et;for(z==null?z=1/0:z*=z,T=0;T<j;++T)I=l[T],A=E-I.x,H=Y-I.y,B=A*A+H*H,B<z&&(et=I,z=B);return et},on:function(E,Y){return arguments.length>1?(m.on(E,Y),i):m.on(E)}}}function J2(){var l,i,u,s,r=Oe(-30),f,h=1,d=1/0,g=.81;function m(N){var K,E=l.length,Y=mo(l,Z2,Q2).visitAfter(S);for(s=N,K=0;K<E;++K)i=l[K],Y.visit(_)}function v(){if(l){var N,K=l.length,E;for(f=new Array(K),N=0;N<K;++N)E=l[N],f[E.index]=+r(E,N,l)}}function S(N){var K=0,E,Y,z=0,T,j,A;if(N.length){for(T=j=A=0;A<4;++A)(E=N[A])&&(Y=Math.abs(E.value))&&(K+=E.value,z+=Y,T+=Y*E.x,j+=Y*E.y);N.x=T/z,N.y=j/z}else{E=N,E.x=E.data.x,E.y=E.data.y;do K+=f[E.data.index];while(E=E.next)}N.value=K}function _(N,K,E,Y){if(!N.value)return!0;var z=N.x-i.x,T=N.y-i.y,j=Y-K,A=z*z+T*T;if(j*j/g<A)return A<d&&(z===0&&(z=oa(u),A+=z*z),T===0&&(T=oa(u),A+=T*T),A<h&&(A=Math.sqrt(h*A)),i.vx+=z*N.value*s/A,i.vy+=T*N.value*s/A),!0;if(N.length||A>=d)return;(N.data!==i||N.next)&&(z===0&&(z=oa(u),A+=z*z),T===0&&(T=oa(u),A+=T*T),A<h&&(A=Math.sqrt(h*A)));do N.data!==i&&(j=f[N.data.index]*s/A,i.vx+=z*j,i.vy+=T*j);while(N=N.next)}return m.initialize=function(N,K){l=N,u=K,v()},m.strength=function(N){return arguments.length?(r=typeof N=="function"?N:Oe(+N),v(),m):r},m.distanceMin=function(N){return arguments.length?(h=N*N,m):Math.sqrt(h)},m.distanceMax=function(N){return arguments.length?(d=N*N,m):Math.sqrt(d)},m.theta=function(N){return arguments.length?(g=N*N,m):Math.sqrt(g)},m}function I2(l){var i=Oe(.1),u,s,r;typeof l!="function"&&(l=Oe(l==null?0:+l));function f(d){for(var g=0,m=u.length,v;g<m;++g)v=u[g],v.vx+=(r[g]-v.x)*s[g]*d}function h(){if(u){var d,g=u.length;for(s=new Array(g),r=new Array(g),d=0;d<g;++d)s[d]=isNaN(r[d]=+l(u[d],d,u))?0:+i(u[d],d,u)}}return f.initialize=function(d){u=d,h()},f.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Oe(+d),h(),f):i},f.x=function(d){return arguments.length?(l=typeof d=="function"?d:Oe(+d),h(),f):l},f}function W2(l){var i=Oe(.1),u,s,r;typeof l!="function"&&(l=Oe(l==null?0:+l));function f(d){for(var g=0,m=u.length,v;g<m;++g)v=u[g],v.vy+=(r[g]-v.y)*s[g]*d}function h(){if(u){var d,g=u.length;for(s=new Array(g),r=new Array(g),d=0;d<g;++d)s[d]=isNaN(r[d]=+l(u[d],d,u))?0:+i(u[d],d,u)}}return f.initialize=function(d){u=d,h()},f.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Oe(+d),h(),f):i},f.y=function(d){return arguments.length?(l=typeof d=="function"?d:Oe(+d),h(),f):l},f}function Ai(l,i,u){this.k=l,this.x=i,this.y=u}Ai.prototype={constructor:Ai,scale:function(l){return l===1?this:new Ai(this.k*l,this.x,this.y)},translate:function(l,i){return l===0&i===0?this:new Ai(this.k,this.x+this.k*l,this.y+this.k*i)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ai.prototype;const Ti=class Ti{static validateLayout(i,u){const s=[];if(i.length===0)return s.push("No nodes to layout"),{isValid:!1,issues:s,canProceed:!1};const r=new Set(i.map(m=>m.id)),f=u.filter(m=>!r.has(m.from)||!r.has(m.to));f.length>0&&s.push(`${f.length} connection(s) reference missing nodes`);const h=u.filter(m=>m.from===m.to);h.length>0&&s.push(`${h.length} self-referencing connection(s) detected`);const{components:d}=this.findConnectedComponents(i,u);d.length>1&&s.push(`${d.length} disconnected components detected`);const g=f.length===0;return{isValid:s.length===0,issues:s,canProceed:g}}static layoutNodes(i,u){if(i.length===0)return{nodes:[],bounds:{minX:0,minY:0,maxX:0,maxY:0}};if(i.length===1)return{nodes:[{...i[0],position:{x:0,y:0},size:{width:this.NODE_WIDTH,height:this.NODE_HEIGHT}}],bounds:{minX:0,minY:0,maxX:this.NODE_WIDTH,maxY:this.NODE_HEIGHT}};const s=new Set(i.map(h=>h.id)),r=u.filter(h=>s.has(h.from)&&s.has(h.to)&&h.from!==h.to),f=this.tryHierarchicalLayout(i,r);return f||this.applyForceDirectedLayout(i,r)}static findConnectedComponents(i,u){const s=new Set(i.map(d=>d.id)),r=new Map;for(const d of i)r.set(d.id,new Set);for(const d of u)s.has(d.from)&&s.has(d.to)&&(r.get(d.from)?.add(d.to),r.get(d.to)?.add(d.from));const f=new Set,h=[];for(const d of s)if(!f.has(d)){const g=[],m=[d];for(;m.length>0;){const v=m.pop();if(!f.has(v)){f.add(v),g.push(v);for(const S of r.get(v)||[])f.has(S)||m.push(S)}}h.push(g)}return{components:h,adjacency:r}}static tryHierarchicalLayout(i,u){if(!this.isDAG(i,u))return null;const s=this.topologicalLayers(i,u),r=this.positionNodesInLayers(s,i),f=this.calculateBounds(r);return{nodes:r,bounds:f}}static isDAG(i,u){const s=new Map,r=new Map;for(const d of i)s.set(d.id,[]),r.set(d.id,0);for(const d of u)s.get(d.from)?.push(d.to),r.set(d.to,(r.get(d.to)||0)+1);const f=[];let h=0;for(const[d,g]of r)g===0&&f.push(d);for(;f.length>0;){const d=f.shift();h++;for(const g of s.get(d)||[]){const m=(r.get(g)||0)-1;r.set(g,m),m===0&&f.push(g)}}return h===i.length}static topologicalLayers(i,u){const s=new Map,r=new Map,f=[];for(const h of i)s.set(h.id,[]),r.set(h.id,0);for(const h of u)s.get(h.from)?.push(h.to),r.set(h.to,(r.get(h.to)||0)+1);for(;;){const h=Array.from(r.entries()).filter(([d,g])=>g===0).map(([d,g])=>d);if(h.length===0)break;f.push(h);for(const d of h){r.delete(d);for(const g of s.get(d)||[])r.set(g,(r.get(g)||0)-1)}}return f}static applyForceDirectedLayout(i,u){const s=i.map(g=>({id:g.id,originalNode:g,width:this.NODE_WIDTH,height:this.NODE_HEIGHT,x:Math.random()*400,y:Math.random()*400})),r=u.map(g=>({source:g.from,target:g.to,originalConnection:g})),f=K2(s).force("link",q2(r).id(g=>g.id).distance(150).strength(.8)).force("charge",J2().strength(-300)).force("center",x2(200,200)).force("collision",Y2().radius(80)).force("x",I2(200).strength(.1)).force("y",W2(200).strength(.1));f.stop();for(let g=0;g<300;++g)f.tick();const h=s.map(g=>({...g.originalNode,position:{x:g.x||0,y:g.y||0},size:{width:this.NODE_WIDTH,height:this.NODE_HEIGHT}})),d=this.calculateBounds(h);return{nodes:h,bounds:d}}static positionNodesInLayers(i,u){const s=new Map(u.map(g=>[g.id,g])),r=[],f=200,h=150;let d=0;for(const g of i){let v=-((g.length-1)*f)/2;for(const S of g){const _=s.get(S);_&&r.push({..._,position:{x:v,y:d},size:{width:this.NODE_WIDTH,height:this.NODE_HEIGHT}}),v+=f}d+=h}return r}static calculateBounds(i){if(i.length===0)return{minX:0,minY:0,maxX:0,maxY:0};let u=1/0,s=1/0,r=-1/0,f=-1/0;for(const h of i){const d=h.position.x-this.PADDING,g=h.position.x+h.size.width+this.PADDING,m=h.position.y-this.PADDING,v=h.position.y+h.size.height+this.PADDING;u=Math.min(u,d),r=Math.max(r,g),s=Math.min(s,m),f=Math.max(f,v)}return{minX:u,minY:s,maxX:r,maxY:f}}static centerLayout(i,u,s){const{nodes:r,bounds:f}=i,h=f.maxX-f.minX,d=f.maxY-f.minY,g=(u-h)/2-f.minX,m=(s-d)/2-f.minY;return r.map(v=>({...v,position:{x:v.position.x+g,y:v.position.y+m}}))}};Ti.NODE_WIDTH=120,Ti.NODE_HEIGHT=60,Ti.PADDING=50;let zi=Ti;class Ur{static show(i,u="info",s=3e3){const r=document.createElement("div");if(r.className=`toast toast-${u}`,r.textContent=i,Object.assign(r.style,{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:"10000",padding:"12px 16px",borderRadius:"6px",color:"white",fontWeight:"500",fontSize:"14px",maxWidth:"400px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",animation:"toastSlideIn 0.3s ease-out",backgroundColor:u==="error"?"#ef4444":u==="warning"?"#f59e0b":"#3b82f6",textAlign:"center"}),!document.getElementById("toast-styles")){const f=document.createElement("style");f.id="toast-styles",f.textContent=`
        @keyframes toastSlideIn {
          from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
          to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }
        @keyframes toastSlideOut {
          from { transform: translateX(-50%) translateY(0); opacity: 1; }
          to { transform: translateX(-50%) translateY(-20px); opacity: 0; }
        }
      `,document.head.appendChild(f)}document.body.appendChild(r),setTimeout(()=>{r.style.animation="toastSlideOut 0.3s ease-in",setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},300)},s)}static info(i,u){this.show(i,"info",u)}static warning(i,u){this.show(i,"warning",u)}static error(i,u){this.show(i,"error",u)}}const sa={CLOSED_ENDPOINTS_PROXIMITY:50,ANGLE_TOLERANCE:30,CORNER_NEIGHBOR_DISTANCE:10,LINE_CURVE_TOLLERANCE:1.035,LINE_ANGLE_TOLERANCE:30,CURVE_ANGLE_TOLERANCE:90,ELLIPSE_ERROR:8,ELLIPSE_MAX_ERROR:18,ELLIPSE_CIRCLE:.7,PARALLEL_TOLLERANCE:15,CORNER_ANGLE_TOLLERANCE:15,CURVE_ERROR:70},F2=({onComplete:l,onSkip:i})=>{const[u,s]=at.useState(0),[r,f]=at.useState([]),[h,d]=at.useState(!1),[g,m]=at.useState([]),[v,S]=at.useState(!1),[_,N]=at.useState(null),[K,E]=at.useState(!1),[Y,z]=at.useState(null),[T,j]=at.useState(!1),A=at.useRef(null),H=[{type:"circle",instruction:"Draw 5 circles of different sizes",count:5,drawn:0},{type:"rectangle",instruction:"Draw 5 rectangles of different sizes",count:5,drawn:0},{type:"diamond",instruction:"Draw 5 triangles of different sizes",note:"(Triangles will be converted to diamonds)",count:5,drawn:0}],B=H[u],I=g.filter(x=>x.expectedType===B?.type).length,et=B&&I>=B.count,ht=g.length>=9,ut=at.useCallback(x=>{d(!0),f([new Ut(x.x,x.y)])},[]),V=at.useCallback(x=>{h&&f(C=>[...C,new Ut(x.x,x.y)])},[h]),ct=at.useCallback(()=>{if(!h||r.length<5||!B){d(!1),f([]);return}try{const x=nc(r,sa),C={id:`${B.type}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,dots:[...r],expectedType:B.type,detectedType:x.type,target:B.type==="diamond"?"triangle":B.type};z(x.type),j(!0),m(Q=>[...Q,C]),g.filter(Q=>Q.expectedType===B.type).length+1===5&&setTimeout(()=>{u<H.length-1?(s(u+1),j(!1),z(null)):Dt([...g,C])},1e3)}catch(x){console.warn("Calibration shape detection failed:",x),z("failed"),j(!0);const C={id:`${B.type}_failed_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,dots:[...r],expectedType:B.type,detectedType:"unknown",target:B.type==="diamond"?"triangle":B.type};m(Q=>[...Q,C]),g.filter(Q=>Q.expectedType===B.type).length+1===5&&setTimeout(()=>{u<H.length-1?(s(u+1),j(!1),z(null)):Dt([...g,C])},1e3)}d(!1),f([])},[h,r,B]),Dt=at.useCallback(async x=>{S(!0),console.log(`Starting optimization with ${x.length} samples`),console.log("Samples breakdown:",{circles:x.filter(Ct=>Ct.expectedType==="circle").length,rectangles:x.filter(Ct=>Ct.expectedType==="rectangle").length,diamonds:x.filter(Ct=>Ct.expectedType==="diamond").length});const C=zt(x,sa);let $={...sa},Q=C;console.log(`Baseline score with default parameters: ${(C*100).toFixed(1)}%`);const ot={CLOSED_ENDPOINTS_PROXIMITY:[10,15,20,25,30,35,40,45,50],ANGLE_TOLERANCE:[10,15,20,25,30,35,40,45,50],CORNER_NEIGHBOR_DISTANCE:[5,8,10,12,15,18,20,25],LINE_CURVE_TOLLERANCE:[1.01,1.02,1.025,1.03,1.035,1.04,1.045,1.05,1.06],LINE_ANGLE_TOLERANCE:[15,20,25,30,35,40,45],CURVE_ANGLE_TOLERANCE:[60,70,80,90,100,110,120],ELLIPSE_ERROR:[2,3,4,5,6,7,8,9,10],ELLIPSE_MAX_ERROR:[8,10,12,13,15,17,20,22,25],ELLIPSE_CIRCLE:[.6,.65,.7,.75,.8,.85,.9,.95],PARALLEL_TOLLERANCE:[8,10,12,15,18,20,22,25],CORNER_ANGLE_TOLLERANCE:[8,10,12,15,18,20,22,25],CURVE_ERROR:[20,30,40,50,60,70,80,90]};let pt=0;const ft=Object.values(ot).reduce((Ct,Vt)=>Ct+Vt.length,0);for(const[Ct,Vt]of Object.entries(ot))for(const ae of Vt){const It={...$,[Ct]:ae},$t=zt(x,It);pt++,$t>Q&&(Q=$t,$={...It},console.log(`New best score: ${($t*100).toFixed(1)}% with ${Ct}=${ae}`)),pt%10===0&&console.log(`Progress: ${pt}/${ft} tests completed`)}const Ht=Object.keys(ot).filter(Ct=>$[Ct]!==sa[Ct]);if(Ht.length>1){console.log("Testing parameter combinations...");const Ct=[["ELLIPSE_ERROR","ELLIPSE_MAX_ERROR","ELLIPSE_CIRCLE"],["ANGLE_TOLERANCE","LINE_ANGLE_TOLERANCE","CORNER_ANGLE_TOLLERANCE"],["CLOSED_ENDPOINTS_PROXIMITY","CORNER_NEIGHBOR_DISTANCE","PARALLEL_TOLLERANCE"]];for(const Vt of Ct){const ae={...sa};for(const $t of Vt)Ht.includes($t)&&(ae[$t]=$[$t]);const It=zt(x,ae);It>Q&&(Q=It,$={...ae},console.log(`New best score from combination: ${(It*100).toFixed(1)}%`))}}const St=[];for(const[Ct,Vt]of Object.entries($)){const ae=sa[Ct];ae!==Vt&&St.push({parameter:Ct,oldValue:ae,newValue:Vt})}const kt={params:$,score:Q,changes:St};console.log(`Final optimized score: ${(Q*100).toFixed(1)}% (improvement: ${((Q-C)*100).toFixed(1)}%)`),console.log(`Tested ${pt} parameter combinations`),console.log("Final parameter changes:",St),setTimeout(()=>{N(kt),S(!1),E(!0)},1e3)},[]),zt=(x,C)=>{let $=0;for(const Q of x)try{nc(Q.dots,C).type===Q.expectedType&&$++}catch{}return x.length>0?$/x.length:0},Yt=at.useCallback(()=>{_&&l(_.params)},[_,l]),k=at.useCallback(()=>{l(sa)},[l]),nt=at.useCallback(()=>{u<H.length-1?s(u+1):Dt(g)},[u,g,Dt]),O=at.useCallback(()=>{m(x=>x.slice(0,-1)),j(!1),z(null)},[]),it=at.useCallback(()=>{Dt(g)},[g,Dt]);if(v)return b.jsx("div",{className:"calibration-overlay",children:b.jsxs("div",{className:"calibration-modal",children:[b.jsx("h2",{children:"Optimizing Shape Detection..."}),b.jsx("div",{className:"calibration-spinner",children:"⟳"}),b.jsx("p",{children:"Analyzing your drawing patterns to improve accuracy."})]})});if(K&&_){const x=zt(g,sa),C=(_.score-x)*100;return b.jsx("div",{className:"calibration-overlay",children:b.jsxs("div",{className:"calibration-modal",children:[b.jsx("h2",{children:"Calibration Complete!"}),b.jsxs("div",{className:"calibration-results",children:[b.jsxs("div",{className:"score-comparison",children:[b.jsxs("div",{className:"score-item",children:[b.jsx("span",{className:"score-label",children:"Baseline Score:"}),b.jsxs("span",{className:"score-value",children:[(x*100).toFixed(1),"%"]})]}),b.jsxs("div",{className:"score-item",children:[b.jsx("span",{className:"score-label",children:"Optimized Score:"}),b.jsxs("span",{className:"score-value optimized",children:[(_.score*100).toFixed(1),"%"]})]}),b.jsxs("div",{className:"score-item improvement",children:[b.jsx("span",{className:"score-label",children:"Improvement:"}),b.jsxs("span",{className:"score-value",children:[C>=0?"+":"",C.toFixed(1),"%"]})]})]}),_.changes.length>0?b.jsxs("div",{className:"parameter-changes",children:[b.jsx("h3",{children:"Parameter Changes:"}),b.jsx("div",{className:"changes-list",children:_.changes.map(($,Q)=>b.jsxs("div",{className:"change-item",children:[b.jsxs("span",{className:"param-name",children:[$.parameter,":"]}),b.jsxs("span",{className:"param-change",children:[$.oldValue," → ",$.newValue]})]},Q))})]}):b.jsx("div",{className:"no-changes",children:b.jsx("p",{children:"No parameter changes needed. Default settings work well for your drawing style!"})})]}),b.jsxs("div",{className:"calibration-actions",children:[b.jsx("button",{className:"btn btn-secondary",onClick:k,children:"Use Default Settings"}),b.jsx("button",{className:"btn btn-primary",onClick:Yt,children:_.changes.length>0?"Apply Optimizations":"Continue"})]})]})})}return B?b.jsx("div",{className:"calibration-overlay",children:b.jsxs("div",{className:"calibration-modal",children:[b.jsx("h2",{children:"Shape Detection Calibration"}),b.jsx("p",{className:"calibration-intro",children:"Help us optimize shape detection for your drawing style. This will improve accuracy and make the app work better for you."}),b.jsx("div",{className:"calibration-progress",children:b.jsx("div",{className:"calibration-steps",children:H.map((x,C)=>b.jsxs("div",{className:`calibration-step ${C===u?"active":C<u?"completed":""}`,children:[b.jsx("span",{className:"step-icon",children:C<u?"✓":C+1}),b.jsx("span",{className:"step-type",children:x.type==="diamond"?"triangle":x.type})]},x.type))})}),b.jsxs("div",{className:"calibration-instruction",children:[b.jsx("h3",{children:B.instruction}),B.note&&b.jsx("p",{className:"calibration-note",children:B.note}),b.jsxs("p",{children:["Progress: ",I," / ",B.count]})]}),b.jsx("div",{className:"calibration-canvas-container",children:b.jsx(Sy,{ref:A,currentDrawing:r,isDrawing:h,onStartDrawing:ut,onContinueDrawing:V,onFinishDrawing:ct})}),T&&Y&&b.jsx("div",{className:"shape-detection-result",children:b.jsx("p",{className:`detection-feedback ${Y===B.type?"correct":Y==="failed"?"failed":"incorrect"}`,children:Y==="failed"?"❌ Detection failed - try drawing more clearly":Y===B.type?`✅ Detected: ${Y}`:`⚠️ Detected: ${Y} (expected: ${B.type==="diamond"?"triangle":B.type})`})}),b.jsxs("div",{className:"calibration-actions",children:[b.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Skip Calibration"}),g.length>0&&b.jsx("button",{className:"btn btn-warning",onClick:O,children:"Retry Last Shape"}),et&&b.jsx("button",{className:"btn btn-primary",onClick:nt,children:u<H.length-1?"Next Step":"Start Optimization"}),ht&&!et&&b.jsxs("button",{className:"btn btn-primary",onClick:it,disabled:g.length<9,children:["Finish Early (",g.length," samples)"]})]})]})}):null},P2=({onDismiss:l})=>{const[i,u]=at.useState(!1),[s,r]=at.useState(!0);at.useEffect(()=>{const d=setTimeout(()=>{u(!0)},500);return()=>clearTimeout(d)},[]);const f=()=>{u(!1),setTimeout(()=>{r(!1),l()},300)},h=()=>{localStorage.setItem("flowchart-instructions-seen","true"),f()};return!s&&!i?null:b.jsx("div",{className:`first-time-instructions ${i?"visible":"hidden"}`,style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:9999,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"1.5rem 2rem",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",maxWidth:"600px",width:"90%",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",opacity:i?1:0,transition:"all 0.3s ease-out",pointerEvents:"auto"},children:b.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[b.jsx("div",{style:{fontSize:"2rem",flexShrink:0},children:"✨"}),b.jsxs("div",{style:{flex:1},children:[b.jsx("h3",{style:{margin:"0 0 0.75rem 0",fontSize:"1.2rem",fontWeight:"600",color:"white"},children:"Welcome to Flowchart Builder!"}),b.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",marginBottom:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:[b.jsxs("p",{style:{margin:"0 0 0.5rem 0"},children:[b.jsx("strong",{children:"🖱️ Desktop:"})," Draw shapes by clicking and dragging. Use Space + drag to pan, mouse wheel to zoom."]}),b.jsxs("p",{style:{margin:"0 0 0.5rem 0"},children:[b.jsx("strong",{children:"📱 Mobile:"})," Touch and drag to draw. Pinch to zoom, two-finger drag to pan."]}),b.jsxs("p",{style:{margin:"0"},children:[b.jsx("strong",{children:"🔗 Connections:"})," Draw lines between shapes to connect them automatically!"]})]}),b.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[b.jsx("button",{onClick:f,style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},children:"Skip"}),b.jsx("button",{onClick:h,style:{background:"rgba(255, 255, 255, 0.9)",border:"none",color:"#4c1d95",padding:"0.5rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.background="white",d.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:d=>{d.currentTarget.style.background="rgba(255, 255, 255, 0.9)",d.currentTarget.style.transform="translateY(0)"},children:"Got it!"})]})]})]})})};function tb(){const i=(()=>{const U=an.loadState();if(U)return{diagram:U.diagram,panel:U.panel,history:U.history};const q=an.getDefaultDiagramState();return{diagram:q,panel:an.getDefaultPanelState(),history:he.createInitialHistory(q)}})(),[u,s]=at.useState(i.diagram),[r,f]=at.useState(i.panel),[h,d]=at.useState(i.history),[g,m]=at.useState(null),[v,S]=at.useState([]),[_,N]=at.useState(!1),[K,E]=at.useState(null),[Y,z]=at.useState(null),[T,j]=at.useState(!1),[A,H]=at.useState(!1),[B,I]=at.useState(void 0),et=at.useRef(null),ht=at.useRef(null),ut=at.useRef(null),V=at.useRef(i.panel.viewport),ct=at.useCallback((U,q)=>{s(U),d(rt=>he.pushState(rt,U,q))},[]),Dt=at.useCallback(()=>{const U=he.undo(h);U&&(s({...U.state,editingNodeId:null}),d(U.history))},[h]),zt=at.useCallback(()=>{const U=he.redo(h);U&&(s({...U.state,editingNodeId:null}),d(U.history))},[h]);at.useEffect(()=>{an.saveState(u,r,h)},[u,r,h]),at.useEffect(()=>{!localStorage.getItem("flowchart-instructions-seen")&&r.calibrated&&H(!0)},[r.calibrated]);const Yt=at.useCallback((U,q)=>{ut.current=U,V.current=q,f(rt=>({...rt,viewport:q}))},[]),k=at.useCallback(U=>{E(U)},[]),nt=at.useCallback(U=>{const q=ht.current;if(!q)return;const rt=q.clientWidth,yt=q.clientHeight,Rt=V.current.zoom,Ot=rt/2-U.x*Rt,Mt=yt/2-U.y*Rt,de={zoom:Rt,panX:Ot,panY:Mt};V.current=de,f(Wt=>({...Wt,viewport:de})),I({...de,timestamp:Date.now()})},[]),O=at.useCallback(U=>{N(!0),S([new Ut(U.x,U.y)])},[]),it=at.useCallback(U=>{_&&S(q=>[...q,new Ut(U.x,U.y)])},[_]),x=at.useCallback(()=>{if(!_||v.length<5){N(!1),S([]);return}try{const q=nc(v,g||{CLOSED_ENDPOINTS_PROXIMITY:50,ANGLE_TOLERANCE:30,CORNER_NEIGHBOR_DISTANCE:10,LINE_CURVE_TOLLERANCE:1.035,LINE_ANGLE_TOLERANCE:30,CURVE_ANGLE_TOLERANCE:90,ELLIPSE_ERROR:8,ELLIPSE_MAX_ERROR:18,ELLIPSE_CIRCLE:.7,PARALLEL_TOLLERANCE:15,CORNER_ANGLE_TOLLERANCE:15,CURVE_ERROR:70});console.log("Detected figure:",q.type,"from",v.length,"points");const rt=pe.processShape(q,v);if(rt){console.log("Processed shape:",rt.type,"at position:",rt.position,"size:",rt.size);const yt=ut.current?ut.current(rt.position):rt.position,Rt=V.current.zoom,Ot={width:rt.size.width/Rt,height:rt.size.height/Rt};console.log("Transformed to world coords:","position:",yt,"size:",Ot);const Mt={id:`node_${Date.now()}`,type:rt.type,figure:rt.figure,originalDots:v,position:yt,size:Ot,label:rt.type},de={...u,nodes:[...u.nodes,Mt],selectedNodeId:Mt.id,editingNodeId:Mt.id};ct(de,`Add ${Mt.type} node`)}else{const yt=pe.processLine(q,v);if(yt){console.log("Processed line:",yt.figure.type,"from",yt.startPoint,"to",yt.endPoint);const Rt=ut.current?ut.current({x:yt.startPoint.x,y:yt.startPoint.y}):{x:yt.startPoint.x,y:yt.startPoint.y},Ot=ut.current?ut.current({x:yt.endPoint.x,y:yt.endPoint.y}):{x:yt.endPoint.x,y:yt.endPoint.y},Mt={...yt,startPoint:{x:Rt.x,y:Rt.y},endPoint:{x:Ot.x,y:Ot.y}},de=V.current.zoom,Wt=qr.detectConnectionFromLine(Mt,u.nodes,de);if(Wt)if(u.connections.some(we=>we.from===Wt.from&&we.to===Wt.to||we.from===Wt.to&&we.to===Wt.from))console.log("Connection already exists - line discarded");else{console.log(`Line created connection: ${Wt.from} -> ${Wt.to}`);const we=u.nodes.find(ja=>ja.id===Wt.from),Nl=u.nodes.find(ja=>ja.id===Wt.to),Oa={...u,connections:[...u.connections,Wt],selectedNodeId:null};ct(Oa,`Connect "${we?.label}" to "${Nl?.label}"`)}else console.log("Line discarded - no valid connection detected")}}}catch(U){console.warn("Shape detection failed:",U)}N(!1),S([])},[_,v]),C=at.useCallback(U=>{const q=ht.current;if(!q)return{x:0,y:0};const rt=q.getBoundingClientRect();return{x:U.clientX-rt.left,y:U.clientY-rt.top}},[]),$=at.useCallback(()=>{s(U=>({...U,selectedNodeId:null,selectedConnectionId:null,editingNodeId:null}))},[]),Q=at.useCallback(U=>{u.selectedNodeId&&$();const q=C(U);O(q)},[C,O,u.selectedNodeId,$]),ot=at.useCallback(U=>{const q=C(U);it(q)},[C,it]),pt=at.useCallback(()=>{x()},[x]),ft=at.useCallback(U=>{s(q=>({...q,selectedNodeId:q.selectedNodeId===U?null:U,selectedConnectionId:null,editingNodeId:null}))},[]),Ht=at.useCallback(U=>{s(q=>({...q,editingNodeId:U,selectedNodeId:U,selectedConnectionId:null}))},[]),St=at.useCallback((U,q)=>{const yt=u.nodes.find(Ot=>Ot.id===U)?.label,Rt={...u,nodes:u.nodes.map(Ot=>Ot.id===U?{...Ot,label:q}:Ot),editingNodeId:null};yt!==q?ct(Rt,`Rename "${yt}" to "${q}"`):s(Rt)},[u,ct]),kt=at.useCallback((U,q)=>{s(rt=>({...rt,nodes:rt.nodes.map(yt=>yt.id===U?{...yt,position:q}:yt)}))},[]),Ct=at.useCallback((U,q)=>{s(rt=>({...rt,nodes:rt.nodes.map(yt=>yt.id===U?{...yt,size:q}:yt)}))},[]),Vt=at.useCallback(U=>{const q=u.nodes.find(rt=>rt.id===U);q&&ct(u,`Move "${q.label}"`)},[u,ct]),ae=at.useCallback(U=>{const q=u.nodes.find(rt=>rt.id===U);q&&ct(u,`Resize "${q.label}"`)},[u,ct]),It=at.useCallback(()=>{if(window.confirm("This will clear your entire flowchart and reset all settings. Are you sure?")){const U=an.getDefaultPanelState(),q=an.getDefaultDiagramState(),rt={...U,calibrated:r.calibrated};s(q),f(rt),S([]),N(!1),V.current=rt.viewport,d(he.createInitialHistory(q)),an.clearState(),an.saveState(q,rt,he.createInitialHistory(q))}},[r.calibrated]),$t=at.useCallback(U=>{const q=u.nodes.find(Mt=>Mt.id===U);if(!q)return;const rt=u.connections.filter(Mt=>Mt.from===U||Mt.to===U),yt={...u,nodes:u.nodes.filter(Mt=>Mt.id!==U),selectedNodeId:u.selectedNodeId===U?null:u.selectedNodeId,selectedConnectionId:rt.some(Mt=>Mt.id===u.selectedConnectionId)?null:u.selectedConnectionId,editingNodeId:u.editingNodeId===U?null:u.editingNodeId,connections:u.connections.filter(Mt=>Mt.from!==U&&Mt.to!==U)},Rt=rt.length,Ot=Rt>0?`Delete "${q.label}" and ${Rt} connection${Rt>1?"s":""}`:`Delete "${q.label}"`;ct(yt,Ot)},[u,ct]),De=at.useCallback(U=>{const q=u.connections.find(Mt=>Mt.id===U);if(!q)return;const rt=u.nodes.find(Mt=>Mt.id===q.from),yt=u.nodes.find(Mt=>Mt.id===q.to),Rt={...u,selectedConnectionId:u.selectedConnectionId===U?null:u.selectedConnectionId,connections:u.connections.filter(Mt=>Mt.id!==U)},Ot=`Delete connection "${rt?.label}" → "${yt?.label}"`;ct(Rt,Ot)},[u,ct]),D=at.useCallback(U=>{s(q=>({...q,selectedNodeId:q.selectedNodeId===U?null:U||null,selectedConnectionId:null,editingNodeId:null}))},[]),P=at.useCallback(U=>{s(q=>({...q,selectedNodeId:null,selectedConnectionId:q.selectedConnectionId===U?null:U,editingNodeId:null}))},[]),tt=at.useCallback(()=>{f(U=>({...U,sidebarVisible:!U.sidebarVisible}))},[]),lt=at.useCallback(U=>{f(q=>({...q,openSections:{...q.openSections,[U]:!q.openSections[U]}}))},[]),dt=at.useCallback((U,q,rt)=>{s(U),f(q),d(rt),S([]),N(!1),V.current=q.viewport},[]),st=at.useCallback(U=>{U?.currentTarget&&U.currentTarget.blur(),s(q=>{if(q.nodes.length===0)return Ur.error("Cannot apply auto layout: No nodes to layout"),q;const rt=zi.validateLayout(q.nodes,q.connections);if(!rt.canProceed){const yt=`Cannot apply auto layout: ${rt.issues.join(", ")}`;return Ur.error(yt,5e3),q}try{const yt=ht.current,Rt=yt?yt.clientWidth:800,Ot=yt?yt.clientHeight:600,Mt=zi.layoutNodes(q.nodes,q.connections),de=zi.centerLayout(Mt,Rt,Ot),Wt={...q,nodes:de,selectedNodeId:null,selectedConnectionId:null,editingNodeId:null};return d(_e=>he.pushState(_e,Wt,"Apply auto layout")),Wt}catch(yt){return console.error("Auto layout failed:",yt),Ur.error("Auto layout failed. Please try again."),q}})},[]);at.useEffect(()=>{const U=q=>{if(q.target instanceof HTMLInputElement||q.target instanceof HTMLTextAreaElement)return;const rt=q.ctrlKey||q.metaKey;if(rt&&q.key==="z"&&!q.shiftKey)q.preventDefault(),Dt();else if(rt&&(q.key==="y"||q.key==="z"&&q.shiftKey))q.preventDefault(),zt();else if(rt&&q.key==="a")q.preventDefault(),u.nodes.length>0&&D(u.nodes[0].id);else if(q.key==="Delete"||q.key==="Backspace")q.preventDefault(),u.selectedNodeId?$t(u.selectedNodeId):u.selectedConnectionId&&De(u.selectedConnectionId);else if(q.key==="Escape")q.preventDefault(),$();else if(rt&&q.key==="c"){if(q.preventDefault(),u.nodes.length>0){const yt=Fu.export(u.nodes,u.connections);Fu.copyToClipboard(yt)}}else if(rt&&q.key==="s"){if(q.preventDefault(),u.nodes.length>0){const yt=an.exportState(u,r,h),Rt=new Blob([yt],{type:"application/json"}),Ot=URL.createObjectURL(Rt),Mt=document.createElement("a");Mt.href=Ot,Mt.download=`flowchart-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),URL.revokeObjectURL(Ot)}}else if(q.key==="F9"||rt&&q.key==="b")q.preventDefault(),tt();else if(rt&&q.key==="l")q.preventDefault(),st();else if(rt&&q.shiftKey&&q.key==="Delete")q.preventDefault(),It();else if(q.key==="Tab"&&!q.shiftKey){if(q.preventDefault(),u.nodes.length>0){const Rt=((u.selectedNodeId?u.nodes.findIndex(Ot=>Ot.id===u.selectedNodeId):-1)+1)%u.nodes.length;D(u.nodes[Rt].id)}}else if(q.key==="Tab"&&q.shiftKey){if(q.preventDefault(),u.nodes.length>0){const yt=u.selectedNodeId?u.nodes.findIndex(Ot=>Ot.id===u.selectedNodeId):0,Rt=yt===0?u.nodes.length-1:yt-1;D(u.nodes[Rt].id)}}else(q.key==="Enter"||q.key==="F2")&&(q.preventDefault(),u.selectedNodeId&&Ht(u.selectedNodeId))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[Dt,zt,u,r,h,D,$t,De,$,tt,It,Ht,st]);const mt=at.useCallback(U=>{m(U),f(q=>({...q,calibrated:!0})),j(!1)},[]),vt=at.useCallback(()=>{f(U=>({...U,calibrated:!0})),j(!1)},[]),Nt=at.useCallback(()=>{j(!0)},[]),xt=at.useCallback(()=>{H(!1)},[]),_t=Fu.export(u.nodes,u.connections);return!r.calibrated||T?b.jsx("div",{className:"app",children:b.jsx(F2,{onComplete:mt,onSkip:vt})}):b.jsxs("div",{className:"app",children:[b.jsxs("header",{className:"header",children:[b.jsxs("div",{className:"header-left",children:[b.jsx("h1",{children:"Flowchart Builder"}),b.jsx("button",{className:"btn btn-secondary btn-small",onClick:Nt,title:"Recalibrate shape detection for your drawing style",children:"⚙️ Calibrate"})]}),b.jsxs("div",{className:"header-actions",children:[b.jsx("div",{className:"status-indicator",children:"Draw shapes and lines - connections auto-detected"}),b.jsx("button",{className:"btn btn-danger",onClick:It,disabled:u.nodes.length===0&&u.connections.length===0&&!an.hasSavedState(),title:"Clear all diagram content and reset settings",children:"Clear All"})]})]}),b.jsx("div",{className:"main-content",children:b.jsxs("div",{className:"canvas-container",ref:ht,children:[b.jsx(Sy,{ref:et,currentDrawing:v,isDrawing:_,onStartDrawing:O,onContinueDrawing:it,onFinishDrawing:x}),b.jsx(Hp,{nodes:u.nodes,connections:u.connections,selectedNodeId:u.selectedNodeId,selectedConnectionId:u.selectedConnectionId,editingNodeId:u.editingNodeId,hoveredElement:Y,initialViewport:r.viewport,onNodeSelect:ft,onConnectionSelect:P,onNodeDoubleClick:Ht,onNodeLabelChange:St,onNodeMove:kt,onNodeResize:Ct,onNodeMoveEnd:Vt,onNodeResizeEnd:ae,onHoverElement:z,onCanvasPointerDown:Q,onCanvasPointerMove:ot,onCanvasPointerUp:pt,onViewportChange:Yt,onMinimapUpdate:k,externalViewportChange:B}),b.jsx("button",{className:"auto-layout-btn",onClick:st,onPointerDown:U=>{U.stopPropagation()},onPointerUp:U=>{U.stopPropagation(),U.currentTarget.blur()},disabled:u.nodes.length===0,title:"Apply automatic layout to organize nodes",children:"🔄 Auto Layout"}),b.jsx("button",{className:"sidebar-toggle",onClick:tt,onPointerDown:U=>{U.stopPropagation()},onPointerUp:U=>{U.stopPropagation(),U.currentTarget.blur()},title:r.sidebarVisible?"Hide sidebar":"Show sidebar",children:r.sidebarVisible?"✕":"☰"}),b.jsx(nv,{className:r.sidebarVisible?"":"hidden",state:u,panelState:r,history:h,mermaidCode:_t,minimapData:K,hoveredElement:Y,onDeleteNode:$t,onDeleteConnection:De,onHoverElement:z,onSelectNode:D,onSelectConnection:P,onSectionToggle:lt,onImportDiagram:dt,onUndo:Dt,onRedo:zt,onMinimapNavigate:nt})]})}),A&&b.jsx(P2,{onDismiss:xt})]})}yp.createRoot(document.getElementById("root")).render(b.jsx(at.StrictMode,{children:b.jsx(tb,{})}));
